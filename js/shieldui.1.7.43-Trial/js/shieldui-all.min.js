/* Shield UI 1.7.43 Trial Version | Copyright 2013-2022 Shield UI Ltd. | http://www.shieldui.com/eula | Expires on Mon, 09 May 2022 03:00:26 GMT */
function f(e){this.ok=!1,e=(e=(e="#"==e.charAt(0)?e.substr(1,6):e).replace(/ /g,"")).toLowerCase();var t,u={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(t in u)e==t&&(e=u[t]);for(var c=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],n=0;n<c.length;n++){var i=c[n].re,r=c[n].process,i=i.exec(e);i&&(channels=r(i),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:255<this.r?255:this.r,this.g=this.g<0||isNaN(this.g)?0:255<this.g?255:this.g,this.b=this.b<0||isNaN(this.b)?0:255<this.b?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return"#"+(e=1==e.length?"0"+e:e)+(t=1==t.length?"0"+t:t)+(n=1==n.length?"0"+n:n)},this.getHelpXML=function(){for(var e,t=new Array,n=0;n<c.length;n++)for(var i=c[n].example,r=0;r<i.length;r++)t[t.length]=i[r];for(e in u)t[t.length]=e;var a=document.createElement("ul");a.setAttribute("id","rgbcolor-examples");for(n=0;n<t.length;n++)try{var s=document.createElement("li"),o=new f(t[n]),l=document.createElement("div"),h=(l.style.cssText="margin: 3px; border: 1px solid black; background:"+o.toHex()+"; color:"+o.toHex(),l.appendChild(document.createTextNode("test")),document.createTextNode(" "+t[n]+" -> "+o.toRGB()+" -> "+o.toHex()));s.appendChild(l),s.appendChild(h),a.appendChild(s)}catch(e){}return a}}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(h){var u,c,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],t="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],f=Array.prototype.slice;if(h.event.fixHooks)for(var n=e.length;n;)h.event.fixHooks[e[--n]]=h.event.mouseHooks;var d=h.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],i,!1);else this.onmousewheel=i;h.data(this,"mousewheel-line-height",d.getLineHeight(this)),h.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],i,!1);else this.onmousewheel=null;h.removeData(this,"mousewheel-line-height"),h.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var e=h(e),t=e["offsetParent"in h.fn?"offsetParent":"parent"]();return t.length||(t=h("body")),parseInt(t.css("fontSize"),10)||parseInt(e.css("fontSize"),10)||16},getPageHeight:function(e){return h(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function i(e){var t,n=e||window.event,i=f.call(arguments,1),r=0,a=0,s=0,o=0,l=0;if((e=h.event.fix(n)).type="mousewheel","detail"in n&&(s=-1*n.detail),"wheelDelta"in n&&(s=n.wheelDelta),"wheelDeltaY"in n&&(s=n.wheelDeltaY),"wheelDeltaX"in n&&(a=-1*n.wheelDeltaX),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(a=-1*s,s=0),r=0===s?a:s,"deltaY"in n&&(r=s=-1*n.deltaY),"deltaX"in n&&(a=n.deltaX,0===s&&(r=-1*a)),0!==s||0!==a)return 1===n.deltaMode?(r*=t=h.data(this,"mousewheel-line-height"),s*=t,a*=t):2===n.deltaMode&&(r*=t=h.data(this,"mousewheel-page-height"),s*=t,a*=t),t=Math.max(Math.abs(s),Math.abs(a)),(!c||t<c)&&p(n,c=t)&&(c/=40),p(n,t)&&(r/=40,a/=40,s/=40),r=Math[1<=r?"floor":"ceil"](r/c),a=Math[1<=a?"floor":"ceil"](a/c),s=Math[1<=s?"floor":"ceil"](s/c),d.settings.normalizeOffset&&this.getBoundingClientRect&&(n=this.getBoundingClientRect(),o=e.clientX-n.left,l=e.clientY-n.top),e.deltaX=a,e.deltaY=s,e.deltaFactor=c,e.offsetX=o,e.offsetY=l,e.deltaMode=0,i.unshift(e,r,a,s),u&&clearTimeout(u),u=setTimeout(g,200),(h.event.dispatch||h.event.handle).apply(this,i)}function g(){c=null}function p(e,t){return d.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}h.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(){this.canvg=function(e,t,n){if(null!=e||null!=t||null!=n){n=n||{},null!=(e="string"==typeof e?document.getElementById(e):e).svg&&e.svg.stop();(P={FRAMERATE:30,MAX_VIRTUAL_PIXELS:3e4,init:function(e){P.Definitions={},P.Styles={},P.Animations=[],P.Images=[],P.ctx=e,P.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(e,t){this.viewPorts.push({width:e,height:t})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(e){return null!=e&&"number"==typeof e?e:"x"==e?this.width():"y"==e?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}}}).init(),P.ImagesLoaded=function(){for(var e=0;e<P.Images.length;e++)if(!P.Images[e].loaded)return!1;return!0},P.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},P.compressSpaces=function(e){return e.replace(/[\s\r\t\n]+/gm," ")},P.ajax=function(e){var t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return t?(t.open("GET",e,!1),t.send(null),t.responseText):null},P.parseXml=function(e){var t;return window.DOMParser?(new DOMParser).parseFromString(e,"text/xml"):(e=e.replace(/<!DOCTYPE svg[^>]*>/,""),(t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e),t)},P.Property=function(e,t){this.name=e,this.value=t},P.Property.prototype.getValue=function(){return this.value},P.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},P.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var e=parseFloat(this.value);return(this.value+"").match(/%$/)&&(e/=100),e},P.Property.prototype.valueOrDefault=function(e){return this.hasValue()?this.value:e},P.Property.prototype.numValueOrDefault=function(e){return this.hasValue()?this.numValue():e},P.Property.prototype.addOpacity=function(e){var t,n=this.value;return null==e||""==e||"string"!=typeof this.value||(t=new f(this.value)).ok&&(n="rgba("+t.r+", "+t.g+", "+t.b+", "+e+")"),new P.Property(this.name,n)},P.Property.prototype.getDefinition=function(){var e=this.value.match(/#([^\)']+)/);return e=(e=e&&e[1])||this.value,P.Definitions[e]},P.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},P.Property.prototype.getFillStyleDefinition=function(e,t){var n=this.getDefinition();return null!=n&&n.createGradient?n.createGradient(P.ctx,e,t):null!=n&&n.createPattern?n.createPattern(P.ctx,e):null},P.Property.prototype.getDPI=function(e){return 96},P.Property.prototype.getEM=function(e){var t=12,n=new P.Property("fontSize",P.Font.Parse(P.ctx.font).fontSize);return t=n.hasValue()?n.toPixels(e):t},P.Property.prototype.getUnits=function(){return(this.value+"").replace(/[0-9\.\-]/g,"")},P.Property.prototype.toPixels=function(e,t){if(!this.hasValue())return 0;var n=this.value+"";if(n.match(/em$/))return this.numValue()*this.getEM(e);if(n.match(/ex$/))return this.numValue()*this.getEM(e)/2;if(n.match(/px$/))return this.numValue();if(n.match(/pt$/))return this.numValue()*this.getDPI(e)*(1/72);if(n.match(/pc$/))return 15*this.numValue();if(n.match(/cm$/))return this.numValue()*this.getDPI(e)/2.54;if(n.match(/mm$/))return this.numValue()*this.getDPI(e)/25.4;if(n.match(/in$/))return this.numValue()*this.getDPI(e);if(n.match(/%$/))return this.numValue()*P.ViewPort.ComputeSize(e);n=this.numValue();return t&&n<1?n*P.ViewPort.ComputeSize(e):n},P.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(/s$/)?1e3*this.numValue():(e.match(/ms$/),this.numValue())},P.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(/deg$/)?this.numValue()*(Math.PI/180):e.match(/grad$/)?this.numValue()*(Math.PI/200):e.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)},P.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(e,t,n,i,r,a){a=null!=a?this.Parse(a):this.CreateFont("","","","","",P.ctx.font);return{fontFamily:r||a.fontFamily,fontSize:i||a.fontSize,fontStyle:e||a.fontStyle,fontWeight:n||a.fontWeight,fontVariant:t||a.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var s=this;this.Parse=function(e){for(var t={},n=P.trim(P.compressSpaces(e||"")).split(" "),i={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},r="",a=0;a<n.length;a++)i.fontStyle||-1==s.Styles.indexOf(n[a])?i.fontVariant||-1==s.Variants.indexOf(n[a])?i.fontWeight||-1==s.Weights.indexOf(n[a])?i.fontSize?"inherit"!=n[a]&&(r+=n[a]):("inherit"!=n[a]&&(t.fontSize=n[a].split("/")[0]),i.fontStyle=i.fontVariant=i.fontWeight=i.fontSize=!0):("inherit"!=n[a]&&(t.fontWeight=n[a]),i.fontStyle=i.fontVariant=i.fontWeight=!0):("inherit"!=n[a]&&(t.fontVariant=n[a]),i.fontStyle=i.fontVariant=!0):("inherit"!=n[a]&&(t.fontStyle=n[a]),i.fontStyle=!0);return""!=r&&(t.fontFamily=r),t}},P.ToNumberArray=function(e){for(var t=P.trim(P.compressSpaces((e||"").replace(/,/g," "))).split(" "),n=0;n<t.length;n++)t[n]=parseFloat(t[n]);return t},P.Point=function(e,t){this.x=e,this.y=t},P.Point.prototype.angleTo=function(e){return Math.atan2(e.y-this.y,e.x-this.x)},P.Point.prototype.applyTransform=function(e){var t=this.x*e[0]+this.y*e[2]+e[4],e=this.x*e[1]+this.y*e[3]+e[5];this.x=t,this.y=e},P.CreatePoint=function(e){e=P.ToNumberArray(e);return new P.Point(e[0],e[1])},P.CreatePath=function(e){for(var t=P.ToNumberArray(e),n=[],i=0;i<t.length;i+=2)n.push(new P.Point(t[i],t[i+1]));return n},P.BoundingBox=function(e,t,n,r){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(e,t){null!=e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),null!=t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},this.addX=function(e){this.addPoint(e,null)},this.addY=function(e){this.addPoint(null,e)},this.addBoundingBox=function(e){this.addPoint(e.x1,e.y1),this.addPoint(e.x2,e.y2)},this.addQuadraticCurve=function(e,t,n,i,r,a){n=e+2/3*(n-e),i=t+2/3*(i-t);this.addBezierCurve(e,t,n,n+1/3*(r-e),i,i+1/3*(a-t),r,a)},this.addBezierCurve=function(c,f,d,p,g,m,x,y){var t=[c,f],n=[d,p],r=[g,m],a=[x,y];for(this.addPoint(t[0],t[1]),this.addPoint(a[0],a[1]),i=0;i<=1;i++){function e(e){return Math.pow(1-e,3)*t[i]+3*Math.pow(1-e,2)*e*n[i]+3*(1-e)*Math.pow(e,2)*r[i]+Math.pow(e,3)*a[i]}var s,o,l=6*t[i]-12*n[i]+6*r[i],h=-3*t[i]+9*n[i]-9*r[i]+3*a[i],u=3*n[i]-3*t[i];0!=h?(o=Math.pow(l,2)-4*u*h)<0||(0<(s=(-l+Math.sqrt(o))/(2*h))&&s<1&&(0==i&&this.addX(e(s)),1==i&&this.addY(e(s))),0<(s=(-l-Math.sqrt(o))/(2*h))&&s<1&&(0==i&&this.addX(e(s)),1==i&&this.addY(e(s)))):0==l||0<(o=-u/l)&&o<1&&(0==i&&this.addX(e(o)),1==i&&this.addY(e(o)))}},this.isPointInBox=function(e,t){return this.x1<=e&&e<=this.x2&&this.y1<=t&&t<=this.y2},this.addPoint(e,t),this.addPoint(n,r)},P.Transform=function(e){for(var t=this,n=(this.Type={},this.Type.translate=function(e){this.p=P.CreatePoint(e),this.apply=function(e){e.translate(this.p.x||0,this.p.y||0)},this.applyToPoint=function(e){e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(e){e=P.ToNumberArray(e);this.angle=new P.Property("angle",e[0]),this.cx=e[1]||0,this.cy=e[2]||0,this.apply=function(e){e.translate(this.cx,this.cy),e.rotate(this.angle.toRadians()),e.translate(-this.cx,-this.cy)},this.applyToPoint=function(e){var t=this.angle.toRadians();e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),e.applyTransform([Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0]),e.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(e){this.p=P.CreatePoint(e),this.apply=function(e){e.scale(this.p.x||1,this.p.y||this.p.x||1)},this.applyToPoint=function(e){e.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(e){this.m=P.ToNumberArray(e),this.apply=function(e){e.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.applyToPoint=function(e){e.applyTransform(this.m)}},this.Type.SkewBase=function(e){this.base=t.Type.matrix,this.base(e),this.angle=new P.Property("angle",e)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(e){this.base=t.Type.SkewBase,this.base(e),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(e){this.base=t.Type.SkewBase,this.base(e),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].apply(e)},this.applyToPoint=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].applyToPoint(e)},P.trim(P.compressSpaces(e)).replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)),i=0;i<n.length;i++){var r=n[i].split("(")[0],a=n[i].split("(")[1].replace(")",""),a=new this.Type[r](a);a.type=r,this.transforms.push(a)}},P.AspectRatio=function(e,t,u,n,c,i,f,d,r,p){var a=(t=(t=P.compressSpaces(t)).replace(/^defer\s/,"")).split(" ")[0]||"xMidYMid",t=t.split(" ")[1]||"meet",s=u/n,o=c/i,l=Math.min(s,o),h=Math.max(s,o);"meet"==t&&(n*=l,i*=l),"slice"==t&&(n*=h,i*=h),r=new P.Property("refX",r),p=new P.Property("refY",p),r.hasValue()&&p.hasValue()?e.translate(-l*r.toPixels("x"),-l*p.toPixels("y")):(a.match(/^xMid/)&&("meet"==t&&l==o||"slice"==t&&h==o)&&e.translate(u/2-n/2,0),a.match(/YMid$/)&&("meet"==t&&l==s||"slice"==t&&h==s)&&e.translate(0,c/2-i/2),a.match(/^xMax/)&&("meet"==t&&l==o||"slice"==t&&h==o)&&e.translate(u-n,0),a.match(/YMax$/)&&("meet"==t&&l==s||"slice"==t&&h==s)&&e.translate(0,c-i)),"none"==a?e.scale(s,o):"meet"==t?e.scale(l,l):"slice"==t&&e.scale(h,h),e.translate(null==f?0:-f,null==d?0:-d)},P.Element={},P.EmptyProperty=new P.Property("EMPTY",""),P.Element.ElementBase=function(e){if(this.attributes={},this.styles={},this.children=[],this.attribute=function(e,t){var n=this.attributes[e];return null!=n?n:(1==t&&(n=new P.Property(e,""),this.attributes[e]=n),n||P.EmptyProperty)},this.style=function(e,t){var n=this.styles[e];if(null!=n)return n;var i=this.attribute(e);if(null!=i&&i.hasValue())return this.styles[e]=i;i=this.parent;if(null!=i){i=i.style(e);if(null!=i&&i.hasValue())return i}return 1==t&&(n=new P.Property(e,""),this.styles[e]=n),n||P.EmptyProperty},this.render=function(e){var t;"none"!=this.style("display").value&&"hidden"!=this.attribute("visibility").value&&(e.save(),this.attribute("mask").hasValue()?null!=(t=this.attribute("mask").getDefinition())&&t.apply(e,this):this.style("filter").hasValue()?null!=(t=this.style("filter").getDefinition())&&t.apply(e,this):(this.setContext(e),this.renderChildren(e),this.clearContext(e)),e.restore())},this.setContext=function(e){},this.clearContext=function(e){},this.renderChildren=function(e){for(var t=0;t<this.children.length;t++)this.children[t].render(e)},this.addChild=function(e,t){var n=e;((n=t?P.CreateElement(e):n).parent=this).children.push(n)},null!=e&&1==e.nodeType){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];1==n.nodeType&&this.addChild(n,!0),this.captureTextNodes&&3==n.nodeType&&this.addChild(new P.Element.tspan(n),!1)}for(t=0;t<e.attributes.length;t++){var i=e.attributes[t];this.attributes[i.nodeName]=new P.Property(i.nodeName,i.nodeValue)}if(null!=(l=P.Styles[e.nodeName]))for(var r in l)this.styles[r]=l[r];if(this.attribute("class").hasValue())for(var a=P.compressSpaces(this.attribute("class").value).split(" "),s=0;s<a.length;s++){if(null!=(l=P.Styles["."+a[s]]))for(var r in l)this.styles[r]=l[r];if(null!=(l=P.Styles[e.nodeName+"."+a[s]]))for(var r in l)this.styles[r]=l[r]}if(this.attribute("id").hasValue())if(null!=(l=P.Styles["#"+this.attribute("id").value]))for(var r in l)this.styles[r]=l[r];if(this.attribute("style").hasValue())for(var o,l=this.attribute("style").value.split(";"),t=0;t<l.length;t++)""!=P.trim(l[t])&&(o=l[t].split(":"),r=P.trim(o[0]),o=P.trim(o[1]),this.styles[r]=new P.Property(r,o));this.attribute("id").hasValue()&&null==P.Definitions[this.attribute("id").value]&&(P.Definitions[this.attribute("id").value]=this)}},P.Element.RenderedElementBase=function(e){this.base=P.Element.ElementBase,this.base(e),this.setContext=function(e){var t,n,i;this.style("fill").isUrlDefinition()?null!=(i=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity")))&&(e.fillStyle=i):this.style("fill").hasValue()&&("currentColor"==(n=this.style("fill")).value&&(n.value=this.style("color").value),e.fillStyle="none"==n.value?"rgba(0,0,0,0)":n.value),this.style("fill-opacity").hasValue()&&(n=(n=new P.Property("fill",e.fillStyle)).addOpacity(this.style("fill-opacity").value),e.fillStyle=n.value),this.style("stroke").isUrlDefinition()?null!=(i=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity")))&&(e.strokeStyle=i):this.style("stroke").hasValue()&&("currentColor"==(t=this.style("stroke")).value&&(t.value=this.style("color").value),e.strokeStyle="none"==t.value?"rgba(0,0,0,0)":t.value),this.style("stroke-opacity").hasValue()&&(t=(t=new P.Property("stroke",e.strokeStyle)).addOpacity(this.style("stroke-opacity").value),e.strokeStyle=t.value),this.style("stroke-width").hasValue()&&(n=this.style("stroke-width").toPixels(),e.lineWidth=0==n?.001:n),this.style("stroke-linecap").hasValue()&&(e.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(e.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(e.miterLimit=this.style("stroke-miterlimit").value),void 0!==e.font&&(e.font=P.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.attribute("transform").hasValue()&&new P.Transform(this.attribute("transform").value).apply(e),!this.attribute("clip-path").hasValue()||null!=(i=this.attribute("clip-path").getDefinition())&&i.apply(e),this.style("opacity").hasValue()&&(e.globalAlpha=this.style("opacity").numValue())}},P.Element.RenderedElementBase.prototype=new P.Element.ElementBase,P.Element.PathElementBase=function(e){this.base=P.Element.RenderedElementBase,this.base(e),this.path=function(e){return null!=e&&e.beginPath(),new P.BoundingBox},this.renderChildren=function(e){this.path(e),P.Mouse.checkPath(this,e),""!=e.fillStyle&&e.fill(),""!=e.strokeStyle&&e.stroke();var t=this.getMarkers();if(null!=t){if(this.style("marker-start").isUrlDefinition()&&(n=this.style("marker-start").getDefinition()).render(e,t[0][0],t[0][1]),this.style("marker-mid").isUrlDefinition())for(var n=this.style("marker-mid").getDefinition(),i=1;i<t.length-1;i++)n.render(e,t[i][0],t[i][1]);this.style("marker-end").isUrlDefinition()&&(n=this.style("marker-end").getDefinition()).render(e,t[t.length-1][0],t[t.length-1][1])}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},P.Element.PathElementBase.prototype=new P.Element.RenderedElementBase,P.Element.svg=function(e){this.base=P.Element.RenderedElementBase,this.base(e),this.baseClearContext=this.clearContext,this.clearContext=function(e){this.baseClearContext(e),P.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,this.baseSetContext(e),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),e.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var t,n,i,r=P.ViewPort.width(),a=P.ViewPort.height();this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),void 0===this.root&&(r=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y"),t=n=0,this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(n=-this.attribute("refX").toPixels("x"),t=-this.attribute("refY").toPixels("y")),e.beginPath(),e.moveTo(n,t),e.lineTo(r,t),e.lineTo(r,a),e.lineTo(n,a),e.closePath(),e.clip()),P.ViewPort.SetCurrent(r,a),this.attribute("viewBox").hasValue()&&(n=(t=P.ToNumberArray(this.attribute("viewBox").value))[0],i=t[1],r=t[2],a=t[3],P.AspectRatio(e,this.attribute("preserveAspectRatio").value,P.ViewPort.width(),r,P.ViewPort.height(),a,n,i,this.attribute("refX").value,this.attribute("refY").value),P.ViewPort.RemoveCurrent(),P.ViewPort.SetCurrent(t[2],t[3]))}},P.Element.svg.prototype=new P.Element.RenderedElementBase,P.Element.rect=function(e){this.base=P.Element.PathElementBase,this.base(e),this.path=function(e){var t=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),i=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y"),a=this.attribute("rx").toPixels("x"),s=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(s=a),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(a=s),a=Math.min(a,i/2),s=Math.min(s,r/2),null!=e&&(e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+i-a,n),e.quadraticCurveTo(t+i,n,t+i,n+s),e.lineTo(t+i,n+r-s),e.quadraticCurveTo(t+i,n+r,t+i-a,n+r),e.lineTo(t+a,n+r),e.quadraticCurveTo(t,n+r,t,n+r-s),e.lineTo(t,n+s),e.quadraticCurveTo(t,n,t+a,n),e.closePath()),new P.BoundingBox(t,n,t+i,n+r)}},P.Element.rect.prototype=new P.Element.PathElementBase,P.Element.circle=function(e){this.base=P.Element.PathElementBase,this.base(e),this.path=function(e){var t=this.attribute("cx").toPixels("x"),n=this.attribute("cy").toPixels("y"),i=this.attribute("r").toPixels();return null!=e&&(e.beginPath(),e.arc(t,n,i,0,2*Math.PI,!0),e.closePath()),new P.BoundingBox(t-i,n-i,t+i,n+i)}},P.Element.circle.prototype=new P.Element.PathElementBase,P.Element.ellipse=function(e){this.base=P.Element.PathElementBase,this.base(e),this.path=function(e){var t=(Math.sqrt(2)-1)/3*4,n=this.attribute("rx").toPixels("x"),i=this.attribute("ry").toPixels("y"),r=this.attribute("cx").toPixels("x"),a=this.attribute("cy").toPixels("y");return null!=e&&(e.beginPath(),e.moveTo(r,a-i),e.bezierCurveTo(r+t*n,a-i,r+n,a-t*i,r+n,a),e.bezierCurveTo(r+n,a+t*i,r+t*n,a+i,r,a+i),e.bezierCurveTo(r-t*n,a+i,r-n,a+t*i,r-n,a),e.bezierCurveTo(r-n,a-t*i,r-t*n,a-i,r,a-i),e.closePath()),new P.BoundingBox(r-n,a-i,r+n,a+i)}},P.Element.ellipse.prototype=new P.Element.PathElementBase,P.Element.line=function(e){this.base=P.Element.PathElementBase,this.base(e),this.getPoints=function(){return[new P.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new P.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(e){var t=this.getPoints();return null!=e&&(e.beginPath(),e.moveTo(t[0].x,t[0].y),e.lineTo(t[1].x,t[1].y)),new P.BoundingBox(t[0].x,t[0].y,t[1].x,t[1].y)},this.getMarkers=function(){var e=this.getPoints(),t=e[0].angleTo(e[1]);return[[e[0],t],[e[1],t]]}},P.Element.line.prototype=new P.Element.PathElementBase,P.Element.polyline=function(e){this.base=P.Element.PathElementBase,this.base(e),this.points=P.CreatePath(this.attribute("points").value),this.path=function(e){var t=new P.BoundingBox(this.points[0].x,this.points[0].y);null!=e&&(e.beginPath(),e.moveTo(this.points[0].x,this.points[0].y));for(var n=1;n<this.points.length;n++)t.addPoint(this.points[n].x,this.points[n].y),null!=e&&e.lineTo(this.points[n].x,this.points[n].y);return t},this.getMarkers=function(){for(var e=[],t=0;t<this.points.length-1;t++)e.push([this.points[t],this.points[t].angleTo(this.points[t+1])]);return e.push([this.points[this.points.length-1],e[e.length-1][1]]),e}},P.Element.polyline.prototype=new P.Element.PathElementBase,P.Element.polygon=function(e){this.base=P.Element.polyline,this.base(e),this.basePath=this.path,this.path=function(e){var t=this.basePath(e);return null!=e&&(e.lineTo(this.points[0].x,this.points[0].y),e.closePath()),t}},P.Element.polygon.prototype=new P.Element.polyline,P.Element.path=function(e){this.base=P.Element.PathElementBase,this.base(e);e=this.attribute("d").value;e=(e=(e=(e=(e=(e=(e=(e=e.replace(/,/gm," ")).replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2")).replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([0-9])([+\-])/gm,"$1 $2")).replace(/(\.[0-9]*)(\.)/gm,"$1 $2")).replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),e=P.compressSpaces(e),e=P.trim(e),this.PathParser=new function(e){this.tokens=e.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new P.Point(0,0),this.control=new P.Point(0,0),this.current=new P.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return!!this.isEnd()||null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var e=new P.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(e)},this.getAsControlPoint=function(){var e=this.getPoint();return this.control=e},this.getAsCurrentPoint=function(){var e=this.getPoint();return this.current=e},this.getReflectedControlPoint=function(){return"c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()?this.current:new P.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y)},this.makeAbsolute=function(e){return this.isRelativeCommand()&&(e.x+=this.current.x,e.y+=this.current.y),e},this.addMarker=function(e,t,n){null!=n&&0<this.angles.length&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(n)),this.addMarkerAngle(e,null==t?null:t.angleTo(e))},this.addMarkerAngle=function(e,t){this.points.push(e),this.angles.push(t)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var e=0;e<this.angles.length;e++)if(null==this.angles[e])for(var t=e+1;t<this.angles.length;t++)if(null!=this.angles[t]){this.angles[e]=this.angles[t];break}return this.angles}}(e),this.path=function(e){var t=this.PathParser,u=(t.reset(),new P.BoundingBox);for(null!=e&&e.beginPath();!t.isEnd();)switch(t.nextCommand(),t.command){case"M":case"m":var n=t.getAsCurrentPoint();for(t.addMarker(n),u.addPoint(n.x,n.y),null!=e&&e.moveTo(n.x,n.y),t.start=t.current;!t.isCommandOrEnd();){n=t.getAsCurrentPoint();t.addMarker(n,t.start),u.addPoint(n.x,n.y),null!=e&&e.lineTo(n.x,n.y)}break;case"L":case"l":for(;!t.isCommandOrEnd();){var c=t.current,n=t.getAsCurrentPoint();t.addMarker(n,c),u.addPoint(n.x,n.y),null!=e&&e.lineTo(n.x,n.y)}break;case"H":case"h":for(;!t.isCommandOrEnd();){var f=new P.Point((t.isRelativeCommand()?t.current.x:0)+t.getScalar(),t.current.y);t.addMarker(f,t.current),t.current=f,u.addPoint(t.current.x,t.current.y),null!=e&&e.lineTo(t.current.x,t.current.y)}break;case"V":case"v":for(;!t.isCommandOrEnd();){f=new P.Point(t.current.x,(t.isRelativeCommand()?t.current.y:0)+t.getScalar());t.addMarker(f,t.current),t.current=f,u.addPoint(t.current.x,t.current.y),null!=e&&e.lineTo(t.current.x,t.current.y)}break;case"C":case"c":for(;!t.isCommandOrEnd();){var i=t.current,d=t.getPoint(),r=t.getAsControlPoint(),a=t.getAsCurrentPoint();t.addMarker(a,r,d),u.addBezierCurve(i.x,i.y,d.x,d.y,r.x,r.y,a.x,a.y),null!=e&&e.bezierCurveTo(d.x,d.y,r.x,r.y,a.x,a.y)}break;case"S":case"s":for(;!t.isCommandOrEnd();){i=t.current,d=t.getReflectedControlPoint(),r=t.getAsControlPoint(),a=t.getAsCurrentPoint();t.addMarker(a,r,d),u.addBezierCurve(i.x,i.y,d.x,d.y,r.x,r.y,a.x,a.y),null!=e&&e.bezierCurveTo(d.x,d.y,r.x,r.y,a.x,a.y)}break;case"Q":case"q":for(;!t.isCommandOrEnd();){i=t.current,r=t.getAsControlPoint(),a=t.getAsCurrentPoint();t.addMarker(a,r,r),u.addQuadraticCurve(i.x,i.y,r.x,r.y,a.x,a.y),null!=e&&e.quadraticCurveTo(r.x,r.y,a.x,a.y)}break;case"T":case"t":for(;!t.isCommandOrEnd();){i=t.current,r=t.getReflectedControlPoint(),a=(t.control=r,t.getAsCurrentPoint());t.addMarker(a,r,r),u.addQuadraticCurve(i.x,i.y,r.x,r.y,a.x,a.y),null!=e&&e.quadraticCurveTo(r.x,r.y,a.x,a.y)}break;case"A":case"a":for(;!t.isCommandOrEnd();){function p(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(v(e,t))}var i=t.current,s=t.getScalar(),o=t.getScalar(),g=t.getScalar()*(Math.PI/180),l=t.getScalar(),m=t.getScalar(),a=t.getAsCurrentPoint(),h=new P.Point(Math.cos(g)*(i.x-a.x)/2+Math.sin(g)*(i.y-a.y)/2,-Math.sin(g)*(i.x-a.x)/2+Math.cos(g)*(i.y-a.y)/2),x=Math.pow(h.x,2)/Math.pow(s,2)+Math.pow(h.y,2)/Math.pow(o,2),x=(1<x&&(s*=Math.sqrt(x),o*=Math.sqrt(x)),(l==m?-1:1)*Math.sqrt((Math.pow(s,2)*Math.pow(o,2)-Math.pow(s,2)*Math.pow(h.y,2)-Math.pow(o,2)*Math.pow(h.x,2))/(Math.pow(s,2)*Math.pow(h.y,2)+Math.pow(o,2)*Math.pow(h.x,2)))),l=(isNaN(x)&&(x=0),new P.Point(x*s*h.y/o,x*-o*h.x/s)),x=new P.Point((i.x+a.x)/2+Math.cos(g)*l.x-Math.sin(g)*l.y,(i.y+a.y)/2+Math.sin(g)*l.x+Math.cos(g)*l.y),y=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},v=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(y(e)*y(t))},b=p([1,0],[(h.x-l.x)/s,(h.y-l.y)/o]),w=[(h.x-l.x)/s,(h.y-l.y)/o],h=[(-h.x-l.x)/s,(-h.y-l.y)/o],l=p(w,h),_=(v(w,h)<=-1&&(l=Math.PI),1-m?1:-1),w=b+(l=1<=v(w,h)?0:l)/2*_,h=new P.Point(x.x+s*Math.cos(w),x.y+o*Math.sin(w));t.addMarkerAngle(h,w-_*Math.PI/2),t.addMarkerAngle(a,w-_*Math.PI),u.addPoint(a.x,a.y),null!=e&&(v=o<s?s:o,h=o<s?1:s/o,w=o<s?o/s:1,e.translate(x.x,x.y),e.rotate(g),e.scale(h,w),e.arc(0,0,v,b,b+l,1-m),e.scale(1/h,1/w),e.rotate(-g),e.translate(-x.x,-x.y))}break;case"Z":case"z":null!=e&&e.closePath(),t.current=t.start}return u},this.getMarkers=function(){for(var e=this.PathParser.getMarkerPoints(),t=this.PathParser.getMarkerAngles(),n=[],i=0;i<e.length;i++)n.push([e[i],t[i]]);return n}},P.Element.path.prototype=new P.Element.PathElementBase,P.Element.pattern=function(e){this.base=P.Element.ElementBase,this.base(e),this.createPattern=function(e,t){var n=this.attribute("width").toPixels("x",!0),i=this.attribute("height").toPixels("y",!0),r=new P.Element.svg,a=(r.attributes.viewBox=new P.Property("viewBox",this.attribute("viewBox").value),r.attributes.width=new P.Property("width",n+"px"),r.attributes.height=new P.Property("height",i+"px"),r.attributes.transform=new P.Property("transform",this.attribute("patternTransform").value),r.children=this.children,document.createElement("canvas")),s=(a.width=n,a.height=i,a.getContext("2d"));this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&s.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(var o=-1;o<=1;o++)for(var l=-1;l<=1;l++)s.save(),s.translate(o*a.width,l*a.height),r.render(s),s.restore();return e.createPattern(a,"repeat")}},P.Element.pattern.prototype=new P.Element.ElementBase,P.Element.marker=function(e){this.base=P.Element.ElementBase,this.base(e),this.baseRender=this.render,this.render=function(e,t,n){e.translate(t.x,t.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(n),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(e.lineWidth,e.lineWidth),e.save();var i=new P.Element.svg;i.attributes.viewBox=new P.Property("viewBox",this.attribute("viewBox").value),i.attributes.refX=new P.Property("refX",this.attribute("refX").value),i.attributes.refY=new P.Property("refY",this.attribute("refY").value),i.attributes.width=new P.Property("width",this.attribute("markerWidth").value),i.attributes.height=new P.Property("height",this.attribute("markerHeight").value),i.attributes.fill=new P.Property("fill",this.attribute("fill").valueOrDefault("black")),i.attributes.stroke=new P.Property("stroke",this.attribute("stroke").valueOrDefault("none")),i.children=this.children,i.render(e),e.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(1/e.lineWidth,1/e.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(-n),e.translate(-t.x,-t.y)}},P.Element.marker.prototype=new P.Element.ElementBase,P.Element.defs=function(e){this.base=P.Element.ElementBase,this.base(e),this.render=function(e){}},P.Element.defs.prototype=new P.Element.ElementBase,P.Element.GradientBase=function(e){this.base=P.Element.ElementBase,this.base(e),this.gradientUnits=this.attribute("gradientUnits").valueOrDefault("objectBoundingBox"),this.stops=[];for(var t=0;t<this.children.length;t++){var n=this.children[t];"stop"==n.type&&this.stops.push(n)}this.getGradient=function(){},this.createGradient=function(e,t,n){function i(e){return n.hasValue()?new P.Property("color",e).addOpacity(n.value).value:e}var r=this,a=(this.attribute("xlink:href").hasValue()&&(r=this.attribute("xlink:href").getDefinition()),this.getGradient(e,t));if(null==a)return i(r.stops[r.stops.length-1].color);for(var s,o=0;o<r.stops.length;o++)a.addColorStop(r.stops[o].offset,i(r.stops[o].color));return this.attribute("gradientTransform").hasValue()?(e=P.ViewPort.viewPorts[0],(t=new P.Element.rect).attributes.x=new P.Property("x",-P.MAX_VIRTUAL_PIXELS/3),t.attributes.y=new P.Property("y",-P.MAX_VIRTUAL_PIXELS/3),t.attributes.width=new P.Property("width",P.MAX_VIRTUAL_PIXELS),t.attributes.height=new P.Property("height",P.MAX_VIRTUAL_PIXELS),(s=new P.Element.g).attributes.transform=new P.Property("transform",this.attribute("gradientTransform").value),s.children=[t],(t=new P.Element.svg).attributes.x=new P.Property("x",0),t.attributes.y=new P.Property("y",0),t.attributes.width=new P.Property("width",e.width),t.attributes.height=new P.Property("height",e.height),t.children=[s],(s=document.createElement("canvas")).width=e.width,s.height=e.height,(e=s.getContext("2d")).fillStyle=a,t.render(e),e.createPattern(s,"no-repeat")):a}},P.Element.GradientBase.prototype=new P.Element.ElementBase,P.Element.linearGradient=function(e){this.base=P.Element.GradientBase,this.base(e),this.getGradient=function(e,t){var t=t.getBoundingBox(),n=(this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0),"objectBoundingBox"==this.gradientUnits?t.x()+t.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x")),i="objectBoundingBox"==this.gradientUnits?t.y()+t.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),r="objectBoundingBox"==this.gradientUnits?t.x()+t.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),t="objectBoundingBox"==this.gradientUnits?t.y()+t.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return n==r&&i==t?null:e.createLinearGradient(n,i,r,t)}},P.Element.linearGradient.prototype=new P.Element.GradientBase,P.Element.radialGradient=function(e){this.base=P.Element.GradientBase,this.base(e),this.getGradient=function(e,t){var t=t.getBoundingBox(),n=(this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%"),"objectBoundingBox"==this.gradientUnits?t.x()+t.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x")),i="objectBoundingBox"==this.gradientUnits?t.y()+t.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),r=n,a=i,t=(this.attribute("fx").hasValue()&&(r="objectBoundingBox"==this.gradientUnits?t.x()+t.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(a="objectBoundingBox"==this.gradientUnits?t.y()+t.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y")),"objectBoundingBox"==this.gradientUnits?(t.width()+t.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels());return e.createRadialGradient(r,a,0,n,i,t)}},P.Element.radialGradient.prototype=new P.Element.GradientBase,P.Element.stop=function(e){this.base=P.Element.ElementBase,this.base(e),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),1<this.offset&&(this.offset=1);e=this.style("stop-color");this.style("stop-opacity").hasValue()&&(e=e.addOpacity(this.style("stop-opacity").value)),this.color=e.value},P.Element.stop.prototype=new P.Element.ElementBase,P.Element.AnimateBase=function(e){this.base=P.Element.ElementBase,this.base(e),P.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var e=this.attribute("attributeType").value,t=this.attribute("attributeName").value;return"CSS"==e?this.parent.style(t,!0):this.parent.attribute(t,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(e){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"!=this.attribute("repeatCount").value&&"indefinite"!=this.attribute("repeatDur").value)return"remove"==this.attribute("fill").valueOrDefault("remove")&&!this.removed&&(this.removed=!0,this.getProperty().value=this.initialValue,!0);this.duration=0}this.duration=this.duration+e;var t,e=!1;return this.begin<this.duration&&(t=this.calcValue(),this.attribute("type").hasValue()&&(t=this.attribute("type").value+"("+t+")"),this.getProperty().value=t,e=!0),e},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var e,t,n,i={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};return this.values.hasValue()?(e=i.progress*(this.values.value.length-1),t=Math.floor(e),n=Math.ceil(e),i.from=new P.Property("from",parseFloat(this.values.value[t])),i.to=new P.Property("to",parseFloat(this.values.value[n])),i.progress=(e-t)/(n-t)):(i.from=this.from,i.to=this.to),i}},P.Element.AnimateBase.prototype=new P.Element.ElementBase,P.Element.animate=function(e){this.base=P.Element.AnimateBase,this.base(e),this.calcValue=function(){var e=this.progress();return e.from.numValue()+(e.to.numValue()-e.from.numValue())*e.progress+this.initialUnits}},P.Element.animate.prototype=new P.Element.AnimateBase,P.Element.animateColor=function(e){this.base=P.Element.AnimateBase,this.base(e),this.calcValue=function(){var e,t,n=this.progress(),i=new f(n.from.value),r=new f(n.to.value);return i.ok&&r.ok?(e=i.r+(r.r-i.r)*n.progress,t=i.g+(r.g-i.g)*n.progress,r=i.b+(r.b-i.b)*n.progress,"rgb("+parseInt(e,10)+","+parseInt(t,10)+","+parseInt(r,10)+")"):this.attribute("from").value}},P.Element.animateColor.prototype=new P.Element.AnimateBase,P.Element.animateTransform=function(e){this.base=P.Element.AnimateBase,this.base(e),this.calcValue=function(){for(var e=this.progress(),t=P.ToNumberArray(e.from.value),n=P.ToNumberArray(e.to.value),i="",r=0;r<t.length;r++)i+=t[r]+(n[r]-t[r])*e.progress+" ";return i}},P.Element.animateTransform.prototype=new P.Element.animate,P.Element.font=function(e){this.base=P.Element.ElementBase,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var t=0;t<this.children.length;t++){var n=this.children[t];"font-face"==n.type?(this.fontFace=n).style("font-family").hasValue()&&(P.Definitions[n.style("font-family").value]=this):"missing-glyph"==n.type?this.missingGlyph=n:"glyph"==n.type&&(""!=n.arabicForm?(this.isRTL=!0,this.isArabic=!0,void 0===this.glyphs[n.unicode]&&(this.glyphs[n.unicode]=[]),this.glyphs[n.unicode][n.arabicForm]=n):this.glyphs[n.unicode]=n)}},P.Element.font.prototype=new P.Element.ElementBase,P.Element.fontface=function(e){this.base=P.Element.ElementBase,this.base(e),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},P.Element.fontface.prototype=new P.Element.ElementBase,P.Element.missingglyph=function(e){this.base=P.Element.path,this.base(e),this.horizAdvX=0},P.Element.missingglyph.prototype=new P.Element.path,P.Element.glyph=function(e){this.base=P.Element.path,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},P.Element.glyph.prototype=new P.Element.path,P.Element.text=function(e){this.captureTextNodes=!0,this.base=P.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),this.style("dominant-baseline").hasValue()&&(e.textBaseline=this.style("dominant-baseline").value),this.style("alignment-baseline").hasValue()&&(e.textBaseline=this.style("alignment-baseline").value)},this.renderChildren=function(e){this.textAnchor=this.style("text-anchor").valueOrDefault("start"),this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y");for(var t=0;t<this.children.length;t++)this.renderChild(e,this,t)},this.renderChild=function(e,t,n){var i=t.children[n],t=(i.attribute("x").hasValue()?i.x=i.attribute("x").toPixels("x"):(this.attribute("dx").hasValue()&&(this.y+=this.attribute("dx").toPixels("x")),i.attribute("dx").hasValue()&&(this.x+=i.attribute("dx").toPixels("x")),i.x=this.x),i.measureText(e));if("start"!=this.textAnchor&&(0==n||i.attribute("x").hasValue())){for(var r=t,a=n+1;a<this.children.length;a++){var s=this.children[a];if(s.attribute("x").hasValue())break;r+=s.measureText(e)}i.x-="end"==this.textAnchor?r:r/2}this.x=i.x+t,i.attribute("y").hasValue()?i.y=i.attribute("y").toPixels("y"):(this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),i.attribute("dy").hasValue()&&(this.y+=i.attribute("dy").toPixels("y")),i.y=this.y),this.y=i.y,i.render(e);for(n=0;n<i.children.length;n++)this.renderChild(e,i,n)}},P.Element.text.prototype=new P.Element.RenderedElementBase,P.Element.TextElementBase=function(e){this.base=P.Element.RenderedElementBase,this.base(e),this.getGlyph=function(e,t,n){var i,r=t[n],a=null;return e.isArabic?(i="isolated",(0==n||" "==t[n-1])&&n<t.length-2&&" "!=t[n+1]&&(i="terminal"),0<n&&" "!=t[n-1]&&n<t.length-2&&" "!=t[n+1]&&(i="medial"),0<n&&" "!=t[n-1]&&(n==t.length-1||" "==t[n+1])&&(i="initial"),void 0!==e.glyphs[r]&&null==(a=e.glyphs[r][i])&&"glyph"==e.glyphs[r].type&&(a=e.glyphs[r])):a=e.glyphs[r],a=null==a?e.missingGlyph:a},this.renderChildren=function(e){var t=this.parent.style("font-family").getDefinition();if(null==t)""!=e.fillStyle&&e.fillText(P.compressSpaces(this.getText()),this.x,this.y),""!=e.strokeStyle&&e.strokeText(P.compressSpaces(this.getText()),this.x,this.y);else for(var n=this.parent.style("font-size").numValueOrDefault(P.Font.Parse(P.ctx.font).fontSize),i=this.parent.style("font-style").valueOrDefault(P.Font.Parse(P.ctx.font).fontStyle),r=this.getText(),a=(t.isRTL&&(r=r.split("").reverse().join("")),P.ToNumberArray(this.parent.attribute("dx").value)),s=0;s<r.length;s++){var o=this.getGlyph(t,r,s),l=n/t.fontFace.unitsPerEm,h=(e.translate(this.x,this.y),e.scale(l,-l),e.lineWidth);e.lineWidth=e.lineWidth*t.fontFace.unitsPerEm/n,"italic"==i&&e.transform(1,0,.4,1,0,0),o.render(e),"italic"==i&&e.transform(1,0,-.4,1,0,0),e.lineWidth=h,e.scale(1/l,-1/l),e.translate(-this.x,-this.y),this.x+=n*(o.horizAdvX||t.horizAdvX)/t.fontFace.unitsPerEm,void 0===a[s]||isNaN(a[s])||(this.x+=a[s])}},this.getText=function(){},this.measureText=function(e){var t=this.parent.style("font-family").getDefinition();if(null!=t){for(var n=this.parent.style("font-size").numValueOrDefault(P.Font.Parse(P.ctx.font).fontSize),i=0,r=this.getText(),a=(t.isRTL&&(r=r.split("").reverse().join("")),P.ToNumberArray(this.parent.attribute("dx").value)),s=0;s<r.length;s++)i+=(this.getGlyph(t,r,s).horizAdvX||t.horizAdvX)*n/t.fontFace.unitsPerEm,void 0===a[s]||isNaN(a[s])||(i+=a[s]);return i}var o=P.compressSpaces(this.getText());if(!e.measureText)return 10*o.length;e.save(),this.setContext(e);o=e.measureText(o).width;return e.restore(),o}},P.Element.TextElementBase.prototype=new P.Element.RenderedElementBase,P.Element.tspan=function(e){this.captureTextNodes=!0,this.base=P.Element.TextElementBase,this.base(e),this.text=e.nodeValue||e.text||"",this.getText=function(){return this.text}},P.Element.tspan.prototype=new P.Element.TextElementBase,P.Element.tref=function(e){this.base=P.Element.TextElementBase,this.base(e),this.getText=function(){var e=this.attribute("xlink:href").getDefinition();if(null!=e)return e.children[0].getText()}},P.Element.tref.prototype=new P.Element.TextElementBase,P.Element.a=function(e){this.base=P.Element.TextElementBase,this.base(e),this.hasText=!0;for(var t=0;t<e.childNodes.length;t++)3!=e.childNodes[t].nodeType&&(this.hasText=!1);this.text=this.hasText?e.childNodes[0].nodeValue:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(e){var t;this.hasText?(this.baseRenderChildren(e),t=new P.Property("fontSize",P.Font.Parse(P.ctx.font).fontSize),P.Mouse.checkBoundingBox(this,new P.BoundingBox(this.x,this.y-t.toPixels("y"),this.x+this.measureText(e),this.y))):((t=new P.Element.g).children=this.children,t.parent=this,t.render(e))},this.onclick=function(){window.open(this.attribute("xlink:href").value)},this.onmousemove=function(){P.ctx.canvas.style.cursor="pointer"}},P.Element.a.prototype=new P.Element.TextElementBase,P.Element.image=function(e){this.base=P.Element.RenderedElementBase,this.base(e);var t,n=this.attribute("xlink:href").value,a=n.match(/\.svg$/);P.Images.push(this),this.loaded=!1,a?(this.img=P.ajax(n),this.loaded=!0):(this.img=document.createElement("img"),(t=this).img.onload=function(){t.loaded=!0},this.img.onerror=function(){console&&console.log('ERROR: image "'+n+'" not found'),t.loaded=!0},this.img.src=n),this.renderChildren=function(e){var t=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),i=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y");0!=i&&0!=r&&(e.save(),a?e.drawSvg(this.img,t,n,i,r):(e.translate(t,n),P.AspectRatio(e,this.attribute("preserveAspectRatio").value,i,this.img.width,r,this.img.height,0,0),e.drawImage(this.img,0,0)),e.restore())},this.getBoundingBox=function(){var e=this.attribute("x").toPixels("x"),t=this.attribute("y").toPixels("y"),n=this.attribute("width").toPixels("x"),i=this.attribute("height").toPixels("y");return new P.BoundingBox(e,t,e+n,t+i)}},P.Element.image.prototype=new P.Element.RenderedElementBase,P.Element.g=function(e){this.base=P.Element.RenderedElementBase,this.base(e),this.getBoundingBox=function(){for(var e=new P.BoundingBox,t=0;t<this.children.length;t++)e.addBoundingBox(this.children[t].getBoundingBox());return e}},P.Element.g.prototype=new P.Element.RenderedElementBase,P.Element.symbol=function(e){this.base=P.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){var t,n,i;this.baseSetContext(e),this.attribute("viewBox").hasValue()&&(n=(t=P.ToNumberArray(this.attribute("viewBox").value))[0],i=t[1],width=t[2],height=t[3],P.AspectRatio(e,this.attribute("preserveAspectRatio").value,this.attribute("width").toPixels("x"),width,this.attribute("height").toPixels("y"),height,n,i),P.ViewPort.SetCurrent(t[2],t[3]))}},P.Element.symbol.prototype=new P.Element.RenderedElementBase,P.Element.style=function(e){this.base=P.Element.ElementBase,this.base(e);for(var t="",n=0;n<e.childNodes.length;n++)t+=e.childNodes[n].nodeValue;t=t.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"");for(var i=(t=P.compressSpaces(t)).split("}"),n=0;n<i.length;n++)if(""!=P.trim(i[n]))for(var u=i[n].split("{"),c=u[0].split(","),r=u[1].split(";"),f=0;f<c.length;f++){var d=P.trim(c[f]);if(""!=d){for(var a={},s=0;s<r.length;s++){var o=r[s].indexOf(":"),p=r[s].substr(0,o),o=r[s].substr(o+1,r[s].length-o);null!=p&&null!=o&&(a[P.trim(p)]=new P.Property(P.trim(p),P.trim(o)))}if(P.Styles[d]=a,"@font-face"==d)for(var g=a["font-family"].value.replace(/"/g,""),l=a.src.value.split(","),h=0;h<l.length;h++)if(0<l[h].indexOf('format("svg")'))for(var m=l[h].indexOf("url"),x=l[h].indexOf(")",m),x=l[h].substr(m+5,x-m-6),y=P.parseXml(P.ajax(x)).getElementsByTagName("font"),v=0;v<y.length;v++){var b=P.CreateElement(y[v]);P.Definitions[g]=b}}}},P.Element.style.prototype=new P.Element.ElementBase,P.Element.use=function(e){this.base=P.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),this.attribute("x").hasValue()&&e.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&e.translate(0,this.attribute("y").toPixels("y"))},this.getDefinition=function(){var e=this.attribute("xlink:href").getDefinition();return this.attribute("width").hasValue()&&(e.attribute("width",!0).value=this.attribute("width").value),this.attribute("height").hasValue()&&(e.attribute("height",!0).value=this.attribute("height").value),e},this.path=function(e){var t=this.getDefinition();null!=t&&t.path(e)},this.renderChildren=function(e){var t,n=this.getDefinition();null!=n&&(t=n.parent,n.parent=null,n.render(e),n.parent=t)}},P.Element.use.prototype=new P.Element.RenderedElementBase,P.Element.mask=function(e){this.base=P.Element.ElementBase,this.base(e),this.apply=function(e,t){var n=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y"),u=t.attribute("mask").value,s=(t.attribute("mask").value="",document.createElement("canvas")),o=(s.width=n+r,s.height=i+a,s.getContext("2d")),l=(this.renderChildren(o),document.createElement("canvas")),h=(l.width=n+r,l.height=i+a,l.getContext("2d"));t.render(h),h.globalCompositeOperation="destination-in",h.fillStyle=o.createPattern(s,"no-repeat"),h.fillRect(0,0,n+r,i+a),e.fillStyle=h.createPattern(l,"no-repeat"),e.fillRect(0,0,n+r,i+a),t.attribute("mask").value=u},this.render=function(e){}},P.Element.mask.prototype=new P.Element.ElementBase,P.Element.clipPath=function(e){this.base=P.Element.ElementBase,this.base(e),this.apply=function(e){for(var t=0;t<this.children.length;t++)this.children[t].path&&(this.children[t].path(e),e.clip())},this.render=function(e){}},P.Element.clipPath.prototype=new P.Element.ElementBase,P.Element.filter=function(e){this.base=P.Element.ElementBase,this.base(e),this.apply=function(u,e){var t=e.getBoundingBox(),n=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),r=("image"!=e.type&&0!=n&&0!=i||(n=t.x1,i=t.y1),this.attribute("width").toPixels("x")),a=this.attribute("height").toPixels("y"),t=("image"!=e.type&&0!=r&&0!=a||(r=t.width(),a=t.height()),e.style("filter").value),s=(e.style("filter").value="","image"==e.type?0:.2),o=s*r,l=s*a,s=document.createElement("canvas"),h=(s.width=r+2*o,s.height=a+2*l,s.getContext("2d"));h.translate(o-n,l-i),e.render(h);for(var c=0;c<this.children.length;c++)this.children[c].apply(h,0,0,r+2*o,a+2*l);u.drawImage(s,0,0,r+2*o,a+2*l,n-o,i-l,r+2*o,a+2*l),e.style("filter",!0).value=t},this.render=function(e){}},P.Element.filter.prototype=new P.Element.ElementBase,P.Element.feColorMatrix=function(e){function o(e,t,n,i,r,a){return e[n*i*4+4*t+a]}function l(e,t,n,i,r,a,s){e[n*i*4+4*t+a]=s}this.base=P.Element.ElementBase,this.base(e),this.apply=function(e,t,n,i,r){for(var a=e.getImageData(0,0,i,r),n=0;n<r;n++)for(t=0;t<i;t++){var s=(o(a.data,t,n,i,0,0)+o(a.data,t,n,i,0,1)+o(a.data,t,n,i,0,2))/3;l(a.data,t,n,i,0,0,s),l(a.data,t,n,i,0,1,s),l(a.data,t,n,i,0,2,s)}e.clearRect(0,0,i,r),e.putImageData(a,0,0)}},P.Element.filter.prototype=new P.Element.feColorMatrix,P.Element.feGaussianBlur=function(e){function a(e,u,t,n,c){for(var f,i=0;i<c;i++)for(var r=0;r<n;r++)for(var a=e[i*n*4+4*r+3]/255,s=0;s<4;s++){for(var d=t[0]*(0==a?255:e[i*n*4+4*r+s])*(0==a||3==s?1:a),o=1;o<t.length;o++){var l=p(e,Math.max(r-o,0),i,n,0,3)/255,h=p(e,Math.min(r+o,n-1),i,n,0,3)/255;d+=t[o]*((0==l?255:p(e,Math.max(r-o,0),i,n,0,s))*(0==l||3==s?1:l)+(0==h?255:p(e,Math.min(r+o,n-1),i,n,0,s))*(0==h||3==s?1:h))}f=d,u[r*c*4+4*i+s]=f}}function p(e,t,n,i,r,a){return e[n*i*4+4*t+a]}function s(e,t,n,i){var r=e.getImageData(0,0,t,n),i=function(e){for(var t=0,n=1;n<e.length;n++)t+=Math.abs(e[n]);for(t=2*t+Math.abs(e[0]),n=0;n<e.length;n++)e[n]/=t;return e}(function(e){e=Math.max(e,.01);var t=Math.ceil(4*e)+1;mask=[];for(var n=0;n<t;n++)mask[n]=Math.exp(n/e*-.5*(n/e));return mask}(i));tmp=[],a(r.data,tmp,i,t,n),a(tmp,r.data,i,n,t),e.clearRect(0,0,t,n),e.putImageData(r,0,0)}this.base=P.Element.ElementBase,this.base(e),this.apply=function(e,t,n,i,r){s(e,i,r,this.attribute("stdDeviation").numValue())}},P.Element.filter.prototype=new P.Element.feGaussianBlur,P.Element.title=function(e){},P.Element.title.prototype=new P.Element.ElementBase,P.Element.desc=function(e){},P.Element.desc.prototype=new P.Element.ElementBase,P.Element.MISSING=function(e){console&&console.log("ERROR: Element '"+e.nodeName+"' not yet implemented.")},P.Element.MISSING.prototype=new P.Element.ElementBase,P.CreateElement=function(e){var t=(t=e.nodeName.replace(/^[^:]+:/,"")).replace(/\-/g,""),n=null;return(n=new(void 0!==P.Element[t]?P.Element[t]:P.Element.MISSING)(e)).type=e.nodeName,n},P.load=function(e,t){P.loadXml(e,P.ajax(t))},P.loadXml=function(e,t){P.loadXmlDoc(e,P.parseXml(t))},P.loadXmlDoc=function(a,e){P.init(a);function t(e){for(var t=a.canvas;t;)e.x-=t.offsetLeft,e.y-=t.offsetTop,t=t.offsetParent;return window.scrollX&&(e.x+=window.scrollX),window.scrollY&&(e.y+=window.scrollY),e}function n(){P.ViewPort.Clear(),a.canvas.parentNode&&P.ViewPort.SetCurrent(a.canvas.parentNode.clientWidth,a.canvas.parentNode.clientHeight),1!=P.opts.ignoreDimensions&&(s.style("width").hasValue()&&(a.canvas.width=s.style("width").toPixels("x"),a.canvas.style.width=a.canvas.width+"px"),s.style("height").hasValue()&&(a.canvas.height=s.style("height").toPixels("y"),a.canvas.style.height=a.canvas.height+"px"));var e,t,n,i=a.canvas.clientWidth||a.canvas.width,r=a.canvas.clientHeight||a.canvas.height;1==P.opts.ignoreDimensions&&s.style("width").hasValue()&&s.style("height").hasValue()&&(i=s.style("width").toPixels("x"),r=s.style("height").toPixels("y")),P.ViewPort.SetCurrent(i,r),null!=P.opts.offsetX&&(s.attribute("x",!0).value=P.opts.offsetX),null!=P.opts.offsetY&&(s.attribute("y",!0).value=P.opts.offsetY),null!=P.opts.scaleWidth&&null!=P.opts.scaleHeight&&(t=e=1,n=P.ToNumberArray(s.attribute("viewBox").value),s.attribute("width").hasValue()?e=s.attribute("width").toPixels("x")/P.opts.scaleWidth:isNaN(n[2])||(e=n[2]/P.opts.scaleWidth),s.attribute("height").hasValue()?t=s.attribute("height").toPixels("y")/P.opts.scaleHeight:isNaN(n[3])||(t=n[3]/P.opts.scaleHeight),s.attribute("width",!0).value=P.opts.scaleWidth,s.attribute("height",!0).value=P.opts.scaleHeight,s.attribute("viewBox",!0).value="0 0 "+i*e+" "+r*t,s.attribute("preserveAspectRatio",!0).value="none"),1!=P.opts.ignoreClear&&a.clearRect(0,0,i,r),s.render(a),o&&(o=!1,"function"==typeof P.opts.renderCallback&&P.opts.renderCallback())}1!=P.opts.ignoreMouse&&(a.canvas.onclick=function(e){e=t(new P.Point((null!=e?e:event).clientX,(null!=e?e:event).clientY));P.Mouse.onclick(e.x,e.y)},a.canvas.onmousemove=function(e){e=t(new P.Point((null!=e?e:event).clientX,(null!=e?e:event).clientY));P.Mouse.onmousemove(e.x,e.y)});var s=P.CreateElement(e.documentElement),o=s.root=!0,i=!0;P.ImagesLoaded()&&(i=!1,n()),P.intervalID=setInterval(function(){var e=!1;if(i&&P.ImagesLoaded()&&(e=!(i=!1)),1!=P.opts.ignoreMouse&&(e|=P.Mouse.hasEvents()),1!=P.opts.ignoreAnimation)for(var t=0;t<P.Animations.length;t++)e|=P.Animations[t].update(1e3/P.FRAMERATE);(e="function"==typeof P.opts.forceRedraw&&1==P.opts.forceRedraw()?!0:e)&&(n(),P.Mouse.runEvents())},1e3/P.FRAMERATE)},P.stop=function(){P.intervalID&&clearInterval(P.intervalID)},P.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(e,t){this.events.push({type:"onclick",x:e,y:t,run:function(e){e.onclick&&e.onclick()}})},this.onmousemove=function(e,t){this.events.push({type:"onmousemove",x:e,y:t,run:function(e){e.onmousemove&&e.onmousemove()}})},this.eventElements=[],this.checkPath=function(e,t){for(var n=0;n<this.events.length;n++){var i=this.events[n];t.isPointInPath&&t.isPointInPath(i.x,i.y)&&(this.eventElements[n]=e)}},this.checkBoundingBox=function(e,t){for(var n=0;n<this.events.length;n++){var i=this.events[n];t.isPointInBox(i.x,i.y)&&(this.eventElements[n]=e)}},this.runEvents=function(){P.ctx.canvas.style.cursor="";for(var e=0;e<this.events.length;e++)for(var t=this.events[e],n=this.eventElements[e];n;)t.run(n),n=n.parent;this.events=[],this.eventElements=[]}};var P,r=P,n=(1==e.childNodes.length&&"OBJECT"==e.childNodes[0].nodeName||(e.svg=r),r.opts=n,e.getContext("2d"));void 0!==t.documentElement?r.loadXmlDoc(n,t):"<"==t.substr(0,1)?r.loadXml(n,t):r.load(n,t)}else for(var a=document.getElementsByTagName("svg"),s=0;s<a.length;s++){var o=a[s],l=document.createElement("canvas"),h=(l.width=o.clientWidth,l.height=o.clientHeight,o.parentNode.insertBefore(l,o),o.parentNode.removeChild(o),document.createElement("div"));h.appendChild(o),canvg(l,h.innerHTML)}}}(),window.CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(e,t,n,i,r){canvg(this.canvas,e,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:t,offsetY:n,scaleWidth:i,scaleHeight:r})}),function(e){var u,c,f,t,o,s,p,g,m,x,M,k,y,d,S,T,D,r,B,E,A,v,l,b,N,I,O,R,F,w,h,i=function(e){return new i.prototype.init(e)};"undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=i:e.Globalize=i,i.cultures={},(i.prototype={constructor:i,init:function(e){return this.cultures=i.cultures,this.cultureSelector=e,this}}).init.prototype=i.prototype,i.cultures.default={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},i.cultures.default.calendar=i.cultures.default.calendars.standard,i.cultures.en=i.cultures.default,i.cultureSelector="en",u=/^0x[a-f0-9]+$/i,c=/^[+\-]?infinity$/i,f=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,t=/^\s+|\s+$/g,o=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},s=function(e,t){return e.substr(e.length-t.length)===t},p=function(){var e,t,n,i,r,a=arguments[0]||{},s=1,o=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[1]||{},s=2),"object"==typeof a||m(a)||(a={});s<o;s++)if(null!=(e=arguments[s]))for(t in e)r=a[t],a!==(n=e[t])&&(l&&n&&(x(n)||(i=g(n)))?(r=i?(i=!1,r&&g(r)?r:[]):r&&x(r)?r:{},a[t]=p(l,r,n)):void 0!==n&&(a[t]=n));return a},g=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},m=function(e){return"[object Function]"===Object.prototype.toString.call(e)},x=function(e){return"[object Object]"===Object.prototype.toString.call(e)},M=function(e,t){return 0===e.indexOf(t)},k=function(e){return(e+"").replace(t,"")},y=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)},d=function(e,t,n){for(var i=e.length;i<t;i+=1)e=n?"0"+e:e+"0";return e},S=function(e,t){for(var n=0,i=!1,r=0,a=e.length;r<a;r++){var s=e.charAt(r);switch(s){case"'":i?t.push("'"):n++,i=!1;break;case"\\":i&&t.push("\\"),i=!i;break;default:t.push(s),i=!1}}return n},T=function(e,t){var e=e.patterns,n=(t=t||"F").length;if(1===n){if(!(e=e[t]))throw"Invalid date format string '"+t+"'.";t=e}else 2===n&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},D=function(e,t,n){var u,i,r=n.calendar,c=r.convert;if(!t||!t.length||"i"===t)return i=n&&n.name.length?c?D(e,r.patterns.F,n):(n=new Date(e.getTime()),u=E(e,r.eras),n.setFullYear(A(e,r,u)),n.toLocaleString()):e.toString();var f=r.eras,d="s"===t;t=T(r,t),i=[];var a,p,g,s,m=["0","00","000"],x=/([^d]|^)(d|dd)([^d]|$)/g,y=0,v=B();function o(e,t){var n,e=e+"";return 1<t&&e.length<t?(n=m[t-2]+e).substr(n.length-t,t):e}function b(e,t){if(s)return s[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();default:throw"Invalid part value "+t}}for(!d&&c&&(s=c.fromGregorian(e));;){var w=v.lastIndex,_=v.exec(t),w=t.slice(w,_?_.index:t.length);if(y+=S(w,i),!_)break;if(y%2)i.push(_[0]);else{var P=_[0],l=P.length;switch(P){case"ddd":case"dddd":var C=3===l?r.days.namesAbbr:r.days.names;i.push(C[e.getDay()]);break;case"d":case"dd":p=!0,i.push(o(b(e,2),l));break;case"MMM":case"MMMM":var h=b(e,1);i.push((r.monthsGenitive&&(p||g||(p=x.test(t),g=!0),p)?r.monthsGenitive:r.months)[3===l?"namesAbbr":"names"][h]);break;case"M":case"MM":i.push(o(b(e,1)+1,l));break;case"y":case"yy":case"yyyy":h=s?s[0]:A(e,r,E(e,f),d),l<4&&(h%=100),i.push(o(h,l));break;case"h":case"hh":0===(a=e.getHours()%12)&&(a=12),i.push(o(a,l));break;case"H":case"HH":i.push(o(e.getHours(),l));break;case"m":case"mm":i.push(o(e.getMinutes(),l));break;case"s":case"ss":i.push(o(e.getSeconds(),l));break;case"t":case"tt":h=e.getHours()<12?r.AM?r.AM[0]:" ":r.PM?r.PM[0]:" ",i.push(1===l?h.charAt(0):h);break;case"f":case"ff":case"fff":i.push(o(e.getMilliseconds(),3).substr(0,l));break;case"z":case"zz":a=e.getTimezoneOffset()/60,i.push((a<=0?"+":"-")+o(Math.floor(Math.abs(a)),l));break;case"zzz":a=e.getTimezoneOffset()/60,i.push((a<=0?"+":"-")+o(Math.floor(Math.abs(a)),2)+":"+o(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":r.eras&&i.push(r.eras[E(e,f)].name);break;case"/":i.push(r["/"]);break;default:throw"Invalid date format pattern '"+P+"'."}}}return i.join("")},b=function(e,t,n){var i=n.groupSizes,r=i[0],u=1,a=Math.pow(10,t),a=Math.round(e*a)/a,s=(e=a=isFinite(a)?a:e)+"",o="",a=s.split(/e/i),e=1<a.length?parseInt(a[1],10):0;s=(a=(s=a[0]).split("."))[0],o=1<a.length?a[1]:"",0<e?(s+=(o=d(o,e,!1)).slice(0,e),o=o.substr(e)):e<0&&(o=(s=d(s,(e=-e)+1,!0)).slice(-e,s.length)+o,s=s.slice(0,-e));for(var o=0<t?n["."]+(o.length>t?o.slice(0,t):d(o,t)):"",l=s.length-1,c=n[","],h="";0<=l;){if(0===r||l<r)return s.slice(0,l+1)+(h.length?c+h+o:o);h=s.slice(l-r+1,l+1)+(h.length?c+h:""),l-=r,u<i.length&&(r=i[u],u++)}return s.slice(0,l+1)+c+h+o},r=function(e,t,n){if(!isFinite(e))return e===1/0?n.numberFormat.positiveInfinity:e===-1/0?n.numberFormat.negativeInfinity:n.numberFormat.NaN;if(!t||"i"===t)return n.name.length?e.toLocaleString():e.toString();t=t||"D";var i,r,a=n.numberFormat,s=Math.abs(e),o=-1,u=(1<t.length&&(o=parseInt(t.slice(1),10)),t.charAt(0).toUpperCase());switch(u){case"D":i="n",s=y(s),-1!==o&&(s=d(""+s,o,!0)),e<0&&(s="-"+s);break;case"N":r=a;case"C":r=r||a.currency;case"P":r=r||a.percent,i=e<0?r.pattern[0]:r.pattern[1]||"n",-1===o&&(o=r.decimals),s=b(s*("P"===u?100:1),o,r);break;default:throw"Bad number format specifier: "+u}for(var c=/n|\$|-|%/g,l="";;){var f=c.lastIndex,h=c.exec(i);if(l+=i.slice(f,h?h.index:i.length),!h)break;switch(h[0]){case"n":l+=s;break;case"$":l+=a.currency.symbol;break;case"-":/[1-9]/.test(s)&&(l+=a["-"]);break;case"%":l+=a.percent.symbol}}return l},B=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},E=function(e,t){if(!t)return 0;for(var n,i=e.getTime(),r=0,a=t.length;r<a;r++)if(null===(n=t[r].start)||n<=i)return r;return 0},A=function(e,t,n,i){e=e.getFullYear();return!i&&t.eras&&(e-=t.eras[n].offset),e},N=function(e,t){var n,i;return t<100&&(n=new Date,i=E(n),n=A(n,e,i),(i="string"==typeof(i=e.twoDigitYearMax)?(new Date).getFullYear()%100+parseInt(i,10):i)<(t+=n-n%100)&&(t-=100)),t},I=function(e,t,n){var i,r=e.days,a=e._upperDays;return a||(e._upperDays=a=[h(r.names),h(r.namesAbbr),h(r.namesShort)]),t=w(t),n?-1===(i=o(a[1],t))&&(i=o(a[2],t)):i=o(a[0],t),i},O=function(e,t,n){var i=e.months,r=e.monthsGenitive||e.months,a=e._upperMonths,s=e._upperMonthsGen,i=(a||(e._upperMonths=a=[h(i.names),h(i.namesAbbr)],e._upperMonthsGen=s=[h(r.names),h(r.namesAbbr)]),t=w(t),o(n?a[1]:a[0],t));return i=i<0?o(n?s[1]:s[0],t):i},R=function(e,t){var n=e._parseRegExp;if(n){var i=n[t];if(i)return i}else e._parseRegExp=n={};for(var r,a=T(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),s=["^"],o=[],u=0,c=0,f=B();null!==(r=f.exec(a));){var d=a.slice(u,r.index),u=f.lastIndex;if((c+=S(d,s))%2)s.push(r[0]);else{var l,h=r[0],p=h.length;switch(h){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":l="(\\D+)";break;case"tt":case"t":l="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":l="(\\d{"+p+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":l="(\\d\\d?)";break;case"zzz":l="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":l="([+-]?\\d\\d?)";break;case"/":l="(\\/)";break;default:throw"Invalid date format pattern '"+h+"'."}l&&s.push(l),o.push(r[0])}}S(a.slice(u),s),s.push("$");i=s.join("").replace(/\s+/g,"\\s+");return n[t]={regExp:i,groups:o}},F=function(e,t,n){return e<t||n<e},w=function(e){return e.split("").join(" ").toUpperCase()},h=function(e){for(var t=[],n=0,i=e.length;n<i;n++)t[n]=w(e[n]);return t},v=function(e,t,n){e=k(e);var i=n.calendar,n=R(i,t),u=new RegExp(n.regExp).exec(e);if(null===u)return null;for(var c,f=n.groups,d=null,r=null,a=null,p=null,g=null,s=0,m=0,x=0,y=0,v=null,b=!1,w=0,_=f.length;w<_;w++){var o=u[w+1];if(o){var P=f[w],C=P.length,l=parseInt(o,10);switch(P){case"dd":case"d":if(F(p=l,1,31))return null;break;case"MMM":case"MMMM":if(a=O(i,o,3===C),F(a,0,11))return null;break;case"M":case"MM":if(F(a=l-1,0,11))return null;break;case"y":case"yy":case"yyyy":if(r=C<4?N(i,l):l,F(r,0,9999))return null;break;case"h":case"hh":if(F(s=12===(s=l)?0:s,0,11))return null;break;case"H":case"HH":if(F(s=l,0,23))return null;break;case"m":case"mm":if(F(m=l,0,59))return null;break;case"s":case"ss":if(F(x=l,0,59))return null;break;case"tt":case"t":if(!(b=i.PM&&(o===i.PM[0]||o===i.PM[1]||o===i.PM[2]))&&(!i.AM||o!==i.AM[0]&&o!==i.AM[1]&&o!==i.AM[2]))return null;break;case"f":case"ff":case"fff":if(y=l*Math.pow(10,3-C),F(y,0,999))return null;break;case"ddd":case"dddd":if(g=I(i,o,3===C),F(g,0,6))return null;break;case"zzz":var h=o.split(/:/);if(2!==h.length)return null;if(c=parseInt(h[0],10),F(c,-12,13))return null;h=parseInt(h[1],10);if(F(h,0,59))return null;v=60*c+(M(o,"-")?-h:h);break;case"z":case"zz":if(F(c=l,-12,13))return null;v=60*c;break;case"g":case"gg":if(!(E=o)||!i.eras)return null;for(var E=k(E.toLowerCase()),S=0,T=i.eras.length;S<T;S++)if(E===i.eras[S].name.toLowerCase()){d=S;break}if(null===d)return null}}}t=new Date,e=i.convert,n=e?e.fromGregorian(t)[0]:t.getFullYear();if(null===r?r=n:i.eras&&(r+=i.eras[d||0].offset),null===a&&(a=0),null===p&&(p=1),e){if(null===(t=e.toGregorian(r,a,p)))return null}else{if(t.setFullYear(r,a,p),t.getDate()!==p)return null;if(null!==g&&t.getDay()!==g)return null}return b&&s<12&&(s+=12),t.setHours(s,m,x,y),null!==v&&(n=t.getMinutes()-(v+t.getTimezoneOffset()),t.setHours(t.getHours()+parseInt(n/60,10),n%60)),t},l=function(e,t,n){var i,r=t["-"],a=t["+"];switch(n){case"n -":r=" "+r,a=" "+a;case"n-":s(e,r)?i=["-",e.substr(0,e.length-r.length)]:s(e,a)&&(i=["+",e.substr(0,e.length-a.length)]);break;case"- n":r+=" ",a+=" ";case"-n":M(e,r)?i=["-",e.substr(r.length)]:M(e,a)&&(i=["+",e.substr(a.length)]);break;case"(n)":M(e,"(")&&s(e,")")&&(i=["-",e.substr(1,e.length-2)])}return i||["",e]},i.prototype.findClosestCulture=function(e){return i.findClosestCulture.call(this,e)},i.prototype.format=function(e,t,n){return i.format.call(this,e,t,n)},i.prototype.localize=function(e,t){return i.localize.call(this,e,t)},i.prototype.parseInt=function(e,t,n){return i.parseInt.call(this,e,t,n)},i.prototype.parseFloat=function(e,t,n){return i.parseFloat.call(this,e,t,n)},i.prototype.culture=function(e){return i.culture.call(this,e)},i.addCultureInfo=function(e,t,n){var i={},r=!1,i="string"!=typeof e?(n=e,e=this.culture().name,this.cultures[e]):"string"!=typeof t?(n=t,r=null==this.cultures[e],this.cultures[e]||this.cultures.default):(r=!0,this.cultures[t]);this.cultures[e]=p(!0,{},i,n),r&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},i.findClosestCulture=function(e){var t;if(!e)return this.findClosestCulture(this.cultureSelector)||this.cultures.default;if("string"==typeof e&&(e=e.split(",")),g(e)){for(var n=this.cultures,u=e,i=u.length,r=[],a=0;a<i;a++){var s=(e=k(u[a])).split(";"),o=k(s[0]),l=1!==s.length&&0===(e=k(s[1])).indexOf("q=")?(e=e.substr(2),l=parseFloat(e),isNaN(l)?0:l):1;r.push({lang:o,pri:l})}for(r.sort(function(e,t){return e.pri<t.pri?1:e.pri>t.pri?-1:0}),a=0;a<i;a++)if(t=n[o=r[a].lang])return t;for(a=0;a<i;a++)for(o=r[a].lang;;){var c=o.lastIndexOf("-");if(-1===c)break;if(t=n[o=o.substr(0,c)])return t}for(a=0;a<i;a++)for(var h in o=r[a].lang,n){h=n[h];if(h.language==o)return h}}else if("object"==typeof e)return e;return t||null},i.format=function(e,t,n){n=this.findClosestCulture(n);return e instanceof Date?e=D(e,t,n):"number"==typeof e&&(e=r(e,t,n)),e},i.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures.default.messages[e]},i.parseDate=function(e,t,n){var i,r,a;if(n=this.findClosestCulture(n),t){if((t="string"==typeof t?[t]:t).length)for(var s=0,o=t.length;s<o;s++){var l=t[s];if(l&&(i=v(e,l,n)))break}}else for(r in a=n.calendar.patterns)if(i=v(e,a[r],n))break;return i||null},i.parseInt=function(e,t,n){return y(i.parseFloat(e,t,n))},i.parseFloat=function(e,t,n){"number"!=typeof t&&(n=t,t=10);var i,r,a,n=this.findClosestCulture(n),s=NaN,o=n.numberFormat;return e=(e=-1<(e=-1<e.indexOf(n.numberFormat.currency.symbol)?(e=e.replace(n.numberFormat.currency.symbol,"")).replace(n.numberFormat.currency["."],n.numberFormat["."]):e).indexOf(n.numberFormat.percent.symbol)?e.replace(n.numberFormat.percent.symbol,""):e).replace(/ /g,""),c.test(e)?s=parseFloat(e):!t&&u.test(e)?s=parseInt(e,16):(t=(n=l(e,o,o.pattern[0]))[0],a=n[1],""===t&&"(n)"!==o.pattern[0]&&(t=(n=l(e,o,"(n)"))[0],a=n[1]),""===t&&"-n"!==o.pattern[0]&&(t=(n=l(e,o,"-n"))[0],a=n[1]),t=t||"+",n=(e=(e=a.indexOf("e"))<0?a.indexOf("E"):e)<0?(i=a,null):(i=a.substr(0,e),a.substr(e+1)),a=o["."],i=(e=i.indexOf(a))<0?(r=i,null):(r=i.substr(0,e),i.substr(e+a.length)),e=o[","],r=r.split(e).join(""),a=e.replace(/\u00A0/g," "),t=t+(r=e!==a?r.split(a).join(""):r),null!==i&&(t+="."+i),null!==n&&(t+="e"+((e=l(n,o,"-n"))[0]||"+")+e[1]),f.test(t)&&(s=parseFloat(t))),s},i.culture=function(e){return void 0!==e&&(this.cultureSelector=e),this.findClosestCulture(e)||this.cultures.default}}(this),function(u,n,f){function a(){}function s(){}function h(e){return e.replace(/(\w)/g,function(e){return e.charCodeAt(0)-97})}function c(e){return u("<div/>").html(e).text()}var p=n.shield=n.shield||{},g=u.extend,m=u.grep,x=u.proxy,e=navigator.userAgent,r=document,y="shieldWidget",v="object",o="function",b="array",w="number",_="undefined",P="sui-vc-top",C=100,E=1e3,i={},S={},T={};function M(){return E++}function k(e){if(!d.defined(e)||""===e)return"";var r=arguments,a=r&&1<r.length&&typeof r[1]===v,s=typeof Globalize===o&&typeof Globalize.format===o;return e.replace(/\{([\.\d\w\:\-\/\' \[\]]+)\}/g,function(e,t){var n,i=t.indexOf(":");return 0<i&&(t=(n=t).substring(0,i),n=n.substring(i+1)),i=!a||/^\d+$/.test(t)?r[parseInt(t,10)+1]:A(r[1],t),i=n&&s?Globalize.format(i,n):i})}function F(e){var t;return d.func(e)?((t=[].slice.call(arguments)).shift(),e.apply(this,t)):k.apply(this,arguments)}function l(e){var t=Object.prototype.toString.call(e);return null===e?"null":e===f?"undefined":t.substr(8,t.length-9).toLowerCase()}function D(e){function t(e,t){return e instanceof t}var n,i,r,a,s,o=Array.apply(null,arguments),h=d.array(e)&&e.length&&!m(e,function(e){return!d.func(e)}).length,l=o[1];if(!h)return g.apply(u,o);for(d.object(l)||d.array(l)||(l={}),i=2;i<o.length;i++)if(n=o[i])for(r in n)n.hasOwnProperty(r)&&(s=n[r],a=l[r],s&&m(e,x(t,null,s)).length?l[r]=s:d.object(s)||d.array(s)?(d.object(a)||(a=l[r]=d.array(s)?[]:{}),l[r]=D(e,a,s)):d.date(s)?l[r]=new Date(s.getTime()):s!==f&&(l[r]=s));return l}function B(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n}function A(e,t){var n;if(!d.string(t))throw new Error("shield.get: parameter 'path' must be a string.");if(t=N(t),n=S[t])return n(e);try{n=new Function("a","try{return a"+t+"}catch(e){return arguments[1];}")}catch(e){throw new Error("shield.get: invalid 'path' parameter")}return(S[t]=n)(e)}function N(e){for(var t,n,i,r=e.split("."),a=0,s=r.length;a<s;a++)t=(n=r[a]).indexOf("["),n&&(t<0?(i=n.indexOf("'")<0?"'":'"',n=r[a]="["+i+n+i+"]"):0<t&&(n=r[a]="."+n));return r.join("")}function I(e){e=String(e);return e=1===e.length?"0"+e:e}s.extend=function(e){function t(){}var n,i,r,a,s=this,o=e&&e.init?e.init:function(){s.apply(this,arguments)};for(i in t.prototype=s.prototype,n=o.fn=o.prototype=new t,e)e.hasOwnProperty(i)&&(a=l(r=e[i]),n[i]=r&&typeof r===v?g(!0,a===b?[]:{},s.prototype[i],r):r);return(n.constructor=o).extend=s.extend,o},Date.prototype.toISOString||(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+I(this.getUTCMonth()+1)+"-"+I(this.getUTCDate())+"T"+I(this.getUTCHours())+":"+I(this.getUTCMinutes())+":"+I(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"});var O,R,z=s.extend({init:function(e){var t,n=(e||{}).events;for(t in this.events={},e=e||{},n)typeof n[t]===o&&this.on(t,n[t])},on:function(e,t,u){var n,i,r,a,s,o=this.events,l=J.array(e),h=d.func(t);if(d.object(e)){for(s in l=[],e)e.hasOwnProperty(s)&&l.push(s);h=!1,t=e}for(r=0,a=l.length;r<a;r++)e=l[r],n=this._eventType(e),i=h?t:t[e],d.func(i)&&(u&&(i=this._one(e,i)),(o[n]||(o[n]=[])).push({name:e,handler:i}));return this},_one:function(e,t){function n(){i.off(e,n),t.apply(this,arguments)}var i=this;return n},_eventType:function(e){var t=(e+="").indexOf(".");return-1<t?e.substring(0,t):e},_eventNameMatch:function(e,t){var n,i,r,a,s=this._eventType(e),o=this._eventType(t);if(e+="",t+="",s!==o&&o||((n=e.split(".")).shift(),n=m(n,function(e){return d.string(e)&&0<e.length}),i=t.split("."),o&&i.shift(),i=m(i,function(e){return d.string(e)&&0<e.length}),!n||!i))return!1;for(a=r=0;a<i.length;a++)-1<u.inArray(i[a],n)&&r++;return r>=i.length},one:function(e,t){this.on(e,t,!0)},off:function(e,t){var n,i,r,a,s,u,o=this,l=o.events,h=J.array(e),c=d.func(t);if(d.object(e)){for(u in h=[],e)e.hasOwnProperty(u)&&h.push(u);c=!1,t=e}if(d.string(e)&&0===e.indexOf(".")){for(n in l)if(l.hasOwnProperty(n)){for(i=l[n]||[],r=c?t:t||f,s=i.length-1;0<=s;s--)!o._eventNameMatch(i[s].name,e)||d.defined(r)&&i[s].handler!==r||i.splice(s,1);i.length||delete l[n]}}else for(a=0;a<h.length;a++){for(e=h[a],i=l[n=o._eventType(e)]||[],r=c?t:(t||{})[e],s=i.length-1;0<=s;s--)!o._eventNameMatch(i[s].name,e)||d.defined(r)&&i[s].handler!==r||i.splice(s,1);i.length||delete l[n]}return o},trigger:function(e,t){for(var n=this._eventType(e),i=(this.events[n]||[]).slice(),r=0,a=i.length;r<a;r++)i[r].handler.apply(this,[].slice.call(arguments,1));return t},destroy:function(){this.events={}}}),H=s.extend({init:function(e){var t=!1,n=!1;g(this,{timeStamp:(new Date).getTime(),isDefaultPrevented:function(){return t},isPropagationStopped:function(){return n},preventDefault:function(){t=!0},stopPropagation:function(){n=!0}},e)}}),V=z.extend({init:function(e,t){var n=this,i=n.constructor;t=t||{},n.element=u(e),n.initialOptions=t,n.options=g(!0,{},i.defaults,(i.themes||{})[t.theme],t),n._iid=E++,z.fn.init.call(n,t)},getInstanceId:function(){return this._iid},refresh:function(e){this.refreshWithElement(this.element,e)},refreshWithElement:function(e,t){t=D([s],this.options,t);this.destroy(),this.init(e,t)},hide:function(){u(this.element).hide()},show:function(){u(this.element).show()},isVisible:function(){return u(this.element).is(":visible")},visible:function(){var e=[].slice.call(arguments);if(!(0<e.length))return this.isVisible();e[0]?this.show():this.hide()},focus:function(){u(this.element).focus()},trigger:function(e,t,n){return!(t=d.event(t)?{domEvent:t}:t)||!t.domEvent||t.domEvent instanceof u.Event||(t.domEvent=u.Event(t.domEvent)),t=new H(g({type:e,target:this},t)),z.fn.trigger.call(this,e,t),typeof n!==o||t.isDefaultPrevented()||n.call(this,t),t}}),j=z.extend({options:{total:0,pageBuffer:2,createContainer:a,getItems:a,eventNS:".shieldVirtualized",skipRender:!1},init:function(e,t){var n=this;t=n.options=g({},n.options,t),n.element=u(e),z.fn.init.call(n,t),t.skipRender||n.render()},_elements:function(){var e=this,t=e.element,n=e.options,t=e.wrapper=t.off(n.eventNS).empty().css({overflow:"auto",position:"relative"}).on("scroll"+n.eventNS,x(e.scroll,e)).append('<div class="sui-virtualized"/>').find(".sui-virtualized").css({position:"relative",overflow:"visible"});e.container=u(n.createContainer(t));t.children().css({position:"absolute",top:0}),e._positionedContainer=t.children().first()},_dimensions:function(){var e=this.options,t=e.total,e=e.itemHeight,n=Math.min(t*e,p.support.maxElementHeight),i=this.element.height(),r=Math.ceil(i/e);return{total:t,itemHeight:e,totalHeight:n,viewportHeight:i,itemsPerPage:r,pageHeight:r*e,totalScrollableHeight:n-i}},render:function(){var e,t=this,n=t.element,i=t.options;t._elements(),t.prevScroll=0,e=t.dimensions=t._dimensions(),n.find(".sui-virtualized").height(e.totalHeight),t._renderItems(0,Math.min(i.total,(i.pageBuffer+1)*e.itemsPerPage))},_renderItems:function(e,t,r){var a=this;a.options.getItems(e,t,function(e,t){var n,i=e.length;for((t=!d.defined(t)||!!t)&&a.container.empty(),n=0;n<i;n++)a.container.append(e[n]);r&&r()})},scroll:function(){var e=this,t=e.options.pageBuffer,n=e.dimensions,i=e.element.scrollTop(),r=i-e.prevScroll,a=i/n.totalScrollableHeight,s=e._positionedContainer,o=s.data(P)||0,l=i-a*(n.pageHeight-n.viewportHeight),h=0<r&&l-o>(t/4+1)*n.pageHeight;(r<0&&l-o<=t/4*n.pageHeight||h)&&(r=Math.min(n.total,Math.floor(a*n.total-a*n.itemsPerPage)),o=Math.max(0,r-t/2*n.itemsPerPage),h=Math.min(n.total,o+(t+1)*n.itemsPerPage),l=Math.max(0,l-(r-o)*n.itemHeight),e._renderItems(o,h,function(){s.css("top",l),s.data(P,l)})),e.prevScroll=i},scrollTop:function(e){var t=this.element;if(!d.defined(e))return t.scrollTop();t.scrollTop(e)},destroy:function(){var e=this.options;this.element.off(e.eventNS),this.element=null,e.createContainer=a,e.getItems=a,z.fn.destroy.call(this)}});function L(e,t){for(var n,i=[],r=u(e).length,a=t?y+"-"+t:y,s=0;s<r;s++)(n=u(u(e)[s]).data(a))&&i.push(n);return i}u.fn.swidget=function(e){e=L(this,e);return e.length?1<e.length?e:e[0]:null},u.fn.swidgets=function(e){return L(this,e)},-1<(O="cacc").indexOf("@")||(O=h(O),R=h("j"),n.setTimeout(function(){var e,t=new Date(O,h("e"),R);(new Date).getTime()>=t.getTime()&&(e=t,u(function(){u(c("&#x3C;&#x64;&#x69;&#x76;&#x20;&#x73;&#x74;&#x79;&#x6C;&#x65;&#x3D;&#x22;&#x70;&#x6F;&#x73;&#x69;&#x74;&#x69;&#x6F;&#x6E;&#x3A;&#x66;&#x69;&#x78;&#x65;&#x64;&#x3B;&#x20;&#x77;&#x69;&#x64;&#x74;&#x68;&#x3A;&#x31;&#x30;&#x30;&#x25;&#x3B;&#x20;&#x68;&#x65;&#x69;&#x67;&#x68;&#x74;&#x3A;&#x31;&#x30;&#x30;&#x25;&#x3B;&#x20;&#x74;&#x6F;&#x70;&#x3A;&#x30;&#x3B;&#x20;&#x6C;&#x65;&#x66;&#x74;&#x3A;&#x30;&#x3B;&#x20;&#x72;&#x69;&#x67;&#x68;&#x74;&#x3A;&#x30;&#x3B;&#x20;&#x62;&#x6F;&#x74;&#x74;&#x6F;&#x6D;&#x3A;&#x30;&#x3B;&#x20;&#x62;&#x61;&#x63;&#x6B;&#x67;&#x72;&#x6F;&#x75;&#x6E;&#x64;&#x2D;&#x63;&#x6F;&#x6C;&#x6F;&#x72;&#x3A;&#x72;&#x67;&#x62;&#x61;&#x28;&#x30;&#x2C;&#x30;&#x2C;&#x30;&#x2C;&#x30;&#x2E;&#x39;&#x35;&#x29;&#x3B;&#x20;&#x7A;&#x2D;&#x69;&#x6E;&#x64;&#x65;&#x78;&#x3A;&#x32;&#x30;&#x30;&#x30;&#x3B;&#x20;&#x63;&#x6F;&#x6C;&#x6F;&#x72;&#x3A;&#x23;&#x32;&#x32;&#x32;&#x3B;&#x20;&#x64;&#x69;&#x73;&#x70;&#x6C;&#x61;&#x79;&#x3A;&#x6E;&#x6F;&#x6E;&#x65;&#x3B;&#x22;&#x3E;&#x3C;&#x2F;&#x64;&#x69;&#x76;&#x3E;")).append(u(c("&#x3C;&#x73;&#x70;&#x61;&#x6E;&#x20;&#x73;&#x74;&#x79;&#x6C;&#x65;&#x3D;&#x22;&#x70;&#x6F;&#x73;&#x69;&#x74;&#x69;&#x6F;&#x6E;&#x3A;&#x61;&#x62;&#x73;&#x6F;&#x6C;&#x75;&#x74;&#x65;&#x3B;&#x20;&#x74;&#x6F;&#x70;&#x3A;&#x30;&#x3B;&#x20;&#x72;&#x69;&#x67;&#x68;&#x74;&#x3A;&#x30;&#x3B;&#x20;&#x63;&#x6F;&#x6C;&#x6F;&#x72;&#x3A;&#x77;&#x68;&#x69;&#x74;&#x65;&#x3B;&#x20;&#x77;&#x69;&#x64;&#x74;&#x68;&#x3A;&#x34;&#x38;&#x70;&#x78;&#x3B;&#x20;&#x68;&#x65;&#x69;&#x67;&#x68;&#x74;&#x3A;&#x34;&#x32;&#x70;&#x78;&#x3B;&#x20;&#x6D;&#x61;&#x72;&#x67;&#x69;&#x6E;&#x2D;&#x72;&#x69;&#x67;&#x68;&#x74;&#x3A;&#x31;&#x30;&#x70;&#x78;&#x3B;&#x20;&#x74;&#x65;&#x78;&#x74;&#x2D;&#x61;&#x6C;&#x69;&#x67;&#x6E;&#x3A;&#x63;&#x65;&#x6E;&#x74;&#x65;&#x72;&#x3B;&#x20;&#x66;&#x6F;&#x6E;&#x74;&#x2D;&#x73;&#x69;&#x7A;&#x65;&#x3A;&#x34;&#x32;&#x70;&#x78;&#x3B;&#x20;&#x63;&#x75;&#x72;&#x73;&#x6F;&#x72;&#x3A;&#x70;&#x6F;&#x69;&#x6E;&#x74;&#x65;&#x72;&#x3B;&#x20;&#x7A;&#x2D;&#x69;&#x6E;&#x64;&#x65;&#x78;&#x3A;&#x31;&#x30;&#x3B;&#x22;&#x3E;&#x26;&#x23;&#x31;&#x30;&#x37;&#x39;&#x39;&#x3B;&#x3C;&#x2F;&#x73;&#x70;&#x61;&#x6E;&#x3E;")).click(function(){u(this).parent().remove()}),u(c("&#x3C;&#x64;&#x69;&#x76;&#x20;&#x73;&#x74;&#x79;&#x6C;&#x65;&#x3D;&#x22;&#x77;&#x69;&#x64;&#x74;&#x68;&#x3A;&#x32;&#x30;&#x30;&#x70;&#x78;&#x3B;&#x20;&#x6D;&#x69;&#x6E;&#x2D;&#x68;&#x65;&#x69;&#x67;&#x68;&#x74;&#x3A;&#x31;&#x35;&#x30;&#x70;&#x78;&#x3B;&#x20;&#x6D;&#x61;&#x72;&#x67;&#x69;&#x6E;&#x3A;&#x61;&#x75;&#x74;&#x6F;&#x3B;&#x20;&#x62;&#x61;&#x63;&#x6B;&#x67;&#x72;&#x6F;&#x75;&#x6E;&#x64;&#x2D;&#x63;&#x6F;&#x6C;&#x6F;&#x72;&#x3A;&#x77;&#x68;&#x69;&#x74;&#x65;&#x3B;&#x20;&#x70;&#x6F;&#x73;&#x69;&#x74;&#x69;&#x6F;&#x6E;&#x3A;&#x61;&#x62;&#x73;&#x6F;&#x6C;&#x75;&#x74;&#x65;&#x3B;&#x20;&#x74;&#x6F;&#x70;&#x3A;&#x35;&#x30;&#x25;&#x3B;&#x20;&#x6C;&#x65;&#x66;&#x74;&#x3A;&#x35;&#x30;&#x25;&#x3B;&#x20;&#x6D;&#x61;&#x72;&#x67;&#x69;&#x6E;&#x2D;&#x74;&#x6F;&#x70;&#x3A;&#x2D;&#x37;&#x35;&#x70;&#x78;&#x3B;&#x20;&#x6D;&#x61;&#x72;&#x67;&#x69;&#x6E;&#x2D;&#x6C;&#x65;&#x66;&#x74;&#x3A;&#x2D;&#x31;&#x30;&#x30;&#x70;&#x78;&#x3B;&#x20;&#x70;&#x61;&#x64;&#x64;&#x69;&#x6E;&#x67;&#x3A;&#x31;&#x30;&#x70;&#x78;&#x3B;&#x20;&#x74;&#x65;&#x78;&#x74;&#x2D;&#x61;&#x6C;&#x69;&#x67;&#x6E;&#x3A;&#x6A;&#x75;&#x73;&#x74;&#x69;&#x66;&#x79;&#x3B;&#x20;&#x62;&#x6F;&#x72;&#x64;&#x65;&#x72;&#x3A;&#x33;&#x70;&#x78;&#x20;&#x73;&#x6F;&#x6C;&#x69;&#x64;&#x20;&#x23;&#x30;&#x30;&#x38;&#x30;&#x30;&#x30;&#x3B;&#x22;&#x3E;&#x3C;&#x2F;&#x64;&#x69;&#x76;&#x3E;")).append(u(c("&#x3C;&#x70;&#x20;&#x73;&#x74;&#x79;&#x6C;&#x65;&#x3D;&#x22;&#x6D;&#x61;&#x72;&#x67;&#x69;&#x6E;&#x2D;&#x74;&#x6F;&#x70;&#x3A;&#x35;&#x70;&#x78;&#x3B;&#x22;&#x3E;&#x3C;&#x61;&#x20;&#x68;&#x72;&#x65;&#x66;&#x3D;&#x22;&#x68;&#x74;&#x74;&#x70;&#x73;&#x3A;&#x2F;&#x2F;&#x77;&#x77;&#x77;&#x2E;&#x73;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x75;&#x69;&#x2E;&#x63;&#x6F;&#x6D;&#x3F;&#x73;&#x72;&#x63;&#x3D;&#x74;&#x72;&#x69;&#x61;&#x6C;&#x65;&#x78;&#x70;&#x22;&#x20;&#x74;&#x61;&#x72;&#x67;&#x65;&#x74;&#x3D;&#x22;&#x5F;&#x62;&#x6C;&#x61;&#x6E;&#x6B;&#x22;&#x3E;&#x3C;&#x69;&#x6D;&#x67;&#x20;&#x73;&#x72;&#x63;&#x3D;&#x22;&#x68;&#x74;&#x74;&#x70;&#x73;&#x3A;&#x2F;&#x2F;&#x77;&#x77;&#x77;&#x2E;&#x73;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x75;&#x69;&#x2E;&#x63;&#x6F;&#x6D;&#x2F;&#x6C;&#x6F;&#x67;&#x6F;&#x2E;&#x70;&#x6E;&#x67;&#x22;&#x20;&#x73;&#x74;&#x79;&#x6C;&#x65;&#x3D;&#x22;&#x77;&#x69;&#x64;&#x74;&#x68;&#x3A;&#x37;&#x30;&#x25;&#x3B;&#x20;&#x68;&#x65;&#x69;&#x67;&#x68;&#x74;&#x3A;&#x61;&#x75;&#x74;&#x6F;&#x3B;&#x20;&#x6D;&#x61;&#x72;&#x67;&#x69;&#x6E;&#x3A;&#x61;&#x75;&#x74;&#x6F;&#x3B;&#x20;&#x6F;&#x75;&#x74;&#x6C;&#x69;&#x6E;&#x65;&#x3A;&#x30;&#x3B;&#x22;&#x20;&#x62;&#x6F;&#x72;&#x64;&#x65;&#x72;&#x3D;&#x22;&#x30;&#x22;&#x20;&#x61;&#x6C;&#x74;&#x3D;&#x22;&#x53;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x20;&#x55;&#x49;&#x22;&#x20;&#x2F;&#x3E;&#x3C;&#x2F;&#x61;&#x3E;&#x3C;&#x2F;&#x70;&#x3E;")),u(c("&#x3C;&#x70;&#x3E;&#x54;&#x68;&#x69;&#x73;&#x20;&#x54;&#x72;&#x69;&#x61;&#x6C;&#x20;&#x63;&#x6F;&#x70;&#x79;&#x20;&#x6F;&#x66;&#x20;&#x53;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x20;&#x55;&#x49;&#x20;&#x68;&#x61;&#x73;&#x20;&#x65;&#x78;&#x70;&#x69;&#x72;&#x65;&#x64;&#x21;&#x3C;&#x2F;&#x70;&#x3E;")),u(c("&#x3C;&#x70;&#x20;&#x73;&#x74;&#x79;&#x6C;&#x65;&#x3D;&#x22;&#x6D;&#x61;&#x72;&#x67;&#x69;&#x6E;&#x2D;&#x62;&#x6F;&#x74;&#x74;&#x6F;&#x6D;&#x3A;&#x30;&#x70;&#x78;&#x3B;&#x22;&#x3E;&#x56;&#x69;&#x73;&#x69;&#x74;&#x20;&#x3C;&#x61;&#x20;&#x68;&#x72;&#x65;&#x66;&#x3D;&#x22;&#x68;&#x74;&#x74;&#x70;&#x73;&#x3A;&#x2F;&#x2F;&#x77;&#x77;&#x77;&#x2E;&#x73;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x75;&#x69;&#x2E;&#x63;&#x6F;&#x6D;&#x3F;&#x73;&#x72;&#x63;&#x3D;&#x74;&#x72;&#x69;&#x61;&#x6C;&#x65;&#x78;&#x70;&#x22;&#x20;&#x74;&#x61;&#x72;&#x67;&#x65;&#x74;&#x3D;&#x22;&#x5F;&#x62;&#x6C;&#x61;&#x6E;&#x6B;&#x22;&#x20;&#x73;&#x74;&#x79;&#x6C;&#x65;&#x3D;&#x22;&#x63;&#x6F;&#x6C;&#x6F;&#x72;&#x3A;&#x62;&#x6C;&#x75;&#x65;&#x3B;&#x20;&#x74;&#x65;&#x78;&#x74;&#x2D;&#x64;&#x65;&#x63;&#x6F;&#x72;&#x61;&#x74;&#x69;&#x6F;&#x6E;&#x3A;&#x75;&#x6E;&#x64;&#x65;&#x72;&#x6C;&#x69;&#x6E;&#x65;&#x3B;&#x22;&#x3E;&#x6F;&#x75;&#x72;&#x20;&#x77;&#x65;&#x62;&#x70;&#x61;&#x67;&#x65;&#x3C;&#x2F;&#x61;&#x3E;&#x20;&#x74;&#x6F;&#x20;&#x67;&#x65;&#x74;&#x20;&#x61;&#x20;&#x6E;&#x65;&#x77;&#x20;&#x76;&#x65;&#x72;&#x73;&#x69;&#x6F;&#x6E;&#x2E;&#x3C;&#x2F;&#x70;&#x3E;"))).attr("data-xd",""+e)).appendTo(r.body).show()}))},+O+500));var W,G,U,X,q,$,Y,K,d={string:function(e){return"string"===l(e)},number:function(e){return l(e)===w},integer:function(e){return l(e)===w&&/^[\+\-]?\d+$/.test(e+"")},float:function(e){return l(e)===w&&/^[\+\-]?\d+\.\d+$/.test(e+"")},func:function(e){return l(e)===o},object:function(e){return l(e)===v},array:function(e){return l(e)===b},date:function(e){return"date"===l(e)},boolean:function(e){return"boolean"===l(e)},null:function(e){return"null"===l(e)},undefined:function(e){return l(e)===_},defined:function(e){return e!==f&&null!==e},event:function(e){return typeof n.Event==o&&e instanceof n.Event||e&&e.altKey!==f}},J={int:function(e,t){return parseInt(e,t||10)},float:function(e){return parseFloat(e)},number:function(e){return e=e+"",e=d.defined(e)&&typeof Globalize===o&&typeof Globalize.parseFloat===o?Globalize.parseFloat(e):Number(e),isNaN(e)?null:e},array:function(e){return e instanceof Array?e:e!==f?[e]:[]},string:function(e){return e+""},key:function(n){var e,i,t,r,a=l(n);switch(a){case"null":case _:return a;case v:return e=B(n).sort(),i=[],u.each(e,function(e,t){i.push(t+":"+J.key(n[t]))}),"{"+i.join(",")+"}";case b:for(i="[",t=0,r=n.length;t<r;t++)i+=J.key(n[t]),t<r-1&&(i+=",");return i+="]";case"date":return n.toISOString();default:return n+""}}};function t(e){e?r.onselectstart==t.handler&&(r.onselectstart=t.onselectstart,r.ondragstart=t.ondragstart):r.onselectstart!=t.handler&&(t.onselectstart=r.onselectstart,t.ondragstart=r.ondragstart,r.onselectstart=r.ondragstart=t.handler)}i.stableSort="xyzvwtursopqmnklhijfgdeabc"==(W="abcdefghijklmnopqrstuvwxyz").split("").sort(function(e,t){return~~(W.indexOf(t)/2.3)-~~(W.indexOf(e)/2.3)}).join(""),i.scrollbar=function(){var e,t=r.createElement("div");return t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both",t.innerHTML="&nbsp;",r.body.appendChild(t),e=t.offsetWidth-t.scrollWidth,r.body.removeChild(t),e},i.isRtl=function(e){return 0<u(e).closest(".sui-rtl").length},i.transitions=function(){var e,t=(r.body||r.documentElement).style,n="Transition",i=["Moz","webkit","Webkit","Khtml","O","ms"];if(d.string(t[n.toLowerCase()]))return!0;for(e=0;e<i.length;e++)if(d.string(t[i[e]+n]))return!0;return!1}(),i.hasScrollbarY=function(e){e=u(e).get(0);return e.scrollHeight>e.clientHeight},i.hasScrollbarX=function(e){e=u(e).get(0);return e.scrollWidth>e.clientWidth},p.rAF=function(e){return(n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||function(e){return this.setTimeout(e,1e3/60)}).call(n,e)},p.cAF=function(e){return(n.cancelAnimationFrame||n.clearTimeout)(e)},G=/MSIE/i.test(e),U=/Trident/i.test(e),X=/Firefox/i.test(e),q=/Opera/i.test(e),$=/Safari/i.test(e),Y=/Chrome/i.test(e),K=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e),i.browser={ie:G||U,firefox:X,opera:q,safari:!Y&&$,chrome:Y,mobile:K,version:G?parseInt(e.substr(e.indexOf("MSIE ")+5),10):U?parseInt(e.substr(e.indexOf("rv:")+3),10):X?parseInt(e.substr(e.indexOf("Firefox/")+8),10):q?parseInt(e.substr(e.indexOf("Version/")+8),10):Y?parseInt(e.substr(e.indexOf("Chrome/")+7),10):$?parseInt(e.substr(e.indexOf("Version/")+8),10):0},u(function(){for(var e,t=u('<div style="display:none;"/>').appendTo(r.body),n=1e6;t.css("height",e=n+1e6),!(1e9<e||t.height()!==e);)n=e;t.remove(),i.maxElementHeight=n}),t.handler=function(){return!1},g(p,{Class:s,Dispatcher:z,Event:H,Constants:{SVG_NS:"http://www.w3.org/2000/svg",XHTML_NS:"http://www.w3.org/1999/xhtml",KeyCode:{BACK:8,TAB:9,ENTER:13,CTRL:17,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:46}},format:F,formatString:k,parseDate:function(e,t){return typeof Globalize===o&&typeof Globalize.format===o?Globalize.parseDate(e,t):new Date(e)},getCalendarInfo:function(){return typeof Globalize===o&&Globalize.cultures&&Globalize.cultures[Globalize.cultureSelector]&&Globalize.cultures[Globalize.cultureSelector].calendar?Globalize.cultures[Globalize.cultureSelector].calendar:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},firstDay:0,months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]}}},getCurrencyInfo:function(){return typeof Globalize===o&&Globalize.cultures&&Globalize.cultures[Globalize.cultureSelector]&&Globalize.cultures[Globalize.cultureSelector].numberFormat?Globalize.cultures[Globalize.cultureSelector].numberFormat.currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},error:function(e,t){if(t=t!==f?t:p.dieOnError)throw new Error(e);n.console&&(n.console.error?console.error(e):console.log(e))},dieOnError:!0,iid:M,strid:function(){return"shield"+function(e){var t,n="";for(e=Math.abs(e);t=e%26,n=String.fromCharCode(97+t)+n,0<(e=(e-t)/26););return n}(C++)},guid:function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+"-"+e()+"-4"+e().substr(0,3)+"-"+[8,9,"a","b"][Math.floor(4*Math.random())]+e().substr(0,3)+"-"+e()+e()+e()},support:i,extend:D,selection:t,type:l,is:d,to:J,keys:B,get:A,set:function(e,t,n){var i;if(!d.string(t))throw new Error("shield.set: parameter 'path' must be a string");if(t=N(t),i=T[t])return i(e,n);try{i=new Function("obj,val","obj"+t+"=val;")}catch(e){throw new Error("shield.set: invalid 'path' parameter")}return(T[t]=i)(e,n),e},ui:g({},p.ui||{},{Widget:V,VirtualizedContainer:j,plugin:function(a,t){p.ui[a]=t,u.fn["shield"+a]=function(n){var i,r=this;return"string"==typeof n?(i=[].slice.call(arguments,1),this.each(function(){var e,t=u(this).data(y);if(!t)throw new Error(F("shield: cannot call method '{0}' on uninitialized {1}.",n,a));if(typeof(e=t[n])!==o)throw new Error(F("shield: cannot find method '{0}' of {1}",n,a));if((e=e.apply(t,i))!==f)return r=e,!1}),r):this.each(function(){var e=new t(this,n);u(this).data(y,e),u(this).data(y+"-"+a,e)})}}})})}(jQuery,this),function(d,e,l){function n(){}var i,r,a,v,P,h,c,s,o,f,p,g,u,t=e.Class,m=e.Dispatcher,x=Math.min,y=Math.max,b=e.is,C=e.to,w=e.get,E=e.set,S=(e.support,e.type),_=d.extend,T=d.proxy,M=d.each,k=d.grep,F=d.inArray,D=d.Deferred,B="function",A="array",N="change",I="error",O="complete",R="afterset";function z(e,t){var n,i,r=[];if(e.map)return e.map(t);for(n=0,i=e.length;n<i;n++)r[n]=t(e[n],n,e);return r}function H(e,t,n,i){e=w(e,t);return e===l?n&&(e=u.def(n,i,!0)):e=u.convert(e,n),e}i=t.extend({init:function(e){this.data=e},read:function(e,t,n,i){return t(this.data,!1,i)},modify:function(e,t,n,i){t(i)}}),r=t.extend({init:function(e,t){this.options=e,this.cache=t},read:function(t,n,e,i){var r,a=this.options.read,s=this.cache;b.func(a)?a(t,n,e,i):(a=b.string(a)?{url:a}:_(!0,{},a),b.func(a.data)&&(t=a.data(t,i)),(r=s.get(t))!==l?n(r,!0,i):(a.data=t,a.error=e,a.success=function(e){s.set(t,e),n(e,!1,i)},d.ajax(a)))},modify:function(e,t,n,i){function u(e){return e.data}var r,a,s,o,l=this.options.modify||{},c=["create","update","remove"],f=["added","edited","removed"],h=[];if(b.func(l))l(e,t,n,i);else{for(o=0;o<c.length;o++)a=l[c[o]],e[s=f[o]].length?(b.string(a)&&(a={url:a,type:"POST"}),b.func(a)?(r=h[o]=new D,a(e[s],T(r.resolve,r),T(r.reject,r),i)):b.object(a)?(a=_(!0,{},a),b.func(a.data)?a.data=a.data(e[s],i):(a.data={},a.data[s]=z(e[s],u)),r=h[o]=d.ajax(a)):(r=h[o]=new D).resolve()):(r=h[o]=new D).resolve();d.when.apply(d,h).then(t,n)}}}),(a=t.extend({init:function(){this.values={}},get:function(e){return this.values[C.key(e)]},set:function(e,t){return this.values[C.key(e)]=t},remove:function(e){var e=C.key(e),t=this.values[e];return delete this.values[e],t},clear:function(){this.values=[]}})).noop={get:n,set:n},(P=t.extend({init:function(e,t){b.object(e)?e=C.array(e):b.string(e)&&(e=[{path:e,desc:!!t}]),this._expr=e},build:function(){var i,l,e=this._expr,t=P.cache;return b.func(e)?(i=e,function(e,t){var n=i(e.item,t.item);return 0!==n?n:e.index-t.index}):b.array(e)?t.get(e)||t.set(e,(l=[].concat(e),function(e,t){for(var n,i,r,a,s=0,o=l.length;s<o;s++)if(i=e.item,r=t.item,a=(n=l[s]||{}).path,n=n.desc?-1:1,b.string(a)?(i=w(i,a),r=w(r,a)):b.func(a)&&(i=a(i),r=a(r)),(i=b.date(i)?i.getTime():i)!==(r=b.date(r)?r.getTime():r)&&(null!=i||null!=r)){if(null==i)return-1*n;if(null==r)return n;if(b.number(i)&&b.number(r)||(i=i.toString(),r=r.toString()),i.localeCompare){if(0===(a=i.localeCompare(r)))continue;return a*n}if(r<i)return n;if(i<r)return-1*n}return e.index-t.index})):void 0}})).cache=new a,(h=t.extend({init:function(e){this._expr=e||[]},build:function(){var e=h.cache,t=this._expr,n=this._func||(this._func=e.get(t));return n||(n=this._buildRecursive(t,!0))&&e.set(t,n),n},_single:function(e){var t,n,i,r,a;if(e)return b.func(e.filter)?e.filter:(t=h.filters[h.filterAliases[e.filter]])?(n=e.path,i=t,r=e.value,a=e.sensitive,function(e){return i(w(e,n),r,a)}):void 0},_multiple:function(r,a){return function(e){for(var t=!0,n=r.length,i=0;i<n;i++)if(t=r[i](e),a){if(!t)break}else if(t)break;return t}},_buildRecursive:function(e,t){var n,i,r=[];if(b.array(e)){for(n=0,i=e.length;n<i;n++)r.push(this._buildRecursive(e[n]));return 1<r.length?this._multiple(r,t):r[0]}return e.and||e.or?this._buildRecursive(e.and||e.or,!!e.and):this._single(e)}})).cache=new a,h.normalize={equatable:function(e,t,n){return b.date(e)?{a:e.getTime(),b:new Date(t).getTime()}:h.normalize.string(e,t,n)},string:function(e,t,n){return{a:n?e+"":(e+"").toLowerCase(),b:n?t+"":(t+"").toLowerCase()}},scalar:function(e,t){return b.date(e)?{a:e.getTime(),b:new Date(t).getTime()}:isNaN(parseFloat(e))?{a:e,b:t}:{a:parseFloat(e),b:parseFloat(t)}}},h.filters={eq:function(e,t,n){e=h.normalize.equatable(e,t,n);return e.a===e.b},neq:function(e,t,n){e=h.normalize.equatable(e,t,n);return e.a!==e.b},con:function(e,t,n){e=h.normalize.string(e,t,n);return-1<e.a.indexOf(e.b)},notcon:function(e,t,n){e=h.normalize.string(e,t,n);return e.a.indexOf(e.b)<0},starts:function(e,t,n){e=h.normalize.string(e,t,n);return 0===e.a.indexOf(e.b)},ends:function(e,t,n){e=h.normalize.string(e,t,n);return e.a.indexOf(e.b)===e.a.length-e.b.length},gt:function(e,t){e=h.normalize.scalar(e,t);return e.a>e.b},lt:function(e,t){e=h.normalize.scalar(e,t);return e.a<e.b},gte:function(e,t){e=h.normalize.scalar(e,t);return e.a>=e.b},lte:function(e,t){e=h.normalize.scalar(e,t);return e.a<=e.b},isnull:function(e){return null==e},notnull:function(e){return null!=e}},h.filterAliases={eq:"eq",equal:"eq",equals:"eq","==":"eq",neq:"neq",ne:"neq",doesnotequal:"neq",notequal:"neq",notequals:"neq","!=":"neq",con:"con",contains:"con",notcon:"notcon",doesnotcontain:"notcon",notcontains:"notcon",starts:"starts",startswith:"starts",ends:"ends",endswith:"ends",gt:"gt",greaterthan:"gt",">":"gt",lt:"lt",lessthan:"lt","<":"lt",gte:"gte",ge:"gte",greaterthanorequal:"gte",">=":"gte",lte:"lte",le:"lte",lessthanorequal:"lte","<=":"lte",isnull:"isnull",null:"isnull",notnull:"notnull",isnotnull:"notnull"},(c=t.extend({init:function(){},build:function(e){var t=c.cache,n=t.get(e);return n||(n=this._build(e))&&t.set(e,n),n},_build:function(e){if(!e)return null;function a(e){return e===l?u.def(o):u.convert(e,o)}var s=e.field,t=e.aggregate,o=e.type||Number;return b.func(t)?t:"count"==t?function(e){return e.length}:"sum"==t?function(e){for(var t,n=0,i=e.length,r=0;r<i;r++)t=H(e[r],s,o),n+=o==Date&&b.date(t)?t.getTime():t;return a(n)}:"average"==t?function(e){for(var t,n=0,i=e.length,r=0;r<i;r++)t=H(e[r],s,o),n+=o==Date&&b.date(t)?t.getTime():t;return a(n/i)}:"min"==t?function(e){return a(x.apply(null,z(e,function(e){return H(e,s,o)})))}:"max"==t?function(e){return a(y.apply(null,z(e,function(e){return H(e,s,o)})))}:l}})).cache=new a,(v=t.extend({init:function(e,t,n,i,r){var a=this;a.data=e,a.total=null!=t?t:e?e.length:0,a.aggregates=n,a.groups=i,a.indices=b.array(r)?r.slice(0):z(e||[],function(e,t){return t})},filter:function(e){var t,n,i,r=this,a=new h(e).build(),s=r.data,o=[],l=[];if(a){for(t=0,n=s.length;t<n;t++)a(i=s[t])&&(o.push(i),l.push(r.indices[t]));r.indices=l}else o=s.slice(0);return new v(o,o.length,r.aggregates,r.groups,r.indices)},aggregate:function(e){var t,n,i,r,a=this,s=new c,o=a.data;for(b.array(e)||(e=[e]),a.aggregates=[],t=0;t<e.length;t++)n=e[t],(i=s.build(n))&&(r=i(o,n)),a.aggregates.push(_({},n,{value:r}));return new v(o.slice(0),a.total,a.aggregates,a.groups,a.indices)},aggregateGroups:function(e){var t=this,n=t.data.slice(0),e=new v(t._getInnerMostItems(n),null,null,null,null).aggregate(e);return new v(n,t.total,e.aggregates,t.groups,t.indices)},_getInnerMostItems:function(e){var n=[];return M(this._getInnerMostGroups(e),function(e,t){n=n.concat(t.items)}),n},_getInnerMostGroups:function(e){var n=this,i=[];return M(e||[],function(e,t){i=i.concat(n._hasInnerGroups(t)?n._getInnerMostGroups(t.items):t)}),i},_hasInnerGroups:function(e){return!!(e&&e.items&&0<e.items.length)&&(e.items[0].field&&b.array(e.items[0].items))},group:function(e){var t=this,n=t.data.slice(0);return 0<(e=b.array(e)?e:[e]).length&&(n=(e=t._groupData(e,n,t.indices))[0],t.indices=e[1]),new v(n,t.total,t.aggregates,t.groups,t.indices)},_groupData:function(e,u,c){var f,n,i,t,r=[],a=[],s=e.slice(0),o=s.shift(),d=o.field,p=o.aggregate,e=o.order,g={};if(M(u,function(e,t){n=w(t,d),i=g[n],b.defined(i)?r[i].items.push({item:t,index:c[e]}):(g[n]=r.length,r.push(_({},o,{value:n,items:[{item:t,index:c[e]}]})))}),e&&(f=new P("value","desc"==e).build())){for(l=0;l<r.length;l++)r[l]={item:r[l],index:l};for(r.sort(f),l=0;l<r.length;l++)r[l]=r[l].item}for(l=0;l<r.length;l++)for(t=0;t<r[l].items.length;t++)a.push(r[l].items[t].index),r[l].items[t]=r[l].items[t].item;if(p&&M(r,function(e,t){r[e].aggregate=new v(t.items).aggregate(p).aggregates}),s&&0<s.length){for(var m=0,x=[],l=0;l<r.length;l++){var h=r[l],y=a.slice(m,m+(h.items?h.items.length:0)),y=this._groupData(s,h.items,y);r[l].items=y[0],x=x.concat(y[1]),m+=h.items?h.items.length:0}a=x}return[r,a]},sort:function(e,t){var n,i=this,e=new P(e,t).build(),r=i.data.slice(0),a=[],s=r?r.length:0,o=i.indices;if(e){for(n=0;n<s;n++)a.push({index:o[n],item:r[n]});for(a.sort(e),n=0;n<s;n++)r[n]=a[n].item,i.indices[n]=a[n].index}return new v(r,i.total,i.aggregates,i.groups,i.indices)},sortGroups:function(n,i){var r=this,e=r.data.slice(0),a=[],s=0,o=function(e){var t;r._hasInnerGroups(e)?M(e.items,function(e,t){o(t)}):(t=new v(e.items,null,null,null,r.indices.slice(s,s+(e.items?e.items.length:0))).sort(n,i),e.items=t.data,a=a.concat(t.indices),s+=e.items?e.items.length:0)};return M(e,function(e,t){o(t)}),new v(e,r.total,r.aggregates,r.groups,a)},_sliceGroups:function(e,l,h,u){var c,f=this,d=0,n=[],p=[],g=b.defined(u);return 0!==h||g?(c=function(e){var i,r,t,n,a,s,o;return f._hasInnerGroups(e)?(i=[],r=0,M(e.items,function(e,t){var n=c(t);0<n&&(i.push(t),r+=n)}),e.items=i,r):(a=(t=d)+(n=e.items.length)-1,g?a<=u-1?h<=a&&(s=y(0,h-t),o=n):t<=u-1&&h<=a&&(s=y(0,h-t),o=x(n,u-t)):h<=t?(s=0,o=n):t<=h&&h<=a&&(s=y(0,h-t),o=n),b.defined(s)&&b.defined(o)&&s<o?(e.items=e.items.slice(s,o),p=p.concat(l.slice(t+s,t+o))):e.items=[],d+=n,e.items.length)},M(e,function(e,t){0<c(t)&&n.push(t)}),[n,p]):[e.slice(0),l.slice(0)]},skip:function(e){var t=this;return new v(t.data.slice(e),t.total,t.aggregates,t.groups,t.indices.slice(e))},skipGroups:function(e){var t=this,e=t._sliceGroups(t.data,t.indices,e);return new v(e[0],t.total,t.aggregates,t.groups,e[1])},take:function(e){var t=this;return new v(t.data.slice(0,e),t.total,t.aggregates,t.groups,t.indices.slice(0,e))},takeGroups:function(e){var t=this,e=t._sliceGroups(t.data,t.indices,0,e);return new v(e[0],t.total,t.aggregates,t.groups,e[1])}})).create=function(e,t,n,i,r){t=t||{};e=new v(e,n,i,r),n=-1<(t.remoteOperations||[]).join(" ").indexOf("group");return t.group||n?(t.group?e=(e=t.filter?e.filter(t.filter):e).group(t.group):e.data=e.groups,t.aggregate&&(e=e.aggregateGroups(t.aggregate)),t.sort&&(e=e.sortGroups(t.sort)),t.skip&&(e=e.skipGroups(t.skip)),t.take&&(e=e.takeGroups(t.take))):(t.filter&&(e=e.filter(t.filter)),t.aggregate&&(e=e.aggregate(t.aggregate)),t.sort&&(e=e.sort(t.sort)),t.skip&&(e=e.skip(t.skip)),t.take&&(e=e.take(t.take))),e},(s=m.extend({init:function(e){var t=this,e=t.options=b.array(e)?{data:e}:e||{},n=e.schema||{},i=s.schemas[n.type||"json"];t.data=null,t.filter=e.filter,t.sort=e.sort,t.skip=e.skip,t.take=e.take,t.group=e.group,t.aggregate=e.aggregate,t.schema=new i(n),t.remote=e.remote,t.cache=new a,t._recursive=!!e.recursive,m.fn.init.call(t,e)},isRecursive:function(){return this._recursive},trigger:e.ui.Widget.fn.trigger,_client:function(){var e=this.remote;return b.object(e)?new r(e,e.cache?this.cache:a.noop):new i(this.options.data)},_params:function(){var n,i=this,r=i.remote,a=i._remoteOperations().join(" "),s={local:{},remote:{}};return M(["filter","aggregate","group","sort","skip","take"],function(e,t){null!=(n=i[t])&&(r&&-1<a.indexOf(t)?s.remote[t]=n:s.local[t]=n)}),s},_remoteOperations:function(){var e=this.remote;return e&&e.read&&(e.read.operations||e.operations)||[]},_success:function(e,t,n,i,r){var a=this,n=a.schema.process(n);a.data=n.data,a._pTotal=n.total,a._pAggregates=n.aggregates,a._pGroups=n.groups,a._createView(n.data,t),a.trigger(O),a.trigger(N,{fromCache:!!i,extra:r}),e.resolve(a.view,!!i)},_createView:function(e,t){var n=this,e=v.create(e,_({},t||n._params().local,{remoteOperations:n._remoteOperations()}),n._pTotal,n._pAggregates,n._pGroups);n.view=e.data,n.total=e.total,n._indices=e.indices,n.aggregates=e.aggregates},_error:function(e,t,n,i,r){e.reject(i),t&&this.trigger(O),this.trigger(I,{errorType:"transport",error:i,operation:n,extra:r})},read:function(e){var t=this,n=new D,i=t._params();return t.trigger("start",{params:i,extra:e}).isDefaultPrevented()?n.resolve():(t.cancel(),t._client().read(i.remote,T(t._success,t,n,i.local),T(t._error,t,n,!0,"read"),e)),n.promise()},_ensureTracker:function(){var t=this,e=t.tracker,n=t.data;if(!e){if(!n||!b.array(n))throw new Error("shield.DataSource: cannot modify when no data array is available.");e=t.tracker=new g({data:n,model:t.schema.model,events:{change:function(e){t._createView(t.data),e&&e.afterset||t.trigger(N)},error:function(e){t.trigger(I,{errorType:"tracker",path:e?e.path:"undefined path",value:e?e.value:"undefined value",error:e?e.reason:"undefined error",model:e?e.target:"undefined target model"})}}}),t.data=e.data}},getDataIndex:function(e){return this._indices[e]},add:function(e){return this._ensureTracker(),this.tracker.add(e)},insert:function(e,t){return this._ensureTracker(),this.tracker.insert(e,t)},remove:function(e){return this._ensureTracker(),this.tracker.remove(e)},removeAt:function(e){return this._ensureTracker(),this.tracker.removeAt(e)},edit:function(e){return this._ensureTracker(),this.tracker.edit(e)},insertView:function(e,t){return this.insert(this._indices[e],t)},removeAtView:function(e){return this.removeAt(this._indices[e])},editView:function(e){return this.edit(this._indices[e])},save:function(e,t){var n,i,r,a=this,s=a.tracker,o=s?s.changes:{added:[],edited:[],removed:[]},l=s&&a.trigger("save",{changes:o}),h=new D;if(e=!b.defined(e)||!!e,l&&!l.isDefaultPrevented()){for(n=a.data=s.original,i=s.data,r=n.length=0;r<i.length;r++)n[r]=i[r];a.options.data&&!b.func(a.options.data)&&h.done(T(a._syncLocalData,a)),a._client().modify(o,T(h.resolve,h),T(a._error,a,h,!1,"save"),t),s.destroy(),s=a.tracker=null}else h.resolve(o);return e&&h.then(l=function(){a._createView(a.data),a.trigger(N,{extra:t})},l),h.promise()},_syncLocalData:function(){for(var e=this.schema,t=(e.options.fields,this.data),n=[],i=b.array(e.getReverseDataFirstItem(this.options.data)),r=0;r<t.length;r++)n[r]=i?[]:{},e.reverseFields(t[r],n[r]);e.reverseData(n,this.options.data)},cancel:function(){var e=this,t=e.tracker,n=t&&(t.changes.added.length||t.changes.edited.length||t.changes.removed.length);t&&(e.data=t.original,t.destroy(),t=e.tracker=null,n&&(e._createView(e.data),e.trigger(N)))},destroy:function(){var e,t=this,n=["options","data","total","aggregates","filter","sort","aggregate","group","skip","take","schema","remote","view","cache"];for(t.cancel(),t.cache&&t.cache.clear(),e=0;e<n.length;e++)delete t[n[e]];m.fn.destroy.call(t)}})).create=function(e,t){return e instanceof s?e:b.array(e)?new s(_({data:e},t)):new s(_({},e,t))},(o=t.extend({init:function(e){this.options=e},parse:function(e){var t=this.options.parse;if(b.func(t))return t(e);if(b.string(e))try{e=d.parseJSON(e)}catch(e){}return e},data:function(e){var t=this.options.data;return b.func(t)?t(e):b.string(t)?w(e,t):e},aggregates:function(e){var t=this.options.aggregates;return b.func(t)?t(e):b.string(t)?w(e,t):l},groups:function(e){var t=this.options.groups;return b.func(t)?t(e):b.string(t)?w(e,t):l},reverseData:function(e,t){var n,i=this.options.data;if(b.func(i))i(e,t);else if(b.string(i))E(t,i,e);else if(b.array(t))for(n=t.length=0;n<e.length;n++)t[n]=e[n]},getReverseDataFirstItem:function(e){e=this.data(e);return b.array(e)&&0<e.length?e[0]:l},total:function(e,t){var n=this.options.total;return e=e||[],t=t||[],b.func(n)?n(e):b.string(n)?w(e,n):t.length},fields:function(e){var t=this.options.fields,n=this.model=u.define(t);return t?z(e,function(e){return o.mapFields(e,n.fn.fields)}):e},reverseFields:function(){var e,t,n,i=this.options.fields,r=[].slice.call(arguments),a=r[0],s=r.length<=1,o=s?a:r[1];if(b.defined(i))for(n in i)i.hasOwnProperty(n)&&(e=i[n],t=a[n],b.string(e.path)?E(o,e.path,t):b.func(e.path)?e.path(a,t):o[n]=t,s&&delete o[n]);else if(!s&&b.object(a))for(n in a)a.hasOwnProperty(n)&&(o[n]=a[n])},process:function(e){var t=this,n=t.parse(e),i=t.aggregates(e),e=t.groups(e),r=t.fields(t.data(n));return{data:r,aggregates:i,groups:e,total:t.total(n,r)}}})).mapFields=function(e,t){var n,i,r,a={};for(n in e=e||{},t)t.hasOwnProperty(n)&&(i=t[n],b.string(i.path)?(r=w(e,i.path))===l&&(r=w(e,n)):r=b.func(i.path)?i.path(e):e[n],r===l?i.type&&(r=u.def(i.type,i.def,i.nullable)):r=u.convert(r,i.type),a[n]=r);return a},t=o.extend({parse:function(e){var t=this.options;if(b.func(t.parse))e=t.parse(e);else if(b.string(e))try{e=d.parseXML(e)}catch(e){}return e=e&&9===e.nodeType?this._json(this._root(e)):e},_root:function(e){for(var t=e.childNodes,n=0,i=t.length;n<i;n++)if(1===t[n].nodeType)return t[n];return null},_json:function(e){for(var t,n,i={},r={},a="",s=0,o=e.attributes.length;s<o;s++)i["_"+(t=e.attributes[s]).nodeName]=t.nodeValue;for(s=0,o=e.childNodes.length;s<o;s++)switch(n=(t=e.childNodes[s]).nodeName,t.nodeType){case 1:r[n]?(b.array(i[n])||(i[n]=[i[n]]),i[n].push(this._json(t))):(i[n]=this._json(t),r[n]=!0);break;case 3:a+=t.nodeValue;break;case 4:i._cdata=t.nodeValue}return(a=a.replace(/^\s+(.*)\s+$/gim,"$1"))&&(i._text=a),i}}),f=o.extend({parse:function(e){var t,n=this.options,i=n.parse,r=d(e),a=[],s=[];if(b.func(i))return i(e);if(n.result)return n.result;if(!r[0]||"table"!==r[0].tagName.toLowerCase())return e;r.eq(0).find("thead th").each(function(){s.push(d(this).text())}).end().find("tbody tr").each(function(){t={},d(this).children().each(function(e){t[s[e]]=d(this).text()}),a.push(t)});return n.result=a}}),p=o.extend({parse:function(e){var t=this.options,n=t.parse,i=d(e),r=[];return b.func(n)?n(e):t.result||(i[0]&&"select"===i[0].tagName.toLowerCase()?(i.find("option").each(function(e){var t=d(this);r.push({value:t.attr("value"),text:t.text(),selected:t.is(":selected")})}),t.result=r):e)}}),s.schemas={json:o,xml:t,table:f,select:p},g=m.extend({init:function(e){this.original=e.data,this.data=Array.apply(null,e.data),this.model=e.model,this.changes={added:[],edited:[],removed:[]},m.fn.init.call(this,e)},_model:function(e){var t=this,e=new t.model(e);return e.on(N,T(t.trigger,t,N)),e.on(I,T(t.trigger,t,I)),e.on(R,T(t.trigger,t,N,{afterset:!0})),e},add:function(e){return this.insert(this.data.length,e)},insert:function(e,t){var n=this.data,i=this.changes;if(e<0||e>n.length)throw new Error("shield.DataSource: invalid item index: "+e);return t=this._model(t),i.added.push(t),n.splice(e,0,t.data),this.trigger(N,{operation:"insert",index:e,model:t}),t},edit:function(t){var e,n=this.data,i=this.changes;if(isNaN(t)||t<0||t>=n.length)throw new Error("shield.DataSource: invalid item index: "+t);return(e=k(i.added.concat(i.edited),function(e){return e.data===n[t]})[0])||(e=this._model(n[t]),i.edited.push(e),n[t]=e.data),e},remove:function(t){var e=this.changes,e=k(e.added.concat(e.edited),function(e){return e===t})[0],n=-1;if(t instanceof u?e&&(n=F(e.data,this.data)):n=F(t,this.data),-1<n)return this.removeAt(n)},removeAt:function(t){var n=this.data,e=this.changes,i=k(e.added.concat(e.edited),function(e){return e.data===n[t]})[0];if(t<0||t>n.length)throw new Error("shield.DataSource: invalid item index: "+t);return i?i.destroy():i=new this.model(n[t]),e.removed.push(i),n.splice(t,1),this.trigger(N,{operation:"remove",index:t,model:i}),i},destroy:function(){for(var e=this.changes,t=e.added.concat(e.edited).concat(e.removed),n=0;n<t.length;n++)t[n].destroy();e.added.length=e.edited.length=e.removed.length=0,this.data=this.original=null,m.fn.destroy.call(this)}}),(u=m.extend({init:function(e,t){m.fn.init.call(this,t),this.fields=_(!0,{},this.constructor.prototype.fields),this.data=_(!0,{},e)},trigger:e.ui.Widget.fn.trigger,get:function(e){return w(this.data,e)},set:function(e,t){(t=this.validate(e,t))!==l&&(E(this.data,e,t),this.trigger(R))},validate:function(e,t){var n,i=w(this.fields,e);if(!i)return t;if(n=S(i.validator)===B?i.validator:S(i.type.validate)===B?i.type.validate:(n=i.type.toString().split("(")[0].split(" ")[1].toLowerCase(),u.validators[n])){if((n=n(t))===l)return void this.trigger(I,{errorType:"validation",path:e,value:t,error:"validation error"});t=n}if(null!==t||!1!==i.nullable)return t;this.trigger(I,{errorType:"validation",path:e,value:t,error:"null value not allowed"})}})).define=function(e){return u.extend({fields:u.normalize(_(!0,{},e))})},u.normalize=function(e){var t,n,i;for(t in e=e||{})e.hasOwnProperty(t)&&(n=e[t],(i=S(n))===B||i===A?e[t]={type:n}:"string"===i&&(e[t]={path:n}));return e},u.def=function(e,t,n){return t!==l?S(t)===B?t():t:n?null:e===String?"":e===Number?0:e===Date?new Date:e!==Boolean&&(e===Array?[]:e===Object?{}:(t=S(e))===A?[]:"object"===t?{}:t===B?e():null)},u.convert=function(e,t){var n;return null==e?e:t===String?e.toString():t===Number?(n=parseFloat(e),isNaN(n)?e:n):t===Date?(n=new Date(e),isNaN(n.getTime())?e:n):t===Boolean?b.string(e)?!/^(false|0)$/i.test(e):!!e:e},u.validators={string:function(e){return null==e?null:e.toString()},number:function(e){return null===e?null:isNaN(+e)?l:+e},date:function(e){return null===e?null:e instanceof Date?e:(e=new Date(e),isNaN(e.getTime())?l:e)},boolean:function(e){return null===e?null:null==e?l:!!e},array:function(e){return null===e?null:S(e)===A?e:l},object:function(e){return null===e?null:"object"===S(e)?e:l}},t=s.extend({init:function(e){_(e,{recursive:!0}),s.fn.init.call(this,e)}}),_(e,{map:z,DataSource:s,RecursiveDataSource:t,DataQuery:v,Model:u})}(jQuery,shield),function(M,e,r,k){var i,m,n,l,C,F,a,s=e.ui.Widget,o=(e.Class,e.Constants.KeyCode),h=e.error,d=document,D=Math.abs,N=Math.min,I=Math.max,E=Math.round,O=Math.floor,S=M.extend,p=M.proxy,T=M.each,R=M.isWindow,B=e.is.defined,z=e.is.func,H=e.is.number,V=e.is.object,u=(e.is.null,e.is.string),c=e.is.array,f=e.to.int,g=e.to.number,x=e.to.string,j=/left|center|right/,L=/top|center|bottom/,W=/[\+\-]\d+(\.[\d]+)?%?/,G=/^\w+/,y=/%$/,v="mousedown",b="mouseup",w="mousemove",t="disabled",U="px",X="left",q="right",$="top",Y="bottom",P="center",_="overflow",K="position",J="absolute",Z="relative",Q="scroll",ee="horizontal",te="vertical",ne="pointer",ie="intersect",re="sui-resizable",ae=re+"-"+t,se="sui-draggable",oe=se+"-"+t,le=se+"-dragging",he="sui-unselectable",ue="sui-droppable",ce=ue+"-"+t,fe=ue+"-over",de=0;function pe(){if(B(i))return i;var e,t=M('<div style="width:50px;position:absolute;overflow:hidden;height:50px;display:block;"><div style="width:auto;height:100px;"></div></div>'),n=t.children()[0];return M(d.body).append(t),e=n.offsetWidth,t.css(_,Q),e===(n=n.offsetWidth)&&(n=t[0].clientWidth),t.remove(),i=e-n}function ge(e){var e=M(e||r),t=R(e[0]),n=!!e[0]&&9===e[0].nodeType;return{element:e,isWindow:t,isDocument:n,offset:!t&&e.offset()||{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:t||n?e.width():e.outerWidth(),height:t||n?e.height():e.outerHeight()}}function me(e,t,n){return[g(e[0])*(y.test(e[0])?t/100:1),g(e[1])*(y.test(e[1])?n/100:1)]}function A(e,t){e=e.css(t);return e&&f(e)||0}function xe(e,t){var n=0;return(B(t)?M(t).find(e):M(e)).each(function(e){n=I(n,A(M(this),"z-index"))}),n}function ye(e){return e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:{x:e.clientX+d.body.scrollLeft-d.body.clientLeft,y:e.clientY+d.body.scrollTop-d.body.clientTop}}(t={}).GetWithinInfo=ge,t.GetMaxZIndex=xe,t.GetCoordinates=ye,e.ui.Util=t,(m=function(){if(de++,n)return n;this.init(),n=this}).prototype={_pos:null,init:function(){M(d).on(w+".suiMouseTracker",p(this._onMouseMove,this))},_onMouseMove:function(e){this._pos=this.getPosFromEvent(e)},getPosFromEvent:ye,getPosition:function(e){return null===this._pos&&B(e)&&(this._pos=this.getPosFromEvent(e)),this._pos},isInWindow:function(e){var e=this.getPosition(e),t=e.x,e=e.y,n=M(r).scrollTop(),i=M(r).scrollLeft();return i<=t&&t<=i+M(r).width()&&n<=e&&e<=n+M(r).height()},destroy:function(){0<--de||(M(d).off(w+".suiMouseTracker"),n=null)}},e.MouseTracker=m,(l={}).Set=function(n,e,a){if(!n||!e||!a)throw"Invalid arguments passed to Position.Set";var r,s,o,f,i={my:a.source,at:a.target,collision:a.overflow,inside:a.inside},d=M(e),p=ge(i.inside),g=(t=(e=p).isWindow||e.isDocument?"":e.element.css("overflow-x"),g=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),t=t===Q||"auto"===t&&e.width<e.element[0].scrollWidth,{width:g===Q||"auto"===g&&e.height<e.element[0].scrollHeight?pe():0,height:t?pe():0}),m=(i.collision||"flip").split(" "),x={},t=9===(t=(e=d)[0]).nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:R(t)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:t.preventDefault?{width:0,height:0,offset:{top:t.pageY,left:t.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()};d[0].preventDefault&&(i.at="left top"),s=t.width,o=t.height,e=S({},f=t.offset),T(["my","at"],function(){var e,t,n=(i[this]||"").split(" ");(n=1===n.length?j.test(n[0])?n.concat([P]):L.test(n[0])?[P].concat(n):[P,P]:n)[0]=j.test(n[0])?n[0]:P,n[1]=L.test(n[1])?n[1]:P,e=W.exec(n[0]),t=W.exec(n[1]),x[this]=[e?e[0]:0,t?t[0]:0],i[this]=[G.exec(n[0])[0],G.exec(n[1])[0]]}),1===m.length&&(m[1]=m[0]),i.at[0]===q?e.left+=s:i.at[0]===P&&(e.left+=s/2),i.at[1]===Y?e.top+=o:i.at[1]===P&&(e.top+=o/2),r=me(x.at,s,o),e.left+=r[0],e.top+=r[1];var y,v,l=M(n),h=l.outerWidth(),u=l.outerHeight(),t=A(l,"marginLeft"),n=A(l,"marginTop"),b=h+t+A(l,"marginRight")+g.width,w=u+n+A(l,"marginBottom")+g.height,c=S({},e),_=me(x.my,l.outerWidth(),l.outerHeight());i.my[0]===q?c.left-=h:i.my[0]===P&&(c.left-=h/2),i.my[1]===Y?c.top-=u:i.my[1]===P&&(c.top-=u/2),c.left+=_[0],c.top+=_[1],c.left=E(c.left),c.top=E(c.top),y={marginLeft:t,marginTop:n},T([X,$],function(e,t){C[m[e]]&&C[m[e]][t](c,{targetWidth:s,targetHeight:o,elemWidth:h,elemHeight:u,collisionPosition:y,collisionWidth:b,collisionHeight:w,offset:[r[0]+_[0],r[1]+_[1]],my:i.my,at:i.at,within:p,elem:l})}),z(a.callback)&&(v=function(){var e=f.left-c.left,t=e+s-h,n=f.top-c.top,i=n+o-u,r={target:{element:d,left:f.left,top:f.top,width:s,height:o},element:{element:l,left:c.left,top:c.top,width:h,height:u},horizontal:t<0?X:0<e?q:P,vertical:i<0?$:0<n?Y:"middle"};s<=h&&D(e+t)<=s&&(r.horizontal=P),o<=u&&D(n+i)<=o&&(r.vertical="middle"),I(D(e),D(t))>I(D(n),D(i))?r.important=ee:r.important=te,a.callback(r)}),l.offset(c),v&&v()},C={fit:{left:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,i=i.width,a=e.left-t.collisionPosition.marginLeft,s=r-a,o=a+t.collisionWidth-i-r;t.collisionWidth>i?0<s&&o<=0?(n=e.left+s+t.collisionWidth-i-r,e.left+=s-n):e.left=!(0<o&&s<=0)&&o<s?r+i-t.collisionWidth:r:0<s?e.left+=s:0<o?e.left-=o:e.left=I(e.left-a,e.left)},top:function(e,t){var n,i=t.within,i=i.isWindow?i.scrollTop:i.offset.top,r=t.within.height,a=e.top-t.collisionPosition.marginTop,s=i-a,o=a+t.collisionHeight-r-i;t.collisionHeight>r?0<s&&o<=0?(n=e.top+s+t.collisionHeight-r-i,e.top+=s-n):e.top=!(0<o&&s<=0)&&o<s?i+r-t.collisionHeight:i:0<s?e.top+=s:0<o?e.top-=o:e.top=I(e.top-a,e.top)}},flip:{left:function(e,t){var n=t.within,i=n.offset.left+n.scrollLeft,r=n.width,n=n.isWindow?n.scrollLeft:n.offset.left,a=e.left-t.collisionPosition.marginLeft,s=a-n,a=a+t.collisionWidth-r-n,o=t.my[0]===X?-t.elemWidth:t.my[0]===q?t.elemWidth:0,l=t.at[0]===X?t.targetWidth:t.at[0]===q?-t.targetWidth:0,h=-2*t.offset[0];s<0?((r=e.left+o+l+h+t.collisionWidth-r-i)<0||r<D(s))&&(e.left+=o+l+h):0<a&&(0<(i=e.left-t.collisionPosition.marginLeft+o+l+h-n)||D(i)<a)&&(e.left+=o+l+h)},top:function(e,t){var n=t.within,i=n.offset.top+n.scrollTop,r=n.height,n=n.isWindow?n.scrollTop:n.offset.top,a=e.top-t.collisionPosition.marginTop,s=a-n,a=a+t.collisionHeight-r-n,o=t.my[1]===$?-t.elemHeight:t.my[1]===Y?t.elemHeight:0,l=t.at[1]===$?t.targetHeight:t.at[1]===Y?-t.targetHeight:0,h=-2*t.offset[1];s<0?(r=e.top+o+l+h+t.collisionHeight-r-i,e.top+o+l+h>s&&(r<0||r<D(s))&&(e.top+=o+l+h)):0<a&&(i=e.top-t.collisionPosition.marginTop+o+l+h-n,e.top+o+l+h>a&&(0<i||D(i)<a)&&(e.top+=o+l+h))}},flipfit:{left:function(){C.flip.left.apply(this,arguments),C.fit.left.apply(this,arguments)},top:function(){C.flip.top.apply(this,arguments),C.fit.top.apply(this,arguments)}}},e.ui.Position=l,t={enabled:!0,cls:k,iframeFix:!1,resizeCls:k,delta:1,handles:["e","w","n","s","se","sw","ne","nw"],handleWidth:8,handleZIndex:105,minHeight:16,minWidth:16,maxHeight:k,maxWidth:k,events:{}},(a=s.extend({init:function(){s.fn.init.apply(this,arguments),B(this.initialOptions.handles)&&(this.options.handles=this.initialOptions.handles);var e=this,t=M(e.element),n=e.options,i=n.cls;e._eventNS=".shieldResizable"+e.getInstanceId(),e.mouseTracker=new m,t.addClass(re+(i?" "+i:"")),e._initHandles(),e.enabled(n.enabled)},_initHandles:function(){var e,t,n,i=this,r=M(i.element),u=(r.width(),r.height()),a=i.options,c=a.handles,s=a.handleWidth,o=s+U,l=s+2+U,h="-"+(s-2)+U,f=a.handleZIndex;for(i.handles=[],n=0;n<c.length;n++){switch(t={},e=x(c[n]).toLowerCase()){case"e":t={width:o,height:u+U,top:0,right:h};break;case"w":t={width:o,height:u+U,top:0,left:h};break;case"n":t={width:"100%",height:o,top:h};break;case"s":t={width:"100%",height:o,bottom:h};break;case"se":t={width:l,height:l,bottom:h,right:h};break;case"sw":t={width:l,height:l,bottom:h,left:h};break;case"ne":t={width:l,height:l,top:h,right:h};break;case"nw":t={width:l,height:l,top:h,left:h}}t.zIndex=f,i.handles[n]={type:e},i.handles[n][v]=p(i._handleMouseDown,i,n),i.handles[n].element=M('<div class="sui-resizable-handle sui-resizable-dir-'+e+'"></div>').appendTo(r).css(t).on(v,i.handles[n][v])}M(d).on(b+i._eventNS,p(i._handleMouseUp,i)).on(w+i._eventNS,p(i._handleMouseMove,i))},_destroyHandles:function(){var e,t=this,n=t.handles;for(M(d).off(t._eventNS),e=0;e<n.length;e++)M(t.handles[e].element).off(v,t.handles[e][v]).remove();t.handles=[]},_fixIframes:function(){var e=this.options.iframeFix;e&&(e=!0===e?"iframe":e,this._fixedFrames=M(d.body).find(e).map(function(){var e=M(this);return M("<div/>").css(K,J).appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]}))},_unfixIframes:function(){this._fixedFrames&&(M(this._fixedFrames).remove(),delete this._fixedFrames)},_handleMouseDown:function(e,t){var n=this;n._enabled&&!n.resizing&&(n.resizing=!0,n.resizingHandle=e,n.oldPos=n.mouseTracker.getPosition(t),n.startSent=!1,M(n.element).addClass(he),n._fixIframes())},_handleMouseMove:function(e){var u,c,t,n,i,r,a,s,f,o=this,l=M(o.element),h=o.options,d=h.delta,p=h.minWidth,g=h.maxWidth,m=h.minHeight,x=h.maxHeight,h=h.resizeCls,y=o.resizingHandle,v=o.handles,b=o.mouseTracker,w=o.oldPos;if(b.isInWindow(e)&&o.resizing&&B(y)&&(t=(b=b.getPosition(e)).x-w.x,n=b.y-w.y,c=v[y].type,D(t)>=d||D(n)>=d)){switch(/^(se|sw|ne|nw)$/i.test(c)||(/^(e|w)$/i.test(c)?n=0:t=0),i=t=D(t)<d?0:t,r=n=D(n)<d?0:n,s=a=0,c){case"w":a=-(i=-t);break;case"n":s=-(r=-n);break;case"nw":a=-(i=-t),s=-(r=-n);break;case"sw":a=-(i=-t);break;case"ne":s=-(r=-n)}var e=l.width(),_=l.height(),b=A(l,$),w=A(l,X);if(0<i?(B(g)&&g<e+i&&(i=g-e,0!==a&&(a=-i)),w+a<0&&(a=-(i-=w-a))):i<0&&B(p)&&e+i<p&&(i=p-e,0!==a&&(a=-i)),0<r?(B(x)&&x<_+r&&(r=x-_,0!==s&&(s=-r)),b+s<0&&(s=-(r-=b-s))):r<0&&B(m)&&_+r<m&&(r=m-_,0!==s&&(s=-r)),0!==i||0!==r)if(o.startSent||(o.startSent=!0,o.trigger("start"),h&&l.addClass(h)),!o.trigger("resize",{deltaX:i,deltaY:r}).isDefaultPrevented()){if(l.width(e+i).height(_+r),0===a&&0===s||l.css({top:b+s+U,left:w+a+U}),o.oldPos.x=o.oldPos.x+t,o.oldPos.y=o.oldPos.y+n,0!==n)for(f=0;f<v.length;f++)u=v[f],/^(e|w)$/i.test(u.type)&&M(u.element).height(_+r);o.trigger("resized")}}},_handleMouseUp:function(e){var t=this,n=!!t.startSent,i=t.options.resizeCls;t._unfixIframes(),t.resizing&&(t.resizing=!1,t.resizingHandle=k,t.oldPos=k,t.startSent=!1,n&&t.trigger("stop"),M(t.element).removeClass(he+(i?" "+i:"")))},resize:function(e,t){var n=this.options;e=I(N(e,n.maxWidth),n.minWidth),t=I(N(t,n.maxHeight),n.minHeight),M(this.element).width(e).height(t)},enabled:function(){var e=M(this.element),t=[].slice.call(arguments);if(!(0<t.length))return this._enabled;(t=!!t[0])?e.removeClass(ae):e.addClass(ae),this._enabled=t},destroy:function(){var e=this,t=e.options.cls;e.mouseTracker.destroy(),e.mouseTracker=null,M(e.element).removeClass(re+(t?" "+t:"")),e._destroyHandles(),s.fn.destroy.call(e)}})).defaults=t,e.ui.plugin("Resizable",a),F={droppables:{default:[]},Register:function(e){var t=e.options.scope;F.droppables[t]=F.droppables[t]||[],F.droppables[t].push(e)},UnRegister:function(e){for(var t=e.options.scope,n=F.droppables[t],i=0;i<n.length;i++)n[i]===e&&n.splice(i,1)},PrepareOffsets:function(e,t){for(var n,i,r=F.droppables[e.options.scope]||[],a=M(e.helper||e.element),s=0;s<r.length;s++)n=r[s].enabled(),i=r[s].visible(),r[s].ddIsEnabled=n,r[s].ddIsVisible=i,!n||!i||e&&!r[s].accepts(e.element)||e&&e.element.get(0)===r[s].element.get(0)||(r[s].ddOffset=r[s].element.offset(),r[s].proportions({width:r[s].element[0].offsetWidth,height:r[s].element[0].offsetHeight}));e.proportions({width:a[0].offsetWidth,height:a[0].offsetHeight})},DragStart:function(e,t){F.PrepareOffsets(e,t)},Drag:function(e,t){for(var n=F.droppables[e.options.scope]||[],i=n.length,r=0;r<i;r++)!n[r].ddIsEnabled||!n[r].ddIsVisible||e&&!n[r].accepts(e.element)||e&&e.element.get(0)===n[r].element.get(0)||(F.Intersects(e,n[r],t)?n[r].ddIsOver||(n[r].ddIsOver=!0,n[r].over(e,t)):n[r].ddIsOver&&(n[r].ddIsOver=!1,n[r].out(e,t)))},Drop:function(e,t){for(var n,i,r,a=F.droppables[e.options.scope]||[],s=a.length,o=0;o<s;o++)!a[o].ddIsEnabled||!a[o].ddIsVisible||e&&!a[o].accepts(e.element)||e&&e.element.get(0)===a[o].element.get(0)||(a[o].stop(),r=F.Intersects(e,a[o],t),a[o].ddIsOver=!1,r&&((r=a[o].drop(e,t)).isDefaultPrevented()&&(n=!0),r.skipAnimation&&(i=!0)));return{cancelled:n,skipAnimation:i}},Intersects:function(e,t,u){var c,n,i,f,r,a,s,o=t.options.tolerance,d=V(o)?o.x:o,o=V(o)?o.y:o,l=t.proportions(),t=t.ddOffset,p=l.width,l=l.height,h=t.left,t=t.top,g=d==ne?(s=(g=new m).getPosition(u),g.destroy(),h<=s.x&&h+p>=s.x):(n=(c=e.proportions()).width,i=c.height,r=(f=M(e.helper||e.element).offset()).left,a=f.top,"fit"==d?F._linesOverlap(r,r+n,h,h+p,n):d==ie?F._linesOverlap(r,r+n,h,h+p,n/2):F._linesOverlap(r,r+n,h,h+p,0));return!!g&&(h=o==ne?(s||(s=(d=new m).getPosition(u),d.destroy()),t<=s.y&&t+l>=s.y):(c||(n=(c=e.proportions()).width,i=c.height,r=(f=M(e.helper||e.element).offset()).left,a=f.top),"fit"==o?F._linesOverlap(a,a+i,t,t+l,i):o==ie?F._linesOverlap(a,a+i,t,t+l,i/2):F._linesOverlap(a,a+i,t,t+l,0)),g&&h)},_linesOverlap:function(e,t,n,i,r){return B(r)||(r=0),e<n&&t<i?r<t-n:!(n<e&&i<t)||r<i-e}},e.ui.DDManager=F,t={enabled:!0,iframeFix:!1,cls:k,dragCls:k,scope:"default",handle:k,direction:k,min:k,max:k,step:k,allowedPositions:k,stack:!0,helper:k,appendTo:"parent",animation:{enabled:!0,revertDuration:200},events:{}},(a=s.extend({init:function(){s.fn.init.apply(this,arguments);var e=this,t=M(e.element),n=e.options,i=n.cls;e._destroyed&&(e._destroyed=!1),e._eventNS=".shieldDraggable"+e.getInstanceId(),e.mouseTracker=new m,t.addClass(se+(i?" "+i:"")),(i=t.css(K))!==Z&&i!==J&&(e._origPosStyle=i,t.css(K,Z)),e.enabled(n.enabled),e.startSent=!1},proportions:function(){var e=this;if(!(0<arguments.length))return e._proportions||(e._proportions={width:e.element[0].offsetWidth,height:e.element[0].offsetHeight});e._proportions=arguments[0]},_fixIframes:function(){var e=this.options.iframeFix;e&&(e=!0===e?"iframe":e,this._fixedFrames=M(d.body).find(e).map(function(){var e=M(this);return M("<div/>").css(K,J).appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]}))},_unfixIframes:function(){this._fixedFrames&&(M(this._fixedFrames).remove(),delete this._fixedFrames)},_handleMouseDown:function(e){var t=this,n=t._eventNS;!t._enabled||t._destroyed||t._dragging||(M(d.body).addClass(he),t._dragging=!0,t.startSent=!1,t.helper=t._isCustomHelper=null,t.stepPosition=t.mousePos=t.mouseTracker.getPosition(e),M(d).on(w+n,p(t._handleMouseMove,t)).on(b+n,p(t._handleMouseUp,t)).on("keydown"+n,p(t._handleKeyDown,t)),t._fixIframes())},_initHelper:function(e){var t,n=this,i=n.element,r=n.options,a=r.helper,s=r.appendTo,o=r.cls,r=r.dragCls;n._helperInitialized||(a&&"original"!==a?((t=z(a)?a.call(n,{position:n.oriPosition,event:e}):"clone"==a?i.clone():M(a)).parents("body").length||("parent"===s?i.after(t):s&&"body"!==s?t.appendTo(M(s)):t.appendTo(d.body)),/(fixed|absolute)/i.test(t.css(K))||t.css(K,J),l.Set(t,i,{source:"left top",target:"left top",overflow:"none"}),n._isCustomHelper=!0):(t=i,n._isCustomHelper=!1),(n.helper=t).addClass(he+" "+se+(o?" "+o:"")+" "+le+(r?" "+r:"")),n.oriPosition={left:A(t,X),top:A(t,$)},n._helperInitialized=!0)},_handleMouseMove:function(e){var t,n,u,c,i,r,a,s,f,d,o=this,l=o.options,p=l.step,g=l.direction,m=l.allowedPositions,x=m!==k&&0<m.length,y=l.min,l=l.max,h=o.mouseTracker,v=h.getPosition(e);if(h.isInWindow(e)&&o._dragging){if(o._initHelper(e),f=(h=M(o.helper)).width(),d=h.height(),u=A(h,$),c=A(h,X),x){for(var b,w=k,_=k,P=k,C=k,E=c+(v.x-o.stepPosition.x),S=u+(v.y-o.stepPosition.y),T=0;T<m.length;T++)(b=m[T]).x!==k&&(P===k||P>D(E-b.x))&&(P=D(E-b.x),w=T),b.y!==k&&(C===k||C>D(S-b.y))&&(C=D(S-b.y),_=T);i=c,r=u,w!==k&&(i=m[w].x,o.stepPosition.x+=m[w].x-c),_!==k&&(r=m[_].y,o.stepPosition.y+=m[_].y-u)}else{if(a=g==te?0:v.x-o.mousePos.x,s=g==ee?0:v.y-o.mousePos.y,B(p)){if(x=z(p)?p.call(this,{deltaX:a,deltaY:s,element:h,domEvent:e,helperLeft:A(h,X),helperTop:A(h,$),mouse:v}):p,H(x)?t=n=x:V(x)&&(t=x.x,n=x.y),B(t)&&D(a)<t&&B(n)&&D(s)<n)return;B(t)&&1<t&&a%t!=0&&(a=(0<=a?1:-1)*O(D(a)/t)*t),B(n)&&1<n&&s%n!=0&&(s=(0<=s?1:-1)*O(D(s)/n)*n)}i=c+a,r=I(0,u+s)}g==ee&&(y!==k&&(i=I(y,i))===y&&(a=0),l!==k&&(i=N(l-f,i))===l-f&&(a=0)),g==te&&(y&&(r=I(y,r))===y&&(s=0),l&&(r=N(l-d,r))===l-d&&(s=0)),h.css({left:i,top:r}),o.mousePos=v,o.startSent||(o.startSent=!0,o.trigger("start",{element:h,domEvent:e}),o._adjustZIndex(),F.DragStart(o,e)),o.trigger("drag",{deltaX:a,deltaY:s,element:h,domEvent:e}),F.Drag(o,e)}},_handleMouseUp:function(e){var t,n,i=this,r=i.element,a=i.helper,s=i.options.animation;i._unfixIframes(),M(d.body).removeClass(he),i._dragging&&(i.startSent?(t=(n=F.Drop(i,e)).cancelled,n=n.skipAnimation,n=(e=i.trigger("stop",{left:A(a,X),top:A(a,$),element:a,domEvent:e,cancelled:t,skipAnimation:n})).skipAnimation,!0===e.cancelled||e.isDefaultPrevented()?M(a).animate({left:i.oriPosition.left,top:i.oriPosition.top},!n&&s&&s.enabled?s.revertDuration:0,p(i._endDrag,i)):(i._isCustomHelper&&(l.Set(r,a,{source:"left top",target:"left top",overflow:"none"}),i._adjustZIndex(r)),i._endDrag())):i._endDrag())},_adjustZIndex:function(e){var t=this.options.stack;!1!==t&&(B(e)||(e=this.helper),M(e).css("z-index",xe(!0===t?"."+se:t)+1))},_handleKeyDown:function(e){var t=this;e.keyCode===o.ESC&&t._dragging&&(t.helper.css({left:t.oriPosition.left+U,top:t.oriPosition.top+U}),t.trigger("cancel"),t._unfixIframes(),t._endDrag())},_endDrag:function(){var e=this,t=e.options.dragCls;e._dragging=!1,e._isCustomHelper?M(e.helper).remove():M(e.helper).removeClass(he+" "+le+(t?" "+t:"")),M(d).off(e._eventNS),e.mousePos=e.oriPosition=e.helper=e._isCustomHelper=e._helperInitialized=null},enabled:function(){var e=this,t=M(e.element),n=e.options,n=n.handle?M(n.handle):t,i=[].slice.call(arguments);if(!(0<i.length))return e._enabled;(i=!!i[0])?(t.removeClass(oe),e._mouseDownProxy||(e._mouseDownProxy=p(e._handleMouseDown,e),n.on(v,e._mouseDownProxy))):(t.addClass(oe),e._mouseDownProxy&&(n.off(v,e._mouseDownProxy),e._mouseDownProxy=null)),e._enabled=i},destroy:function(){var e=this,t=e.options.cls;e.enabled(!1),e.mouseTracker&&(e.mouseTracker.destroy(),e.mouseTracker=null),M(e.element).removeClass(se+" "+oe+(t?" "+t:"")),e._origPosStyle&&(M(e.element).css(K,e._origPosStyle),e._origPosStyle=null),e._destroyed=!0,s.fn.destroy.call(e)}})).defaults=t,e.ui.plugin("Draggable",a),t={enabled:!0,accepts:"*",cls:k,hoverCls:k,tolerance:"intersect",scope:"default",events:{}},(a=s.extend({init:function(){s.fn.init.apply(this,arguments);var e=this,t=M(e.element),n=e.options,i=n.dieOnError,r=n.accepts,a=n.cls;u(r)||c(r)||r instanceof M||z(r)?(e._eventNS=".shieldDroppable"+e.getInstanceId(),t.addClass(ue+(a?" "+a:"")),F.Register(e),e.enabled(n.enabled)):h("shieldDroppable: The accepts option must be a string, array, function or jQuery object.",i)},accepts:function(e){var t=this.options.accepts;return z(t)?t.call(this,e):M(e).is(t)},proportions:function(){var e=this;if(!(0<arguments.length))return e._proportions||(e._proportions={width:e.element[0].offsetWidth,height:e.element[0].offsetHeight});e._proportions=arguments[0]},over:function(e,t){var n=this.options.hoverCls;this.trigger("over",{draggable:e.element,droppable:this.element,domEvent:t}).isDefaultPrevented()||M(this.element).addClass(fe+(n?" "+n:""))},out:function(e,t){var n=this.options.hoverCls;this.trigger("out",{draggable:e.element,droppable:this.element,domEvent:t}),M(this.element).removeClass(fe+(n?" "+n:""))},stop:function(){var e=this.options.hoverCls;M(this.element).removeClass(fe+(e?" "+e:""))},drop:function(e,t){return this.trigger("drop",{draggable:e.element,droppable:this.element,cancelled:t.cancelled,skipAnimation:t.skipAnimation,domEvent:t})},enabled:function(){var e=[].slice.call(arguments);if(!(0<e.length))return this._enabled;(e=!!e[0])?M(this.element).removeClass(ce):M(this.element).addClass(ce),this._enabled=e},destroy:function(){var e=this,t=e.options.cls;F.UnRegister(e),M(e.element).removeClass(ue+ce+he+(t?" "+t:"")),e._enabled=e._proportions=k,s.fn.destroy.call(e)}})).defaults=t,e.ui.plugin("Droppable",a)}(jQuery,shield,this),function(o,e,L,W){function q(e){return o("<div/>").text(e).html().replace('"',"&quot;").replace(/(?:[\x00-\x08]|[\x0B-\x0C]|[\x0E-\x1F])/g,"")}function $(e){return o("<div/>").html(e).text()}function Y(e){return re(e)||(M(e)&&(e=e.replace(/\s+/g,"")),e=new Date(e)),(25569+e.getTime()/864e5).toString()}function c(e){return U(e)?re(e)?e:new Date(M(e)?e.replace(/\s+/g,""):e):new Date}function K(e){return c(e).toISOString().replace(/\.\d+/,"")}function E(e){return U(e)&&M(e)&&0<e.length?e.charAt(0).toUpperCase()+e.substr(1):e}function S(e){return e?1:0}function J(e){return("FF"+e).replace("#","").toUpperCase()}function Z(e,t){return function(e){for(var t,n=D(e),i="";0<n;)t=(n-1)%26,i=String.fromCharCode(65+t)+i,n=D((n-t)/26);return i}(t)+e}function T(e,t){return'<?xml version="1.0"'+(e?' encoding="UTF-8"':"")+(t?' standalone="yes"':"")+"?>\n"}function G(){return T(1,1)}var h,n,i,Q,u,f,l=e.exp=e.exp||{},r=e.Class,s=(e.DataSource,e.support.browser),d=e.iid,_=document,ee=o.extend,te=o.map,w=o.each,t=e.is,M=t.string,k=t.array,ne=t.number,ie=t.boolean,re=t.date,U=t.defined,ae=t.null,P=t.func,F=t.object,D=e.to.int,se=e.to.key,X=e.error,oe=e.keys,C=(e.get,e.Constants.XHTML_NS),B="application/octet-stream",A="download",N="Untitled",p="creator",g="helvetica",m="times",x="courier",y="normal",v="bold",a="italic",b="bolditalic",I=19.049976/25.4;u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",U((t=L).btoa)||(t.btoa=function(e){var t,n,i,r,a=0,s=0,o="",l=[];if(!e)return e;for(;t=(r=e.charCodeAt(a++)<<16|e.charCodeAt(a++)<<8|e.charCodeAt(a++))>>12&63,n=r>>6&63,i=63&r,l[s++]=u.charAt(r>>18&63)+u.charAt(t)+u.charAt(n)+u.charAt(i),a<e.length;);var o=l.join(""),h=e.length%3;return(h?o.slice(0,h-3):o)+"===".slice(h||3)}),U(t.atob)||(t.atob=function(e){var t,n,i,r,a,s=0,o=0,l=[];if(!e)return e;for(e+="";t=(a=u.indexOf(e.charAt(s++))<<18|u.indexOf(e.charAt(s++))<<12|(i=u.indexOf(e.charAt(s++)))<<6|(r=u.indexOf(e.charAt(s++))))>>16&255,n=a>>8&255,a=255&a,l[o++]=64==i?String.fromCharCode(t):64==r?String.fromCharCode(t,n):String.fromCharCode(t,n,a),s<e.length;);return l.join("")}),function(){if(L.URL=L.URL||L.webkitURL,L.Blob&&L.URL)try{new L.Blob;return l.Blob=L.Blob}catch(e){}var s=L.BlobBuilder||L.WebKitBlobBuilder||L.MozBlobBuilder||function(){function o(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]}function e(){this.data=[]}function l(e,t,n){this.data=e,this.size=e.length,this.type=t,this.encoding=n}function h(e){this.code=this[this.name=e]}var t=e.prototype,n=l.prototype,c=L.FileReaderSync,s="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),i=s.length,r=L.URL||L.webkitURL||L,f=r.createObjectURL,d=r.revokeObjectURL,a=r,p=L.btoa,g=L.atob,m=L.ArrayBuffer,u=L.Uint8Array,x=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(l.fake=n.fake=!0;i--;)h.prototype[s[i]]=i+1;return(a=r.createObjectURL?a:L.URL=function(e){var t=_.createElementNS(C,"a");return t.href=e,"origin"in t||("data:"===t.protocol.toLowerCase()?t.origin=null:(e=e.match(x),t.origin=e&&e[1])),t}).createObjectURL=function(e){var t=e.type;return ae(t)&&(t=B),e instanceof l?(t="data:"+t,"base64"===e.encoding?t+";base64,"+e.data:"URI"===e.encoding?t+","+decodeURIComponent(e.data):p?t+";base64,"+p(e.data):t+","+encodeURIComponent(e.data)):f?f.call(r,e):void 0},a.revokeObjectURL=function(e){"data:"!==e.substring(0,5)&&d&&d.call(r,e)},t.append=function(e){var t=this.data;if(U(u)&&(e instanceof m||e instanceof u)){for(var n="",i=new u(e),r=i.length,a=0;a<r;a++)n+=String.fromCharCode(i[a]);t.push(n)}else if("Blob"===o(e)||"File"===o(e)){if(!c)throw new h("NOT_READABLE_ERR");var s=new c;t.push(s.readAsBinaryString(e))}else e instanceof l?"base64"===e.encoding&&g?t.push(g(e.data)):"URI"===e.encoding?t.push(decodeURIComponent(e.data)):"raw"===e.encoding&&t.push(e.data):(e+="",t.push(L.unescape(encodeURIComponent(e))))},t.getBlob=function(e){return arguments.length||(e=null),new l(this.data.join(""),e,"raw")},t.toString=function(){return"[object BlobBuilder]"},n.slice=function(e,t,n){var i=arguments.length;return i<3&&(n=null),new l(this.data.slice(e,1<i?t:this.data.length),n,this.encoding)},n.toString=function(){return"[object Blob]"},n.close=function(){this.size=0,delete this.data},e}(),e=(l.Blob=function(e,t){var n,i,t=t&&t.type||"",r=new s,a=L.Uint8Array;if(e)for(n=0,i=e.length;n<i;n++)U(a)&&a&&e[n]instanceof a?r.append(e[n].buffer):r.append(e[n]);return!(t=r.getBlob(t)).slice&&t.webkitSlice&&(t.slice=t.webkitSlice),t},Object.getPrototypeOf||function(e){return e.__proto__});l.Blob.prototype=e(new l.Blob)}(),f=L.saveAs||function(){if(s.ie&&s.version<10)return W;function f(e){function t(){M(e)?g().revokeObjectURL(e):e.remove()}L.chrome?t():setTimeout(t,n)}function d(e,t,n){for(var i,r=(t=[].concat(t)).length;r--;)if(i=e["on"+t[r]],P(i))try{i.call(e,n||e)}catch(e){a(e)}}function p(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function i(i,n,e){function r(){var e;!h&&s||(s=g().createObjectURL(i)),o?o.location.href=s:(e=L.open(s,"_blank"),U(e)||"undefined"==typeof safari||(L.location.href=s)),l.readyState=l.DONE,u(),f(s)}function a(e){return function(){if(l.readyState!==l.DONE)return e.apply(this,arguments)}}e||(i=p(i));var s,o,t,l=this,e=i.type,h=!1,u=function(){d(l,"writestart progress write writeend".split(" "))},c={create:!0,exclusive:!1};if(l.readyState=l.INIT,n=n||N,b)return s=g().createObjectURL(i),m.href=s,m.download=n,void setTimeout(function(){var e,t;e=m,t=new MouseEvent("click"),e.dispatchEvent(t),u(),f(s),l.readyState=l.DONE});L.chrome&&e&&e!==v&&(t=i.slice||i.webkitSlice,i=t.call(i,0,i.size,v),h=!0),x&&n!==A&&(n+="."+A),e!==v&&!x||(o=L),y?(w+=i.size,y(L.TEMPORARY,w,a(function(e){e.root.getDirectory("saved",c,a(function(e){function t(){e.getFile(n,c,a(function(n){n.createWriter(a(function(t){t.onwriteend=function(e){o.location.href=n.toURL(),l.readyState=l.DONE,d(l,"writeend",e),f(n)},t.onerror=function(){var e=t.error;e.code!==e.ABORT_ERR&&r()},"writestart progress write abort".split(" ").forEach(function(e){t["on"+e]=l["on"+e]}),t.write(i),l.abort=function(){t.abort(),l.readyState=l.DONE},l.readyState=l.WRITING}),r)}),r)}e.getFile(n,{create:!1},a(function(e){e.remove(),t()}),a(function(e){(e.code===e.NOT_FOUND_ERR?t:r)()}))}),r)}),r)):r()}var g=function(){return L.URL||L.webkitURL||L},m=_.createElementNS(C,"a"),b=A in m,x=L.webkitRequestFileSystem,y=L.requestFileSystem||x||L.mozRequestFileSystem,a=function(e){(L.setImmediate||L.setTimeout)(function(){throw e},0)},v=B,w=0,n=500,e=i.prototype;return U(navigator)&&navigator.msSaveOrOpenBlob?function(e,t,n){return n||(e=p(e)),navigator.msSaveOrOpenBlob(e,t||N)}:(e.abort=function(){this.readyState=this.DONE,d(this,"abort")},e.readyState=e.INIT=0,e.WRITING=1,e.DONE=2,e.error=e.onwritestart=e.onprogress=e.onwrite=e.onabort=e.onerror=e.onwriteend=null,function(e,t,n){return new i(e,t,n)})}(),l.saveAs=function(e){var t=e.content,n=e.contentType,i=e.name,r=e.noAutoBom,a=e.proxy,s="suidlifrm"+d();U(f)&&!e.forceProxy?f(new l.Blob([t],{type:n}),i,r):a?(o(h).remove(),h=o('<div style="display:none;"><iframe name="'+s+'"></iframe></div>').appendTo(_.body),o('<form action="'+a+'" target="'+s+'" method="POST"><input type="hidden" name="fileName" value="'+i+'"/><input type="hidden" name="contentType" value="'+n+'"/><input type="hidden" name="base64content" value="'+L.btoa(t)+'"/></form>').appendTo(h).submit()):X("shield.export.saveAs: No proxy url set for older browser support",e.dieOnError)},l.saveAsNative=U(f),n=r.extend({init:function(e){this.options=ee(!0,{},e)},getExt:null,getContentType:null,getContent:null,saveAs:function(e){var t,n,i,r=e.fileName,a=!U(e.forceExt)||!!e.forceExt,s=this.getExt(),o=!l.saveAsNative||e.forceProxy?{type:"string"}:{},o=this.getContent(o);U(o)?(r=r||N,n=s,(t=r+="")&&n&&0<=(i=t.indexOf(n))&&i===t.length-n.length||!a||(r+=s),l.saveAs({content:o,contentType:this.getContentType(),name:r,proxy:e.proxy,forceProxy:e.forceProxy,noAutoBom:e.noAutoBom,dieOnError:e.dieOnError})):X("shield.export.ExportBase.saveAs: Error generating content",this.options.dieOnError)},destroy:function(){}}),Q=n.extend({getExt:function(){return".xml"},getContentType:function(){return"text/xml;charset=utf-8"},getContent:function(u){for(var e=this.options,c=K(e.created||new Date),f=(e.author,e.worksheets||[]),d=20,p=[],g=[],e=$("&#x53;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x20;&#x55;&#x49;&#x20;&#x46;&#x72;&#x61;&#x6D;&#x65;&#x77;&#x6F;&#x72;&#x6B;"),c=T()+'<?mso-application progid="Excel.Sheet"?><Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40"><DocumentProperties xmlns="urn:schemas-microsoft-com:office:office"><Created>'+c+"</Created>"+(e?"<Author>"+e+"</Author>":"")+'</DocumentProperties><ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"><ProtectStructure>False</ProtectStructure><ProtectWindows>False</ProtectWindows></ExcelWorkbook>',m=0;m<f.length;m++){for(var x,t,n,i,y,r,a,s,o,l,v=f[m],b=v.name,w=v.columns||[],_=[],P=v.rows||[],C=[],h=0;h<w.length;h++)n=w[h],_.push("<Column"+(U(n.autoWidth)?' ss:AutoFitWidth="'+S(n.autoWidth)+'"':"")+(U(n.width)?' ss:Width="'+n.width+'"':"")+(U(n.index)?' ss:Index="'+n.index+'"':"")+"/>");for(h=0;h<P.length;h++){for(x=(i=P[h]).cells||[],y="<Row"+(U(i.height)?' ss:Height="'+i.height+'"':"")+(U(i.index)?' ss:Index="'+i.index+'"':"")+">",t=0;t<x.length;t++)a=(r=x[t]).type,o=r.value,l=r.style,s=null,"DateTime"==(a=U(a)&&!ae(a)?a===Date?"DateTime":a===Number?"Number":a===Boolean?"Boolean":"String":re(o)?"DateTime":ne(o)?"Number":ie(o)?"Boolean":"String")&&(o=K(o)),F(l)&&(s="s"+d++,p.push('<Style ss:ID="'+s+'"><Alignment'+(l.textAlign?' ss:Horizontal="'+E(l.textAlign)+'"':"")+(l.verticalAlign?' ss:Vertical="'+E(l.verticalAlign)+'"':"")+(U(l.wrap)?' ss:WrapText="'+S(l.wrap)+'"':"")+"/>"+(U(l.format)?'<NumberFormat ss:Format="'+q(l.format)+'"/>':"")+"<Font"+(U(l.bold)?' ss:Bold="'+S(l.bold)+'"':"")+(U(l.italic)?' ss:Italic="'+S(l.italic)+'"':"")+(U(l.color)?' ss:Color="'+l.color+'"':"")+(U(l.fontName)?' ss:FontName="'+l.fontName+'"':"")+(U(l.fontSize)?' ss:Size="'+l.fontSize+'"':"")+"/><Interior"+(U(l.background)?' ss:Color="'+l.background+'" ss:Pattern="Solid"':"")+"/></Style>")),y+="<Cell"+(s?' ss:StyleID="'+s+'"':"")+(U(r.index)?' ss:Index="'+r.index+'"':"")+(U(r.colSpan)?' ss:MergeAcross="'+r.colSpan+'"':"")+(U(r.rowSpan)?' ss:MergeDown="'+r.rowSpan+'"':"")+'><Data ss:Type="'+a+'">'+(U(o)?q(o):"")+"</Data></Cell>";y+="</Row>",C.push(y)}g.push('<Worksheet ss:Name="'+(b?q(b):"Sheet1")+'"><Table>'+_.join("")+C.join("")+"</Table></Worksheet>")}return(c+='<Styles><Style ss:ID="Default" ss:Name="Normal"><Alignment ss:Vertical="Bottom"/><Borders/><Font/><Interior/><NumberFormat/><Protection/></Style>'+p.join("")+"</Styles>")+g.join("")+"</Workbook>"}}),e=n.extend({getExt:function(){return".xlsx"},getContentType:function(){return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},getContent:function(u){var e=this.options,c=e.dieOnError;if(!U(L.JSZip))return e.noLegacyFallback?void X("shield.export.OOXMLWorkbook.getContent: No ZIP library found",c):new Q(e).getContent();for(var f,d,t,p,c=K(e.created||new Date),g=(e.author,e.worksheets||[]),e=g.length,n=new L.JSZip,m=[],x={},y=[],v=100,b=['<font><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font>'],w=['<fill><patternFill patternType="none"/></fill>','<fill><patternFill patternType="gray125"/></fill>'],_=['<xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/>'],P=G()+'<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/><Default Extension="xml" ContentType="application/xml"/><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/>'+te(g,function(e,t){return'<Override PartName="/xl/worksheets/sheet'+(t+1)+'.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>'}).join("")+'<Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/><Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/></Types>',e=(G(),G()+'<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>'+e+'</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="'+e+'" baseType="lpstr">'+te(g,function(e,t){return"<vt:lpstr>"+(e.name?q(e.name):"Sheet"+(t+1))+"</vt:lpstr>"}).join("")+"</vt:vector></TitlesOfParts><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>15.0300</AppVersion></Properties>"),C=$("&#x53;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x20;&#x55;&#x49;&#x20;&#x46;&#x72;&#x61;&#x6D;&#x65;&#x77;&#x6F;&#x72;&#x6B;"),C=G()+'<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>'+(C||"")+'</dc:creator><dcterms:created xsi:type="dcterms:W3CDTF">'+c+"</dcterms:created></cp:coreProperties>",c=G()+'<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x15" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><fileVersion appName="xl" lastEdited="6" lowestEdited="4" rupBuild="14420"/><workbookPr filterPrivacy="1" defaultThemeVersion="124226"/><sheets>'+te(g,function(e,t){return'<sheet name="'+(e.name?q(e.name):"Sheet"+(t+1))+'" sheetId="'+(t+1)+'" r:id="rId'+(t+1)+'"/>'}).join("")+"</sheets></workbook>",E=(G(),1),S=G()+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">'+te(g,function(e,t){var n=E++;return'<Relationship Id="rId'+n+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet'+n+'.xml"/>'}).join("")+'<Relationship Id="rId'+E+++'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId'+E+++'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId'+E+++'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml"/></Relationships>',i=(G(),0);i<g.length;i++){for(var T=g[i],M=T.columns||[],k=M.length,F=T.rows||[],D=F.length,B="",A=[],N=[],I=0;I<D;I++){for(var O=F[I],R=[],z=O.cells||[],H=z.length,r=0;r<H;r++){var V,a,j=z[r],s=j.type,o=j.value,l=ee({},j.style||{});U(s)&&!ae(s)?s===Date?(V=W,o=Y(o),l.format||(l.format="m/d/yyyy hh:mm")):V=s===Number?W:s===Boolean?"b":"inlineStr":re(o)?(V=W,o=Y(o),l.format||(l.format="m/d/yyyy hh:mm")):V=ne(o)?W:ie(o)?"b":"inlineStr",p=s=void 0,a="",l=!(l=l)||oe(l).length<=0?W:(s=se(l),x[s]?x[s].cellXfsIndex:(U(l.format)&&(v++,y.push('<numFmt numFmtId="'+v+'" formatCode="'+q(l.format).replace(" ","\\ ")+'"/>'),a+=' numFmtId="'+v+'" applyNumberFormat="1"'),l.background&&(w.push('<fill><patternFill patternType="solid"><fgColor rgb="'+J(l.background)+'"/></patternFill></fill>'),a+=' fillId="'+(w.length-1)+'" applyFill="1"'),(U(l.bold)||U(l.color)||U(l.fontName)||U(l.fontSize)||U(l.italic))&&(b.push("<font>"+(U(l.bold)?'<b val="'+!!l.bold+'"/>':"")+(U(l.color)?'<color rgb="'+J(l.color)+'"/>':"")+(U(l.fontName)?'<name val="'+l.fontName+'"/>':"")+(U(l.fontSize)?'<sz val="'+l.fontSize+'"/>':"")+(U(l.italic)?'<i val="'+!!l.italic+'"/>':"")+"</font>"),a+=' fontId="'+(b.length-1)+'" applyFont="1"'),(U(l.textAlign)||U(l.verticalAlign)||U(l.wrap))&&(p="<alignment"+(U(l.textAlign)?' horizontal="'+l.textAlign+'"':"")+(U(l.verticalAlign)?' vertical="'+l.verticalAlign+'"':"")+(U(l.wrap)?' wrapText="'+!!l.wrap+'"':"")+"/>"),a||p?(_.push("<xf"+(a||"")+(p?">"+p+"</xf>":"/>")),x[s]={cellXfsIndex:_.length-1},_.length-1):W)),a=(o+"").length,(!U(A[r])||A[r]<a)&&(A[r]=a),R.push("<c"+(U(j.index)?' r="'+Z(U(O.index)?O.index:I+1,j.index)+'"':"")+(U(V)?' t="'+V+'"':"")+(U(l)?' s="'+l+'"':"")+">"+("inlineStr"==V?"<is><t>"+q(o)+"</t></is>":"<v>"+o+"</v>")+"</c>")}N.push("<row"+(U(O.index)?' r="'+O.index+'"':"")+(U(O.height)?' ht="'+O.height+'" customHeight="1"':"")+">"+R.join("")+"</row>")}if(0<k){for(B="<cols>",r=0;r<k;r++){var h=M[r];B+="<col"+(U(h.index)?' min="'+h.index+'" max="'+h.index+'"':' min="'+(r+1)+'" max="'+(r+1)+'"')+(U(h.width)?' width="'+(d=h.width,t=U(t=void 0)?t:7,((d-5)/7*100+.5)/100)+'"':"")+(!0!==h.autoWidth&&U(h.width)?"":' width="'+(A[r]*(t=U(t=void 0)?t:7)+5)/t*256/256+'"')+(!0===h.autoWidth?' bestFit="1"':"")+(U(h.autoWidth)||U(h.width)?' customWidth="1"':"")+"/>"}B+="</cols>"}T=G()+'<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><dimension ref="A1"/><sheetViews><sheetView tabSelected="1" workbookViewId="0"/></sheetViews><sheetFormatPr defaultRowHeight="15" x14ac:dyDescent="0.25"/>'+B+"<sheetData>"+N.join("")+'</sheetData><pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3"/></worksheet>',m.push(T)}for(f=G()+'<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="'+y.length+'">'+y.join("")+'</numFmts><fonts count="'+b.length+'" x14ac:knownFonts="1">'+b.join("")+'</fonts><fills count="'+w.length+'">'+w.join("")+'</fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs><cellXfs count="'+_.length+'">'+_.join("")+'</cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles><dxfs count="0"/><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleMedium9"/><extLst><ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"><x14:slicerStyles defaultSlicerStyle="SlicerStyleLight1"/></ext><ext uri="{9260A510-F301-46a8-8635-F512D64BE5F5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:timelineStyles defaultTimelineStyle="TimeSlicerStyleLight1"/></ext></extLst></styleSheet>',n.file("[Content_Types].xml",P),n.file("_rels/.rels",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>'),n.file("docProps/app.xml",e),n.file("docProps/core.xml",C),n.file("xl/workbook.xml",c),n.file("xl/styles.xml",f),n.file("xl/sharedStrings.xml",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"/>'),n.file("xl/_rels/workbook.xml.rels",S),n.file("xl/theme/theme1.xml",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="1F497D"/></a:dk2><a:lt2><a:srgbClr val="EEECE1"/></a:lt2><a:accent1><a:srgbClr val="4F81BD"/></a:accent1><a:accent2><a:srgbClr val="C0504D"/></a:accent2><a:accent3><a:srgbClr val="9BBB59"/></a:accent3><a:accent4><a:srgbClr val="8064A2"/></a:accent4><a:accent5><a:srgbClr val="4BACC6"/></a:accent5><a:accent6><a:srgbClr val="F79646"/></a:accent6><a:hlink><a:srgbClr val="0000FF"/></a:hlink><a:folHlink><a:srgbClr val="800080"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Cambria" panose="020F0302020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=" "/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=""/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:majorFont><a:minorFont><a:latin typeface="Calibri" panose="020F0502020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=" "/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=""/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="1"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:shade val="51000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="80000"><a:schemeClr val="phClr"><a:shade val="93000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="94000"/><a:satMod val="135000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst><a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d><a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/></a:theme>'),i=0;i<m.length;i++)n.file("xl/worksheets/sheet"+(i+1)+".xml",m[i]);return u&&"string"!=u.type&&L.JSZip.support.uint8array?n.generate({type:"uint8array"}):n.generate({type:"string"})},saveAs:function(e){var t=this.options;return U(L.JSZip)?n.fn.saveAs.call(this,e):t.noLegacyFallback?void X("shield.export.OOXMLWorkbook.saveAs: No ZIP library found",t.dieOnError):new Q(t).saveAs(e)}}),i={unit:"pt",textColor:"0 g",drawColor:"0 G",fontSize:12,lineHeight:1.15,lineWidth:.200025,producer:"ShieldUI PDF Builder",created:new Date},t=n.extend({_version:"1.3",_formats:{a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"credit-card":[153,243]},_documentProps:["title","subject","author","keywords",p],_capJoinStyles:{0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_noMargins:{left:0,top:0,bottom:0},init:function(e){this.options=ee(!0,i,e,{});var e=this,t=e.options;t.dieOnError;e._scaleFactor=e._getScaleFactor(),e._fontSize=t.fontSize,e._textColor=t.textColor,e._objectNumber=2,e._printToDoc=!0,e._offsets=[],e._fonts={},e._fontmap={},e._pages=[],e._pagesContext=[],e._pageDim=[],e._content=[],e._additionalObjects=[],e._page=e._lineCapID=e._lineJoinID=e._contentLength=0,e._fontKey=e._tmp=e._currentPage=e._pageWidth=e._pageHeight=e._pageMode=e._zoomMode=e._layoutMode=W,e._cellPadding=3,e._cellMargin=13,e._lastCellPos={x:W,y:W,w:W,h:W,ln:W},e._cellHeaderFunction=e._tablePrintHeader=e._cellMargins=e._cellTableHeaderRow=e._cellPrintingHeaderRow=e._tableFontSize=W,e._cellPages=1,e.addFonts(),e._fontKey="F1"},getExt:function(){return".pdf"},getContentType:function(){return"application/pdf"},getContent:function(e){return e&&"string"!=e.type?this._getArrayBuffer():this._build()},_toString:function(e){return(""+e).toLowerCase()},_getScaleFactor:function(){var e=this.options.unit;switch(e){case"pt":return 1;case"mm":return 72/25.4000508;case"cm":return 72/2.54000508;case"in":return 72;case"px":return 96/72;case"pc":case"em":return 12;case"ex":return 6;default:return void X("shieldExport: Invalid measurement unit: "+e,this.options.dieOnError)}},_setNumberPrecision:function(e,t){return e.toFixed(t)},_setPadding:function(e,t,n){return("0"+parseInt(e,t)).slice(-n)},_write:function(e){var t=this;t._printToDoc?(t._contentLength+=e.length+1,t._content.push(e)):t._pages[t._currentPage].push(e)},_createObject:function(){var e=this;return e._objectNumber++,e._offsets[e._objectNumber]=e._contentLength,e._write(e._objectNumber+" 0 obj"),e._objectNumber},_createAdditionalObject:function(){var e={objId:2*this._pages.length+1+this._additionalObjects.length,content:""};return this._additionalObjects.push(e),e},_createObjectDeferred:function(){var e=this;return e._objectNumber++,e._offsets[e._objectNumber]=function(){return e._contentLength},e._objectNumber},_createObjectDeferredBegin:function(e){this._offsets[e]=this._contentLength},_writeStream:function(e){this._write("stream"),this._write(e),this._write("endstream")},_writePages:function(){for(var e,t,n,i,r=this,a=(r.options,r._pages,r._pageDim),s=1;s<=r._page;s++)r._createObject(),t=(r._pageWidth=a[s].width)*r._scaleFactor,n=(r._pageHeight=a[s].height)*r._scaleFactor,r._write("<</Type /Page"),r._write("/Parent 1 0 R"),r._write("/Resources 2 0 R"),r._write("/MediaBox [0 0 "+r._setNumberPrecision(t,2)+" "+r._setNumberPrecision(n,2)+"]"),r._write("/Contents "+(r._objectNumber+1)+" 0 R"),r._write(">>"),r._write("endobj"),t=r._pages[s].join("\n"),r._createObject(),r._write("<</Length "+t.length+">>"),r._writeStream(t),r._write("endobj");for(r._offsets[1]=r._contentLength,r._write("1 0 obj"),r._write("<</Type /Pages"),i="/Kids [",e=0;e<r._page;e++)i+=3+2*e+" 0 R ";r._write(i+"]"),r._write("/Count "+r._page),r._write(">>"),r._write("endobj")},_writeFont:function(e){var t=this;e.objectNumber=t._createObject(),t._write("<</BaseFont/"+e.PostScriptName+"/Type/Font"),"string"==typeof e.encoding&&t._write("/Encoding/"+e.encoding),t._write("/Subtype/Type1>>"),t._write("endobj")},_writeFonts:function(){var e,t=this._fonts;for(e in t)t.hasOwnProperty(e)&&this._writeFont(t[e])},_writeXObjectDictionary:function(){},_writeResourceDictionary:function(){var e,t=this,n=t._fonts;for(e in t._write("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),t._write("/Font <<"),n)n.hasOwnProperty(e)&&t._write("/"+e+" "+n[e].objectNumber+" 0 R");t._write(">>"),t._write("/XObject <<"),t._writeXObjectDictionary(),t._write(">>")},_writeResources:function(){var e=this,t=e._offsets;e._writeFonts(),t[2]=e._contentLength,e._write("2 0 obj"),e._write("<<"),e._writeResourceDictionary(),e._write(">>"),e._write("endobj")},_writeAdditionalObjects:function(){for(var e,t=this,n=t._offsets,i=t._additionalObjects,r=0;r<i.length;r++)n[(e=i[r]).objId]=t._contentLength,t._write(e.objId+" 0 obj"),t._write(e.content),t._write("endobj");t._objectNumber+=i.length},_writeToFontDictionary:function(e,t,n){this._fontmap.hasOwnProperty(t)||(this._fontmap[t]={}),this._fontmap[t][n]=e},_to8bitStream:function(e,t){var n,i,u,r,c,a,s=this._fonts,o=this._fontKey,l=(t=t||{}).sourceEncoding||"Unicode",h=t.outputEncoding;if((t.autoencode||h)&&s[o].metadata&&s[o].metadata[l]&&s[o].metadata[l].encoding&&(l=s[o].metadata[l].encoding,!(h=!h&&s[o].encoding?s[o].encoding:h)&&l.codePages&&(h=l.codePages[0]),h=M(h)?l[h]:h)){for(i=!1,n=[],a=0,c=e.length;a<c;a++)(r=h[e.charCodeAt(a)])?n.push(String.fromCharCode(r)):n.push(e[a]),n[a].charCodeAt(0)>>8&&(i=!0);e=n.join("")}for(a=e.length;void 0===i&&0!==a;)e.charCodeAt(a-1)>>8&&(i=!0),a--;if(!i)return e;for(n=t.noBOM?[]:[254,255],a=0,c=e.length;a<c;a++){if((u=(r=e.charCodeAt(a))>>8)>>8)return void X("shieldExport: Character at position "+a+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE",this.options.dieOnError);n.push(u),n.push(r-(u<<8))}return String.fromCharCode.apply(W,n)},_escape:function(e,t){return this._to8bitStream(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_writeInfo:function(){var e,t,n,i,r,a=this,s=a.options,o=s.producer,l=s.created,h=a._documentProps;for(U(o)&&a._write("/Producer ("+o+")"),r=0;r<h.length;r++)i=s[n=h[r]],(i="author"!==n&&n!==p?i:$("&#x53;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x20;&#x55;&#x49;&#x20;&#x46;&#x72;&#x61;&#x6D;&#x65;&#x77;&#x6F;&#x72;&#x6B;"))&&a._write("/"+E(n)+" ("+a._escape(i)+")");t=(l=(o=c(l)).getTimezoneOffset())<0?"+":"-",e=Math.floor(Math.abs(l/60)),l=Math.abs(l%60),t=[t,a._setPadding(e,10,2),"'",a._setPadding(l,10,2),"'"].join(""),a._write(["/CreationDate (D:",o.getFullYear(),a._setPadding(o.getMonth()+1,10,2),a._setPadding(o.getDate(),10,2),a._setPadding(o.getHours(),10,2),a._setPadding(o.getMinutes(),10,2),a._setPadding(o.getSeconds(),10,2),t,")"].join(""))},_writeCatalog:function(){var e,t=this;switch(t._write("/Type /Catalog"),t._write("/Pages 1 0 R"),t._zoomMode||(t._zoomMode="fullwidth"),t._zoomMode){case"fullwidth":t._write("/OpenAction [3 0 R /FitH null]");break;case"fullheight":t._write("/OpenAction [3 0 R /FitV null]");break;case"fullpage":t._write("/OpenAction [3 0 R /Fit]");break;case"original":t._write("/OpenAction [3 0 R /XYZ null null 1]");break;default:"%"===(e=""+t._zoomMode).substr(e.length-1)&&(t._zoomMode=parseInt(t._zoomMode,10)/100),ne(t._zoomMode)&&t._write("/OpenAction [3 0 R /XYZ null null "+t._setNumberPrecision(t._zoomMode,2)+"]")}switch(t._layoutMode||(t._layoutMode="continuous"),t._layoutMode){case"continuous":t._write("/PageLayout /OneColumn");break;case"single":t._write("/PageLayout /SinglePage");break;case"two":case"twoleft":t._write("/PageLayout /TwoColumnLeft");break;case"tworight":t._write("/PageLayout /TwoColumnRight")}t._pageMode&&t._write("/PageMode /"+t._pageMode)},_writeTrailer:function(){var e=this._objectNumber;this._write("/Size "+(e+1)),this._write("/Root "+e+" 0 R"),this._write("/Info "+(e-1)+" 0 R")},addFont:function(e,t,n,i){var r="F"+(oe(this._fonts).length+1).toString(10);this._fonts[r]={id:r,PostScriptName:e,fontName:t,fontStyle:n,encoding:i,metadata:{}};return this._writeToFontDictionary(r,t,n),r},addFonts:function(){for(var e,t,n=[["Helvetica",g,y],["Helvetica-Bold",g,v],["Helvetica-Oblique",g,a],["Helvetica-BoldOblique",g,b],["Courier",x,y],["Courier-Bold",x,v],["Courier-Oblique",x,a],["Courier-BoldOblique",x,b],["Times-Roman",m,y],["Times-Bold",m,v],["Times-Italic",m,a],["Times-BoldItalic",m,b]],i=0,r=n.length;i<r;i++)e=this.addFont(n[i][0],n[i][1],n[i][2],"StandardEncoding"),t=n[i][0].split("-"),this._writeToFontDictionary(e,t[0],t[1]||"")},getActiveFontObj:function(){var e=this._fonts,t=this._fontKey;return e&&t&&e[t]?e[t]:W},getFontObj:function(e,t){var n=this._fonts,e=this.getFont(e,t);return n&&e&&n[e]?n[e]:W},getFont:function(e,t){var n,i=this,r=i._fonts,a=i._fontmap;switch(e=U(e)?e:r[i._fontKey].fontName,t=U(t)?t:i._fontKey?r[i._fontKey].fontStyle:W,U(e)&&(e=e.toLowerCase()),t){case"sans-serif":case"verdana":case"arial":e=g;break;case"fixed":case"monospace":case"terminal":e=x;break;default:e=m}try{n=a[e][t]}catch(e){}return n||null==(n=a[m][t])&&(n=a[m][y]),n},_setPage:function(e){var t=this,n=t._pageDim;0<e&&e<=t._page&&(t._currentPage=e,t._pageWidth=n[e].width,t._pageHeight=n[e].height)},_beginPage:function(e,t){var n,i=this,r=i._formats,a=i._pages,s=i._pageDim,o=i._pagesContext,l=M(t)&&t.toLowerCase();if(M(e)&&(n=e.toLowerCase(),r.hasOwnProperty(n)&&(e=r[n][0]/i._scaleFactor,t=r[n][1]/i._scaleFactor)),k(e)&&(t=e[1],e=e[0]),l){switch(l.substr(0,1)){case"l":e<t&&(l="s");break;case"p":t<e&&(l="s")}"s"===l&&(i._tmp=e,e=t,t=i._tmp)}i._printToDoc=!1,i._page++,a[i._page]=[],s[i._page]={width:Number(e)||i._pageWidth,height:Number(t)||i._pageHeight},o[i._page]={},i._setPage(i._page)},addPage:function(){var e=this,t=e.options,n=t.drawColor,t=t.lineWidth;e._beginPage.apply(e,arguments),e._write(e._setNumberPrecision(t*e._scaleFactor,2)+" w"),e._write(n),0!==e._lineCapID&&e._write(e._lineCapID+" J"),0!==e._lineJoinID&&e._write(e._lineJoinID+" j")},deletePage:function(e){var t=this,n=t._pages,i=t._pageDim;0<e&&e<=t._page&&(n.splice(e,1),i.splice(e,1),t._page--,t._currentPage>t._page&&(t._currentPage=t._page),t._setPage(t._currentPage))},getFontSize:function(){return this._fontSize},getLineHeight:function(){return this.getFontSize()*this.options.lineHeight},getCoordinateString:function(e){return this._setNumberPrecision(e*this._scaleFactor,2)},getVerticalCoordinateString:function(e){return this._setNumberPrecision((this._pageHeight-e)*this._scaleFactor,2)},getPageSize:function(){return{width:this._pageWidth,height:this._pageHeight}},getNumberOfPages:function(){return this._pages.length-1},getPages:function(){return this._pages},getPageInfo:function(e){return{objId:2*(e-1)+3,pageNumber:e,pageContext:this._pagesContext[e]}},getCurrentPageInfo:function(){return this.getPageInfo(this._currentPage)},movePage:function(e,t){var n,i,r,a,s=this,o=s._pages,l=s._pageDim,h=s._pagesContext;if(t<e){for(n=o[e],i=l[e],r=h[e],a=e;t<a;a--)o[a]=o[a-1],l[a]=l[a-1],h[a]=h[a-1];o[t]=n,l[t]=i,h[t]=r,s._setPage(t)}else if(e<t){for(n=o[e],i=l[e],r=h[e],a=e;a<t;a++)o[a]=o[a+1],l[a]=l[a+1],h[a]=h[a+1];o[t]=n,l[t]=i,h[t]=r,s._setPage(t)}return s},insertPage:function(){var e=this,t=[].slice.call(arguments),n=t.shift();return e.addPage.apply(e,t),e.movePage(e._currentPage,n),e},setDisplayMode:function(e,t,n){return this._zoomMode=e,this._layoutMode=t,this._pageMode=n,this},_ESC:function(e,t){var n=this.options;return e=e.split("\t").join(new Array(n.TabLen||9).join(" ")),this._escape(e,t)},text:function(e,t,u,n,i,r){var c,f,a,s,o,d,p,g,m,l,h=this,x="",y="Td",v="",b=h.getCurrentPageInfo().pageContext,w=h.getLineHeight();if(M(e)&&(e=e.match(/[\n\r]/)?e.split(/\r\n|\r|\n/g):[e]),M(i)&&(r=i,i=null),M(n)&&(r=n,n=null),ne(n)&&(i=n,n=null),i&&(i*=Math.PI/180,c=Math.cos(i),i=Math.sin(i),x=[h._setNumberPrecision(c,2),h._setNumberPrecision(i,2),h._setNumberPrecision(-1*i,2),h._setNumberPrecision(c,2),""].join(" "),y="Tm"),"noBOM"in(n=n||{})||(n.noBOM=!0),"autoencode"in n||(n.autoencode=!0),!0===n.stroke?!0!==b.lastTextWasStroke&&(v="1 Tr\n",b.lastTextWasStroke=!0):(b.lastTextWasStroke&&(v="0 Tr\n"),b.lastTextWasStroke=!1),U(h._runningPageHeight)||(h._runningPageHeight=0),M(e))e=h._ESC(e,n);else{if(!(e instanceof Array))return void X('Type of text must be string or Array. "'+e+'" is not recognized.',h.options.dieOnError);for(a=[],o=(f=e.concat()).length;o--;)a.push(h._ESC(f.shift(),n));if(Math.ceil((h._pageHeight-u-h._runningPageHeight)*h._scaleFactor/h.getLineHeight()),r){if(l=te(e,function(e){return h._getStringWidth(e)*h.getFontSize()/h._scaleFactor}),m=Math.max.apply(Math,l),"center"===r)d=t-m/2,t-=l[0]/2;else{if("right"!==r)return void X('Unrecognized alignment option, use "center" or "right".',h.options.dieOnError);d=t-m,t-=l[0]}for(p=t,e=a[0]+") Tj\n",s=1,o=a.length;s<o;s++)g=m-l[s],"center"===r&&(g/=2),e+=d-p+g+" -"+w+" Td ("+a[s],p=d+g,s<o-1&&(e+=") Tj\n")}else e=a.join(") Tj\nT* (")}return i=h._setNumberPrecision((h._pageHeight-u)*h._scaleFactor,2),h._write("BT\n/"+h._fontKey+" "+h.getFontSize()+" Tf\n"+h.getLineHeight()+" TL\n"+v+h._textColor+"\n"+x+h._setNumberPrecision(t*h._scaleFactor,2)+" "+i+" "+y+"\n("+e+") Tj\nET"),h},lstext:function(e,t,n,i){for(var r=0,a=e.length;r<a;r++,t+=i)this.text(e[r],t,n)},line:function(e,t,n,i){return this.lines([[n-e,i-t]],e,t)},clip:function(){this._write("W"),this._write("S")},lines:function(e,t,n,i,u,c){var r,a,f,d,s,p,g,m,x,o,l,h=this;for(ne(e)&&(h._tmp=n,n=t,t=e,e=h._tmp),i=i||[1,1],h._write(h._setNumberPrecision(t*h._scaleFactor,3)+" "+h._setNumberPrecision((h._pageHeight-n)*h._scaleFactor,3)+" m "),r=i[0],a=i[1],d=e.length,o=t,l=n,f=0;f<d;f++)2===(s=e[f]).length?(o=s[0]*r+o,l=s[1]*a+l,h._write(h._setNumberPrecision(o*h._scaleFactor,3)+" "+h._setNumberPrecision((h._pageHeight-l)*h._scaleFactor,3)+" l")):(p=s[0]*r+o,g=s[1]*a+l,m=s[2]*r+o,x=s[3]*a+l,o=s[4]*r+o,l=s[5]*a+l,h._write(h._setNumberPrecision(p*h._scaleFactor,3)+" "+h._setNumberPrecision((h._pageHeight-g)*h._scaleFactor,3)+" "+h._setNumberPrecision(m*h._scaleFactor,3)+" "+h._setNumberPrecision((h._pageHeight-x)*h._scaleFactor)+" "+h._setNumberPrecision(o*h._scaleFactor)+" "+h._setNumberPrecision((h._pageHeight-l)*h._scaleFactor)+" c"));return c&&h._write(" h"),null!==u&&h._write(h.getStyle(u)),h},rect:function(e,t,n,i,r){var a=this;a.getStyle(r);return a._write([a._setNumberPrecision(e*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-t)*a._scaleFactor,2),a._setNumberPrecision(n*a._scaleFactor,2),a._setNumberPrecision(-i*a._scaleFactor,2),"re"].join(" ")),null!==r&&a._write(a.getStyle(r)),a},triangle:function(e,t,n,i,r,a,s){return this.lines([[n-e,i-t],[r-n,a-i],[e-r,t-a]],e,t,[1,1],s,!0),this},roundedRect:function(e,t,n,i,r,a,s){var o=4/3*(Math.SQRT2-1);return this.lines([[n-2*r,0],[r*o,0,r,a-a*o,r,a],[0,i-2*a],[0,a*o,-r*o,a,-r,a],[2*r-n,0],[-r*o,0,-r,-a*o,-r,-a],[0,2*a-i],[0,-a*o,r*o,-a,r,-a]],e+r,t,[1,1],s),this},ellipse:function(e,t,n,i,r){var a=this,s=4/3*(Math.SQRT2-1)*n,o=4/3*(Math.SQRT2-1)*i;return a._write([a._setNumberPrecision((e+n)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-t)*a._scaleFactor,2),"m",a._setNumberPrecision((e+n)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t-o))*a._scaleFactor,2),a._setNumberPrecision((e+s)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t-i))*a._scaleFactor,2),a._setNumberPrecision(e*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t-i))*a._scaleFactor,2),"c"].join(" ")),a._write([a._setNumberPrecision((e-s)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t-i))*a._scaleFactor,2),a._setNumberPrecision((e-n)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t-o))*a._scaleFactor,2),a._setNumberPrecision((e-n)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-t)*a._scaleFactor,2),"c"].join(" ")),a._write([a._setNumberPrecision((e-n)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t+o))*a._scaleFactor,2),a._setNumberPrecision((e-s)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t+i))*a._scaleFactor,2),a._setNumberPrecision(e*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t+i))*a._scaleFactor,2),"c"].join(" ")),a._write([a._setNumberPrecision((e+s)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t+i))*a._scaleFactor,2),a._setNumberPrecision((e+n)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t+o))*a._scaleFactor,2),a._setNumberPrecision((e+n)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-t)*a._scaleFactor,2),"c"].join(" ")),null!==r&&a._write(a.getStyle(r)),a},circle:function(e,t,n,i){return this.ellipse(e,t,n,n,i)},setFontSize:function(e){return this._fontSize=e,this},setFont:function(e,t){return this._fontKey=this.getFont(e,t),this},setFontStyle:function(e){return this._fontKey=this.getFont(W,e),this},getFontList:function(){var e,t,n,i={},r=this._fontmap;for(e in r)if(r.hasOwnProperty(e))for(t in i[e]=n=[],r[e])r[e].hasOwnProperty(t)&&n.push(t);return i},addFontScriptName:function(e,t,n){this.addFont(e,t,n,"StandardEncoding")},setLineWidth:function(e){return this._write((e*this._scaleFactor).toFixed(2)+" w"),this},setDrawColor:function(e,t,n,i){var r=this,i=!U(t)||!U(i)&&e===t===n?M(e)?e+" G":r._setNumberPrecision(e/255,2)+" G":(U(i)?M(e)?[e,t,n,i,"K"]:[r._setNumberPrecision(e,2),r._setNumberPrecision(t,2),r._setNumberPrecision(n,2),r._setNumberPrecision(i,2),"K"]:M(e)?[e,t,n,"RG"]:[r._setNumberPrecision(e/255,2),r._setNumberPrecision(t/255,2),r._setNumberPrecision(n/255,2),"RG"]).join(" ");return r._write(i),r},setFillColor:function(e,t,n,i){var r,a=this;return!U(t)||!U(i)&&e===t===n?r=M(e)?e+" g":a._setNumberPrecision(e/255,2)+" g":!U(i)||F(i)?(r=(M(e)?[e,t,n,"rg"]:[a._setNumberPrecision(e/255,2),a._setNumberPrecision(t/255,2),a._setNumberPrecision(n/255,2),"rg"]).join(" "),i&&0===i.a&&(r=["255","255","255","rg"].join(" "))):r=(M(e)?[e,t,n,i,"k"]:[a._setNumberPrecision(e,2),a._setNumberPrecision(t,2),a._setNumberPrecision(n,2),a._setNumberPrecision(i,2),"k"]).join(" "),a._write(r),a},setTextColor:function(e,t,n){var i,r=this;return M(e)&&/^#[0-9A-Fa-f]{6}$/.test(e)&&(e=(i=parseInt(e.substr(1),16))>>16&255,t=i>>8&255,n=255&i),0===e&&0===t&&0===n||!U(t)?r._textColor=r._setNumberPrecision(e/255,3)+" g":r._textColor=[r._setNumberPrecision(e/255,3),r._setNumberPrecision(t/255,3),r._setNumberPrecision(n/255,3),"rg"].join(" "),r},_build:function(){var e,t,n,i,r=this;for(r._printToDoc=!0,r._objectNumber=2,r._write("%PDF-"+r._version),r._writePages(),r._writeAdditionalObjects(),r._writeResources(),r._createObject(),r._write("<<"),r._writeInfo(),r._write(">>"),r._write("endobj"),r._createObject(),r._write("<<"),r._writeCatalog(),r._write(">>"),r._write("endobj"),e=r._contentLength,t="0000000000",r._write("xref"),r._write("0 "+(r._objectNumber+1)),r._write(t+" 65535 f "),i=1;i<=r._objectNumber;i++)n=r._offsets[i],P(n)?r._write((t+r._offsets[i]()).slice(-10)+" 00000 n "):r._write((t+r._offsets[i]).slice(-10)+" 00000 n ");return r._write("trailer"),r._write("<<"),r._writeTrailer(),r._write(">>"),r._write("startxref"),r._write(e),r._write("%%EOF"),r._printToDoc=!1,r._content.join("\n")},getStyle:function(e){var t="S";return"F"===e?t="F".toLowerCase():"FD"===e||"DF"===e?t="B":e!=="F".toLowerCase()&&"f*"!==e&&"both"!==e&&"B*"!==e||(t=e),t},_getArrayBuffer:function(){for(var e=this._build(),t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n);t--;)i[t]=e.charCodeAt(t);return n},_getCharWidths:function(e,t){for(var n,t=t||{},i=this.getActiveFontObj(),r=t.widths||i.metadata.Unicode.widths,a=r.fof||1,s=t.kerning||i.metadata.Unicode.kerning,u=s.fof||1,o=0,c=r[0]||a,l=[],h=0,f=e.length;h<f;h++)n=e.charCodeAt(h),l.push((r[n]||c)/a+(s[n]&&s[n][o]||0)/u),o=n;return l},_sum:function(e){for(var t=e.length,n=0;t;)n+=e[--t];return n},_getStringWidth:function(e,t){return this._sum(this._getCharWidths.call(this,e,t))},_getTextDimensions:function(t){var n=this.getActiveFontObj(),e=n.fontName,i=this._tableFontSize||this.getFontSize(),n=n.fontStyle,r=_.createElement("font");try{r.style.fontStyle=n}catch(e){r.style.fontWeight=n}r.style.fontName=e,r.style.fontSize=i+"pt";try{r.textContent=t}catch(e){r.innerText=t}return _.body.appendChild(r),n={w:(r.offsetWidth+1)*I,h:(r.offsetHeight+1)*I},_.body.removeChild(r),n},_setLastCellPosition:function(e,t,n,i,r){this._lastCellPos={x:e,y:t,w:n,h:i,ln:r}},_getLastCellPosition:function(){return this._lastCellPos},_cellAddPage:function(){var e=this,t=e._cellMargins||e._noMargins;e.addPage(),e._setLastCellPosition(t.left,t.top),e._cellPages++},_setTableHeaderConfig:function(e){this._cellTableHeaderRow=e},_splitWord:function(e,t,n,i){for(var r,a=[],s=0,o=e.length,l=0;s!==o&&l+t[s]<n;)l+=t[s],s++;for(a.push(e.slice(0,s)),r=s,l=0;s!==o;)l+t[s]>i&&(a.push(e.slice(r,s)),l=0,r=s),l+=t[s],s++;return r!==s&&a.push(e.slice(r,s)),a},_splitParagraph:function(u,c,f){var d,p,g,e,m,n,t=this,i=f||{},r=[],x=[r],y=i.textIndent||0,a=0,s=0,o=u.split(" "),v=t._getCharWidths(" ",i)[0],l=-1===i.lineIndent?o[0].length+2:i.lineIndent||0;for(l&&(m=new Array(l).join(" "),n=[],w(o,function(e,t){1<(t=t.split(/\s*\n/)).length?n=n.concat(te(t,function(e,t){return(t&&e.length?"\n":"")+e})):n.push(t[0])}),o=n,l=t._getStringWidth(m,i)),p=0,g=o.length;p<g;p++){var b=0,h=o[p];if(l&&"\n"==h[0]&&(h=h.substr(1),b=1),d=t._getCharWidths(h,i),c<y+a+(s=t._sum(d))||b){if(c<s){for(e=t._splitWord(h,d,c-(y+a),c),r.push(e.shift()),r=[e.pop()];e.length;)x.push([e.shift()]);s=t._sum(d.slice(h.length-r[0].length))}else r=[h];x.push(r),y=s+l,a=v}else r.push(h),y+=a+s,a=v}return te(x,l?function(e,t){return(t?m:"")+e.join(" ")}:function(e){return e.join(" ")})},_splitText:function(e,t,n){var i,r,a=this,n=n||{},s=k(e)?e.join(" "):e,s=a._getTextDimensions(s).w/s.length,o=[],l=function(e){var t,n={0:1},i={};return e.widths&&e.kerning?{widths:e.widths,kerning:e.kerning}:(e=a.getFontObj(e.fontName,e.fontStyle)||a.getActiveFontObj()).metadata[t="Unicode"]?{widths:e.metadata[t].widths||n,kerning:e.metadata[t].kerning||i}:{widths:n,kerning:i}}.call(a,n),h=k(e)?e:e.split(/\r?\n/),u=+a._scaleFactor*t/s;for(l.textIndent=n.textIndent?+n.textIndent*a._scaleFactor/s:0,l.lineIndent=n.lineIndent,i=0,r=h.length;i<r;i++)o=o.concat(a._splitParagraph(h[i],u,l));return o},_getLineHeight:function(e,t,n){for(var i,r,a=0,s=this._cellPadding,o=0;o<e.length;o++)r=e[o],i=k(n)?n[o]:n[r],k(i)||(!U(i)||ae(i)?i="":i+=""),i=k(n)?(n[o]=this._splitText(i,t[r]-s),n[o].length):(n[r]=this._splitText(i,t[r]-s),n[r].length),a<(r=this.getLineHeight()*i+1.6*s)&&(a=r);return a},_cell:function(e,t,n,i,r,a,u){var s,c,o,l=this,h=l._getLastCellPosition(),f=l._cellMargins||l._noMargins,d=l._cellPadding;if(U(h.ln)&&(t=h.ln===a?(e=h.x+h.w,h.y):(h.y+h.h+i+l._cellMargin>=l._pageHeight-f.bottom&&(l._cellAddPage(),l._tablePrintHeader&&l._cellTableHeaderRow&&l._renderHeader(a,!0)),(h=l._getLastCellPosition()).y+(h.h||0))),U(r[0]))if(l._cellPrintingHeaderRow?l.rect(e,t,n,i,"FD"):l.rect(e,t,n,i),"right"===u)for(k(r)||(r=[r]),o=0;o<r.length;o++)s=r[o],c=l._getStringWidth(s)*l.getFontSize(),l.text(s,e+n-c-d,t+l.getLineHeight()*(o+1));else l.text(r,e+d,t+l.getLineHeight());return l._setLastCellPosition(e,t,n,i,a),l},_renderHeader:function(e,t){var n,i,r,a,s=this,o=[];if(s._cellTableHeaderRow){for(s._cellPrintingHeaderRow=!0,U(s._cellHeaderFunction)&&(a=s._cellHeaderFunction.call(s,s._cellPages),s._setLastCellPosition(a[0],a[1],a[2],a[3],-1)),s.setFontStyle(v),i=0,r=s._cellTableHeaderRow.length;i<r;i++)s.setFillColor(236,237,238),n=s._cellTableHeaderRow[i],t&&(n[1]=s._cellMargins&&s._cellMargins.top||0,o.push(n)),n=[].concat(n),s._cell.apply(s,n.concat(e));0<o.length&&s._setTableHeaderConfig(o),s.setFontStyle(y),s._cellPrintingHeaderRow=!1}else X("shieldExport: No table header configuration",s.options.dieOnError)},table:function(u,c,f,e,t){function d(e){return e[n]}var n,p,i,r,g,m,x,y,a,v,b,w,_,s=this,P=s._cellPadding,o=[],l=[],h={},C=[],E=!0,S=s.getFontSize(),T=s._noMargins;if(f){if(_=f.slice(0),t&&(!1===t.printHeader&&(E=!1),t.fontSize&&(S=t.fontSize),t.margins&&(T=t.margins)),s._lastCellPos={x:W,y:W,w:W,h:W,ln:W},s._cellPages=1,s._tablePrintHeader=E,s._cellMargins=T,s.setFontSize(S),s._tableFontSize=S,!U(e)||ae(e))o=oe(_[0]);else if(e[0]&&!M(e[0]))for(i=0,r=e.length;i<r;i++)n=e[i],o.push(n.field),l.push(n.title),h[n.field]=U(n.width)?D(n.width)*s._getScaleFactor():W;else o=e;for(i=0,r=o.length;i<r;i++)if(n=o[i],!U(h[n])){for((y=[]).push(s._getTextDimensions(l[i]||n).w+2*P),a=0,g=(x=te(_,d)).length;a<g;a++)m=x[a],y.push(s._getTextDimensions(m).w+2*P);h[n]=Math.max.apply(Math,y)}if(E){for(w=s._getLineHeight(o,h,l.length?l:o),i=0,r=o.length;i<r;i++)n=o[i],p=l.length?l[i]:n,k(p)||(p+=""),C.push([u,c,h[n],w,p]);s._setTableHeaderConfig(C),s._renderHeader(1,!1)}for(i=0,r=_.length;i<r;i++)for(v=_[i],w=s._getLineHeight(o,h,v),a=0,b=o.length;a<b;a++)n=o[a],s._cell(u,c,h[n],w,v[n],i+2,e[a].align);return s}X("shieldExport: No data specified for PDF table",s.options.dieOnError)}}),r=n.extend({getExt:function(){return".csv"},getContentType:function(){return"text/csv;charset=utf-8"},getContent:function(u){function e(e){return(e+"").replace(c,'""')}var t,n,i,r=this.options,a=r.delimiter||",",s=r.header,o=r.records||[],l=o.length,h="",c=/\"/g;if(r.printHeader&&s){for(t=0;t<s.length;t++)h+=(0<t?a:"")+'"'+e(s[t])+'"';h+="\n"}for(t=0;t<l;t++){for(n=0,i=o[t].length;n<i;n++)h+=(0<n?a:"")+'"'+e(o[t][n])+'"';h+="\n"}return h}}),ee(l,{PDFDocument:t,CSVDocument:r,OOXMLWorkbook:e,ExcelXMLSpreadsheet:Q})}(jQuery,shield,this);
shield.version='1.7.43';
!function(p,m,k,M){function t(){}var s,e,c,n,x,y,v,b,w,T,S,A,P,D,I,E,W,r,o,l,d,h=m.ui.Widget,i=m.Constants,Y=document,H=Math,L=H.round,B=H.floor,F=H.ceil,z=H.max,G=H.min,V=H.abs,U=H.cos,j=H.sin,Z=H.PI,K=2*Z/360,u="function",$="mouseover",q="mouseout",g="mousemove",Q="mouseleave",J="touchstart",tt="resize",et="click",it="point",a=navigator.userAgent,nt=k.opera,at=/msie/i.test(a)&&!nt,rt=8===Y.documentMode,ot=/AppleWebKit/.test(a),st=/Firefox/.test(a),lt=i.SVG_NS,dt=!!Y.createElementNS&&!!Y.createElementNS(lt,"svg").createSVGRect,ct=!!Y.createElement("canvas").getContext,ht=!dt&&!at&&ct,pt=Y.documentElement.ontouchstart!==M,ut={},C=p.extend,gt=p.inArray,ft=m.error,mt=m.to.int,xt=m.is.string,yt=m.is.object,vt=m.is.array,bt=m.is.number,wt=(m.is.integer,m.is.float),Tt=m.is.null,_=m.is.defined,kt=m.to.array,St="shield-",At="div",Pt="visible",Lt="hidden",Ct="relative",Mt="px",_t="L",Rt="M",Dt="none",It="absolute",Nt="pointer",Xt="rgba(192,192,192,"+(dt?1e-4:.002)+")",Ot="pointHoveredState",Et="pointSelectedState",Wt="MINUTE",Yt="HOUR",Ht="DAY",Bt="WEEK",Ft="MONTH",zt="YEAR",Gt="stroke-width",N={},Vt={};function Ut(t){return H.log(t)/H.LN10}function jt(t){return H.pow(10,t)}function Zt(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function Kt(t,e,i){var n,a,r="setAttribute";if(xt(e))_(i)?t[r](e,i):t&&t.getAttribute&&(a=t.getAttribute(e));else if(_(e)&&yt(e))for(n in e)e.hasOwnProperty(n)&&t[r](n,e[n]);return a}function X(){for(var t,e=arguments,i=e.length,n=0;n<i;n++)if(null!=(t=e[n]))return t}function $t(t,e){at&&e&&e.opacity!==M&&(e.filter="alpha(opacity="+100*e.opacity+")"),C(t.style,e)}function qt(t,e,i,n,a){t=Y.createElement(t);return e&&C(t,e),a&&$t(t,{padding:0,border:Dt,margin:0}),i&&$t(t,i),n&&n.appendChild(t),t}function Qt(t,e){function i(){}return i.prototype=new t,C(i.prototype,e),i}function Jt(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(n),i.apply(this,t)}}function te(t,e,i,n){var a,r=t/(i=X(i,1));for(e||(e=[1,2,2.5,5,10],n&&!1===n.decimalTicks&&(1===i?e=[1,2,5,10]:i<=.1&&(e=[1/i]))),a=0;a<e.length&&(t=e[a],!(r<=(e[a]+(e[a+1]||e[a]))/2));a++);return t*=i}function ee(){this.color=0,this.symbol=0}function ie(t,i){for(var n,e=t.length,a=0;a<e;a++)t[a]._ssIndex=a;for(t.sort(function(t,e){return 0===(n=i(t,e))?t._ssIndex-e._ssIndex:n}),a=0;a<e;a++)delete t[a]._ssIndex}function ne(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i}function ae(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function re(t,e){for(var i in t)t.hasOwnProperty(i)&&(t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i])}function oe(t){e=e||qt(At),t&&e.appendChild(t),e.innerHTML=""}function se(t){return parseFloat(t.toPrecision(14))}function le(t,e){c=X(t,N[e.guid].applyAnimation)}ee.prototype={wrapColor:function(t){this.color>=t&&(this.color=0)},wrapSymbol:function(t){this.symbol>=t&&(this.symbol=0)}},x={MILLISECOND:1,SECOND:1e3,MINUTE:6e4,HOUR:36e5,DAY:864e5,WEEK:6048e5,MONTH:2592e6,YEAR:31556952e3},n={init:function(t,e,c){function i(t){for(a=t.length;a--;)t[a]===Rt&&t.splice(a+1,0,t[a+1],t[a+2],t[a+1],t[a+2])}var h,n,a,r,p,u=t.shift,o=-1<(e=e||"").indexOf("C"),s=o?7:3,l=e.split(" "),d=[].concat(c);if(o&&(i(l),i(d)),t.isArea&&(r=l.splice(l.length-6,6),p=d.splice(d.length-6,6)),u<=d.length/s)for(;u--;)d=[].concat(d).splice(0,s).concat(d);if(t.shift=0,l.length)for(h=d.length;l.length<h;)n=[].concat(l).splice(l.length-s,s),o&&(n[s-6]=n[s-2],n[s-5]=n[s-1]),l=l.concat(n);return r&&(l=l.concat(r),d=d.concat(p)),[l,d]},step:function(t,e,i,n){var a,r=[],o=t.length;if(1===i)r=n;else if(o===e.length&&i<1)for(;o--;)a=parseFloat(t[o]),r[o]=isNaN(a)?t[o]:i*parseFloat(e[o]-a)+a;else r=e;return r}},r=p.fx,o=r.step,l=p.Tween,d=l&&l.propHooks,p.extend(p.easing,{easeOutQuad:function(t,e,i,n,a){return-n*(e/=a)*(e-2)+i}}),p.each(["cur","_default","width","height"],function(e,i){var n,a,t=o;"cur"===i?t=r.prototype:"_default"===i&&l&&(t=d[i],i="set"),(n=t[i])&&(t[i]=function(t){return(a=(t=e?t:this).elem).attr?a.attr(t.prop,"cur"===i?M:t.now):n.apply(this,arguments)})}),i=function(t){var e,i=t.elem;t.started||(e=n.init(i,i.d,i.toD),t.start=e[0],t.end=e[1],t.started=!0),i.attr("d",n.step(t.start,t.end,t.pos,i.toD))},l?d.d={set:i}:o.d=i;p.getScript;function R(){return p.extend.apply(p,[].concat.apply([!0,null],arguments))}function de(t,e,i){p(t).bind(e,i)}function ce(t,e,i){var n=Y.removeEventListener?"removeEventListener":"detachEvent";Y[n]&&!t[n]&&(t[n]=function(){}),p(t).unbind(e,i)}function he(t,e,i,n){var a,r,o;t instanceof m.ui.Widget?t.trigger(e,i,n):t instanceof m.Dispatcher?(a=t.trigger(e,i),typeof n!=u||a.isDefaultPrevented()||n.call(t,a)):(a=t,t=e,e=i,i=n,o=p.Event(t),n="detached"+t,!at&&e&&(delete e.layerX,delete e.layerY),C(o,e),a[t]&&(a[n]=a[t],a[t]=null),p.each(["preventDefault","stopPropagation"],function(t,e){var i=o[e];o[e]=function(){try{i.call(o)}catch(t){"preventDefault"===e&&(r=!0)}}}),p(a).trigger(o),a[n]&&(a[t]=a[n],a[n]=null),!i||o.isDefaultPrevented()||r||i(o))}function pe(t){p(t).stop()}var ue,O=Array.prototype.forEach?function(t,e){return Array.prototype.forEach.call(t,e)}:function(t,e){for(var i=0,n=t.length;i<n;i++)if(!1===e.call(t[i],t[i],i,t))return i},ge=p.grep,fe=p.map,i={enabled:!0,align:"center",x:0,y:15,style:{color:"#7E7E7E",fontSize:"11px",lineHeight:"14px"}},f=(ue={seriesPalette:["#1E98E4","#FFC500","#FF2A00","#CACACA","#7F7F7F","#00FF9C","#6D31FF","#00B2A1","#B9FF85","#FF8000"],allowUTCFormatting:!0,primaryHeader:{text:"Shield UI Chart",align:"center",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif",y:-15,style:{color:"#4B4B4B",fontSize:"16px",top:10}},secondaryHeader:{text:"",align:"center",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif",y:5,style:{color:"#606060"}},loadingTextStyle:{fontWeight:"bold",position:Ct,top:"1em"},symbols:["circle"],chartAreaBorderColor:"#000000",chartAreaBorderWidth:0,borderColor:"#A0A0A0",borderRadius:0,borderWidth:0,seriesType:"bar",scaleAxesForHiddenSeries:!1,chartAreaPaddingTop:40,chartAreaPaddingRight:10,chartAreaPaddingBottom:20,chartAreaPaddingLeft:10,style:{fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif",fontSize:"12px"},backgroundColor:"#FFFFFF",axisX:{plotStripWidth:0,drawWidth:1,ticksWidth:1,ticksHeight:6,drawColor:"#636363",ticksColor:"#636363",lastTickTextVisible:!0,axisTickText:{style:{color:"#636363",fontSize:"11px",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"},y:17},title:{style:{color:"#636363",fontWeight:"normal",fontSize:"11px",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"}}},axisY:{plotStripWidth:1,drawWidth:0,tickWidth:1,tickColor:"#7E7E7E",drawColor:"#636363",plotStripDashStyle:"Solid",axisTickText:{style:{color:"#636363",fontSize:"11px",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"}},title:{style:{color:"#636363",fontSize:"11px",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"}}},seriesSettings:{bar:{borderWidth:0},line:{enablePointSelection:!1,allowMultiPointSelection:!0,applyAnimation:{duration:1200},events:{},drawWidth:3,shadow:!1,pointMark:{enabled:!0,drawWidth:2,drawRadius:3,drawColor:null,innerColor:null,activeSettings:{pointHoveredState:{enabled:!0,innerColor:"#FFFFFF",drawWidth:2,drawRadius:4},pointSelectedState:{color:"#7AF4F4",shadow:!1,drawWidth:2}}},point:{events:{}},dataPointText:R(i,{enabled:!1,format:"{point.y}",verticalAlign:"bottom",y:0}),pointsLimit:300,pointRange:0,addToLegend:!0,activeSettings:{pointHoveredState:{drawWidth:3,pointMark:{}},pointSelectedState:{pointMark:{}}},completeSeriesTrace:!0},polarline:{applyAnimation:{duration:500}},polararea:{applyAnimation:{duration:500}},polarbar:{applyAnimation:{duration:500}},polarspline:{applyAnimation:{duration:500}},polarsplinearea:{applyAnimation:{duration:500}},polarscatter:{applyAnimation:{duration:500}}},chartLegend:{enabled:!0,align:"center",renderDirection:"horizontal",borderWidth:0,borderColor:"#909090",borderRadius:0,shadow:!1,legendItemSettings:{disabledStyle:{color:"#CCC"},mouseOverStyle:{color:"#000"},elementStyle:{cursor:Nt,color:"#3E576F",fontSize:"12px"}},checkMarkSettings:{enabled:!1,shape:"check",width:1,color:"#3E576F",mouseOverColor:M,coordinates:{x:M,y:M,width:M,height:M}},symbolWidthINTERNAL:12,drawRadius:4,legendMarkerDistance:5,verticalAlign:"bottom",x:0,y:10},tooltipSettings:{enabled:!0,customHeaderText:"{point.pointName}",customPointText:"<span>{point.dataSeries.collectionAlias}</span>: {point.y}",format:null,position:null,chartBound:!1,axisMarkers:{enabled:!1,mode:"xy",color:"#999999",width:1,zIndex:3},showDistance:pt?25:10}}).seriesSettings,me=f.line;$e=ue.allowUTCFormatting,He=$e?"getUTC":"get",Ke=$e?"setUTC":"set",y=$e?Date.UTC:function(t,e,i,n,a,r){return new Date(t,e,X(i,1),X(n,0),X(a,0),X(r,0)).getTime()},v=He+"Minutes",b=He+"Hours",w=He+"Day",T=He+"Date",S=He+"Month",A=He+"FullYear",P=Ke+"Minutes",D=Ke+"Hours",I=Ke+"Date",E=Ke+"Month",W=Ke+"FullYear";function xe(e){var t,i,n=[];return(t=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(i=e))?n=[mt(t[1]),mt(t[2]),mt(t[3]),parseFloat(t[4],10)]:(t=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(i))&&(n=[mt(t[1],16),mt(t[2],16),mt(t[3],16),1]),{get:function(t){return t=n&&!isNaN(n[0])?"rgb"===t?"rgb("+n[0]+","+n[1]+","+n[2]+")":"a"===t?n[3]:"rgba("+n.join(",")+")":e},brighten:function(t){if(bt(t)&&0!==t)for(var e=0;e<3;e++)n[e]+=mt(255*t),n[e]<0&&(n[e]=0),255<n[e]&&(n[e]=255);return this},setOpacity:function(t){return n[3]=t,this}}}function ye(){}ye.prototype={init:function(t,e){this.element="span"===e?qt(e):Y.createElementNS(lt,e),this.renderer=t,this.attrSetters={}},animate:function(t,e,i){var n,a,r,e=X(e,c,!0);pe(this),e?(e=R(e),i&&(e.complete=i),a=t,e=e,r=p(n=this),a.d&&(n.toD=a.d,a.d=1),r.stop(),r.animate(a,e)):(this.attr(t),i&&i())},attr:function(t,c){var e,i,h,n,p,a,r,u,g,o=this,s=o.element,l=s.nodeName.toLowerCase(),f=o.renderer,m=o.attrSetters,d=o.shadows,x=o;if(xt(t)&&_(c)&&(e=t,(t={})[e]=c),xt(t))e=t,"circle"===l?e={x:"cx",y:"cy"}[e]||e:"strokeWidth"===e&&(e="stroke-width"),x=Kt(s,e)||o[e]||0,"d"!==e&&"visibility"!==e&&(x=parseFloat(x));else for(e in t)if(t.hasOwnProperty(e)&&(i=t[e],(a=!1)!==(h=m[e]&&m[e].call(o,i,e)))){if(h!==M&&(i=h),"d"===e)i&&i.join&&(i=i.join(" ")),/(NaN| {2}|^$)/.test(i)&&(i="M 0 0");else if("x"===e&&"text"===l){for(n=0;n<s.childNodes.length;n++)Kt(p=s.childNodes[n],"x")===Kt(s,"x")&&Kt(p,"x",i);o.textAngle&&Kt(s,"transform","rotate("+o.textAngle+" "+i+" "+mt(t.y||Kt(s,"y"))+")")}else if("fill"===e)i=f.color(i,s,e);else if("circle"!==l||"x"!==e&&"y"!==e)if("rect"===l&&"r"===e)Kt(s,{rx:i,ry:i}),a=!0;else if("translateX"===e||"translateY"===e||"textAngle"===e||"verticalAlign"===e)a=g=!0;else if("stroke"===e)i=f.color(i,s,e);else if("dashstyle"===e){if(e="stroke-dasharray","solid"===(i=i&&i.toLowerCase()))i=Dt;else if(i){for(n=(i=i.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",")).length;n--;)i[n]=mt(i[n])*t["stroke-width"];i=i.join(",")}}else"isTracker"===e?o[e]=i:"width"===e?i=mt(i):"align"===e?(e="text-anchor",i={left:"start",center:"middle",right:"end"}[i]):"title"===e&&((r=s.getElementsByTagName("title")[0])||(r=Y.createElementNS(lt,"title"),s.appendChild(r)),r.textContent=i);else e={x:"cx",y:"cy"}[e]||e;if("strokeWidth"===e&&(e="stroke-width"),ot&&"stroke-width"===e&&0===i&&(i=1e-6),o.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(e)&&(u||(o.symbolAttr(t),u=!0),a=!0),d&&/^(width|height|visibility|x|y|d|transform)$/.test(e))for(n=d.length;n--;)Kt(d[n],e,"height"===e?z(i-(d[n].cutHeight||0),0):i);("width"===e||"height"===e)&&"rect"===l&&i<0&&(i=0),o[e]=i,g&&o.updateTransform(),"text"===e?(i!==o.textStr&&delete o.bBox,o.textStr=i,o.added&&f.buildText(o)):a||Kt(s,e,i)}return x},symbolAttr:function(e){var i=this;O(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(t){i[t]=X(e[t],i[t])}),i.attr({d:i.renderer.symbols[i.symbolName](i.x,i.y,i.width,i.height,i)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":Dt)},crisp:function(t,e,i,n,a){var r,o,s=this,l={},d={};for(r in t=t||s.strokeWidth||s.attr&&s.attr("stroke-width")||0,o=L(t)%2/2,d.x=B(e||s.x||0)+o,d.y=B(i||s.y||0)+o,d.width=B((n||s.width||0)-2*o),d.height=B((a||s.height||0)-2*o),d.strokeWidth=t,d)d.hasOwnProperty(r)&&s[r]!==d[r]&&(l[r]=d[r],yt(s)&&(s[r]=d[r]));return l},css:function(t){function e(t,e){return"-"+e.toLowerCase()}var i,n=this,a=n.element,a=t&&t.width&&"text"===a.nodeName.toLowerCase(),r="";if(t&&t.color&&(t.fill=t.color),t=C(n.styles,t),n.styles=t,ht&&a&&delete t.width,at&&!dt)a&&delete t.width,$t(n.element,t);else{for(i in t)t.hasOwnProperty(i)&&(r+=i.replace(/([A-Z])/g,e)+":"+t[i]+";");n.attr({style:r})}return a&&n.added&&n.renderer.buildText(n),n},on:function(t,e){return this.element["on"+t]=e,this},setRadialReference:function(t){return this.element.radialReference=t,this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){return this.isInverted=!0,this.updateTransform(),this},htmlCss:function(t){var e=this,i=e.element,i=t&&"SPAN"===i.tagName&&t.width;return i&&(delete t.width,e.textWidth=i,e.updateTransform()),e.styles=C(e.styles,t),$t(e.element,t),e},htmlGetBBox:function(){var t=this.element,e=this.bBox;return e||("text"===t.nodeName&&(t.style.position=It),e=this.bBox={x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}),e},htmlUpdateTransform:function(){var t,c,e,h,p,u,g,f,i,m,n,a,r,o,x,s,l,y,v,d;this.added?(c=(t=this).renderer,e=t.element,h=t.translateX||0,p=t.translateY||0,u=t.x||0,g=t.y||0,i={left:0,center:.5,right:1}[f=t.textAlignINTERNAL||"left"],m=f&&"left"!==f,n=t.shadows,(h||p)&&($t(e,{marginLeft:h,marginTop:p}),n&&O(n,function(t){$t(t,{marginLeft:h+1,marginTop:p+1})})),t.isInverted&&O(e.childNodes,function(t){c.invertChild(t,e)}),"SPAN"===e.tagName&&(n=t.textAngle,r=1,o=a=0,s=mt(t.textWidth),l=t.xCorr||0,y=t.yCorr||0,d={},(v=[n,f,e.innerHTML,t.textWidth].join(","))!==t.cTT&&(_(n)&&(c.isSVG?d[at?"-ms-transform":ot?"-webkit-transform":st?"MozTransform":nt?"-o-transform":""]=d.transform="rotate("+n+"deg)":(r=U(a=n*K),o=j(a),d.filter=n?["progid:DXImageTransform.Microsoft.Matrix(M11=",r,", M12=",-o,", M21=",o,", M22=",r,", sizingMethod='auto expand')"].join(""):Dt),$t(e,d)),a=X(t.elemWidth,e.offsetWidth),d=X(t.elemHeight,e.offsetHeight),s<a&&/[ \-]/.test(e.innerText)&&($t(e,{width:s+Mt,display:"block",whiteSpace:"normal"}),a=s),l=r<0&&-a,y=o<0&&-d,l+=o*(s=c.fontMetrics(e.style.fontSize).b)*((x=r*o<0)?1-i:i),y-=r*s*(n?x?i:1-i:1),m&&(l-=a*i*(r<0?-1:1),n&&(y-=d*i*(o<0?-1:1)),$t(e,{textAlignINTERNAL:f})),t.xCorr=l,t.yCorr=y),$t(e,{left:u+l+Mt,top:g+y+Mt}),t.cTT=v)):this.alignOnAdd=!0},updateTransform:function(){var t=this,e=t.translateX||0,i=t.translateY||0,n=t.isInverted,a=t.textAngle,r=[];n&&(e+=t.attr("width"),i+=t.attr("height")),(e||i)&&r.push("translate("+e+","+i+")"),n?r.push("rotate(90) scale(-1,1)"):a&&r.push("rotate("+a+" "+(t.x||0)+" "+(t.y||0)+")"),r.length&&Kt(t.element,"transform",r.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var n=this,a=(t?(n.alignOptions=t,n.alignByTranslate=e,i||n.renderer.alignedObjects.push(n)):(t=n.alignOptions,e=n.alignByTranslate),i=X(i,n.renderer),t.align),r=t.verticalAlign,o=(i.x||0)+(t.x||0),s=(i.y||0)+(t.y||0),l={};return"right"!==a&&"center"!==a||(o+=(i.width-(t.width||0))/{right:1,center:2}[a]),l[e?"translateX":"x"]=L(o),"bottom"!==r&&"middle"!==r||(s+=(i.height-(t.height||0))/({bottom:1,middle:2}[r]||1)),l[e?"translateY":"y"]=L(s),n[n.placed?"animate":"attr"](l),n.placed=!0,n.alignAttr=l,n},getBBox:function(){var t,e=this,i=e.bBox,n=e.renderer,a=e.textAngle,r=e.element,o=e.styles,s=a*K;if(!i){if(r.namespaceURI===lt||n.forExport){try{i=r.getBBox?C({},r.getBBox()):{width:r.offsetWidth,height:r.offsetHeight}}catch(t){}(!i||i.width<0)&&(i={width:0,height:0})}else i=e.htmlGetBBox();n.isSVG&&(r=i.width,t=i.height,a&&(i.width=V(t*j(s))+V(r*U(s)),i.height=V(t*U(s))+V(r*j(s)))),at&&o&&"11px"===o.fontSize&&22.700000762939453===t&&(i.height=14),e.bBox=i}return i},show:function(){return this.attr({visibility:Pt})},hide:function(){return this.attr({visibility:Lt})},add:function(t){var e,i,n,a,r=this.renderer,o=t||r,s=o.element||r.box,c=s.childNodes,l=this.element,d=Kt(l,"zIndex");if(t&&(this.parentGroup=t),this.parentInverted=t&&t.isInverted,void 0!==this.textStr&&r.buildText(this),d&&(o.handleZ=!0,d=mt(d)),o.handleZ)for(n=0;n<c.length;n++)if(i=Kt(e=c[n],"zIndex"),e!==l&&(mt(i)>d||!_(d)&&_(i))){s.insertBefore(l,e),a=!0;break}return a||s.appendChild(l),this.added=!0,he(this,"add"),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){if(!this._destroyed){var t,e,i=this,n=i.element||{},a=i.shadows;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=null,pe(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(e=0;e<i.stops.length;e++)i.stops[e]=i.stops[e].destroy();i.stops=null}for(t in i.safeRemoveChild(n),a&&O(a,function(t){i.safeRemoveChild(t)}),i.renderer._destroyed||Zt(i.renderer.alignedObjects,i),i)i.hasOwnProperty(t)&&delete i[t];return i._destroyed=!0,null}},empty:function(){for(var t=this.element,e=t.childNodes,i=e.length;i--;)t.removeChild(e[i])},shadow:function(t,e,c){var i,n,a,r,o,s,l=[],d=this.element;if(t){for(r=X(t.width,3),o=(t.opacity||.15)/r,s=this.parentInverted?"(-1,-1)":"("+X(t.offsetX,1)+", "+X(t.offsetY,1)+")",i=1;i<=r;i++)Kt(n=d.cloneNode(0),{isShadow:"true",stroke:t.color||"black","stroke-opacity":o*i,"stroke-width":a=2*r+1-2*i,transform:"translate"+s,fill:Dt}),c&&(Kt(n,"height",z(Kt(n,"height")-a,0)),n.cutHeight=a),e?e.element.appendChild(n):d.parentNode.insertBefore(n,d),l.push(n);this.shadows=l}return this}};function ve(){this.init.apply(this,arguments)}var be;function we(t,e,i){var n=this;n.axis=t,n.pos=e,n.type=i||"",n.isNew=!0,i||n._label()}function Te(t,e){return this.axis=t,e&&(this.options=e,this.id=e.id),this}function ke(t,e,i,n,a,r){var o=this,s=N[t.chart.guid].isInverted;o.axis=t,o.isNegative=i,o.options=e,o.x=n,o.stackIndex=a,o.percent="percent"===r,o.alignOptions={align:e.align||(s?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(s?"middle":i?"bottom":"top"),y:X(e.y,s?4:i?14:-6),x:X(e.x,s?i?-6:6:0)},o.textAlignINTERNAL=e.textAlignINTERNAL||(s?i?"right":"left":"center")}ve.prototype={Element:ye,init:function(t,e,i,n){var a,r=this,o=location,s=r.createElement("svg").attr({xmlns:lt,version:"1.1"});t.appendChild(s.element),r.isSVG=!0,r.box=s.element,r.boxWrapper=s,r.alignedObjects=[],r.url=(st||ot)&&Y.getElementsByTagName("base").length?o.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",r.defs=this.createElement("defs").add(),r.forExport=n,r.gradients={},r.setSize(e,i,!1),st&&t.getBoundingClientRect&&(r.subPixelFix=s=function(){$t(t,{left:0,top:0}),a=t.getBoundingClientRect(),$t(t,{left:F(a.left)-a.left+Mt,top:F(a.top)-a.top+Mt})},s(),de(k,tt,s))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t,e;if(!this._destroyed)return t=this,e=t.defs,t.box=null,t.boxWrapper=t.boxWrapper.destroy(),re(t.gradients||{}),t.gradients=null,e&&(t.defs=e.destroy()),t.subPixelFix&&ce(k,tt,t.subPixelFix),t.alignedObjects=null,t._destroyed=!0,null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},buildText:function(p){var u,g=p.element,t=X(p.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),e=g.childNodes,f=/style="([^"]+)"/,m=/href="([^"]+)"/,v=/id="([^"]+)"/,b=Kt(g,"x"),i=p.styles,x=i&&i.width&&mt(i.width),w=i&&i.lineHeight,T="getComputedStyle",n=e.length,y=[];for(;n--;)g.removeChild(e[n]);x&&!p.added&&this.box.appendChild(g),""===t[t.length-1]&&t.pop(),O(t,function(t,l){var d,c,h=0;t=t.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),d=t.split("|||"),O(d,function(t){if(""!==t||1===d.length){var e,i={},n=Y.createElementNS(lt,"tspan");if(f.test(t)&&Kt(n,"style",e=t.match(f)[1].replace(/(;| |^)color([ :])/,"$1fill$2")),m.test(t)&&(Kt(n,"onclick",'location.href="'+t.match(m)[1]+'"'),$t(n,{cursor:Nt})),v.test(t)&&Kt(n,"id",t.match(v)[1]),t=(t.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"),n.appendChild(Y.createTextNode(t)),h?i.dx=3:i.x=b,h||(l&&(!dt&&p.renderer.forExport&&$t(n,{display:"block"}),Kt(n,"dy",c=(c=k[T]&&mt(k[T](u,null).getPropertyValue("line-height")))&&!isNaN(c)?c:w||u.offsetHeight||(y[s=l]=g.getBBox?g.getBBox().height:p.renderer.fontMetrics(g.style.fontSize).h,L(y[s]-(y[s-1]||0)))||18)),u=n),Kt(n,i),g.appendChild(n),h++,x)for(var a,r=t.replace(/([^\^])-/g,"$1- ").split(" "),o=[];r.length||o.length;)delete p.bBox,a=p.getBBox().width,x<a&&1!==r.length?(n.removeChild(n.firstChild),o.unshift(r.pop())):(r=o,o=[],r.length&&(Kt(n=Y.createElementNS(lt,"tspan"),{dy:w||16,x:b}),e&&Kt(n,"style",e),g.appendChild(n),x<a&&(x=a))),r.length&&n.appendChild(Y.createTextNode(r.join(" ").replace(/- /g,"-")))}var s})})},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=L(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=L(t[2])+e%2/2),t},path:function(t){var e={fill:Dt};return vt(t)?e.d=t:yt(t)&&C(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){t=yt(t)?t:{x:t,y:e,r:i};return this.createElement("circle").attr(t)},arc:function(t,e,i,n,a,r){return yt(t)&&(e=t.y,i=t.r,n=t.innerR,a=t.start,r=t.end,t=t.x),this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:n||0,start:a||0,end:r||0})},rect:function(t,e,i,n,a,r){a=yt(t)?t.r:a;a=this.createElement("rect").attr({rx:a,ry:a,fill:Dt});return a.attr(yt(t)?t:a.crisp(r,t,e,z(i,0),z(n,0)))},setSize:function(t,e,i){var n=this.alignedObjects,a=n.length;for(this.width=t,this.height=e,this.boxWrapper[X(i,!0)?"animate":"attr"]({width:t,height:e});a--;)n[a].align()},g:function(t){var e=this.createElement("g");return _(t)?e.attr({class:St+t}):e},image:function(t,e,i,n,a){var r={preserveAspectRatio:Dt};return 1<arguments.length&&C(r,{x:e,y:i,width:n,height:a}),(r=this.createElement("image").attr(r)).element.setAttributeNS?r.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):r.element.setAttribute("sui-svg-href",t),r},symbol:function(t,e,i,n,a,r){var o,s,l,d=this.symbols[t],d=d&&d(L(e),L(i),n,a,r),c=/^url\((.*?)\)$/;return d?(o=this.path(d),C(o,{symbolName:t,x:e,y:i,width:n,height:a}),r&&C(o,r)):c.test(t)&&(l=function(t,e){t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(-L(e[0]/2),-L(e[1]/2))},s=t.match(c)[1],d=ut[s],o=this.image(s).attr({x:e,y:i}),d?l(o,d):(o.attr({width:0,height:0}),qt("img",{onload:function(){l(o,ut[s]=[this.width,this.height])},src:s}))),o},symbols:{circle:function(t,e,i,n){var a=.166*i;return[Rt,t+i/2,e,"C",t+i+a,e,t+i+a,e+n,t+i/2,e+n,"C",t-a,e+n,t-a,e,t+i/2,e,"Z"]},x:function(t,e,i,n){return[Rt,t,e,_t,t+i,e+n,Rt,t+i,e,_t,t,e+n]},v:function(t,e,i,n){return[Rt,t+1,e+1,_t,t+i/2,e+n-1,_t,t+i-1,e+1]},check:function(t,e,i,n){return[Rt,t+2,e+n/2-1,_t,t+i/2,e+n-1,_t,t+i-1,e+1]},square:function(t,e,i,n){return[Rt,t,e,_t,t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return[Rt,t+i/2,e,_t,t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return[Rt,t,e,_t,t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return[Rt,t+i/2,e,_t,t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,a){var r=a.start,i=a.r||i||n,n=a.end-1e-6,o=a.innerR,s=a.open,l=U(r),d=j(r),c=U(n),n=j(n),a=a.end-r<Z?0:1;return[Rt,t+i*l,e+i*d,"A",i,i,0,a,1,t+i*c,e+i*n,s?Rt:_t,t+o*c,e+o*n,"A",o,o,0,a,0,t+o*l,e+o*d,s?"":"Z"]}},clipRect:function(t,e,i,n){var a=m.strid(),r=this.createElement("clipPath").attr({id:a}).add(this.defs),t=this.rect(t,e,i,n,0).add(r);return t.id=a,t.clipPath=r,t},color:function(t,e,c){var i,n,a,r,o,s,h,l,d=this,p=/^rgba/;return t&&t.linearGradient?n="linearGradient":t&&t.radialGradient&&(n="radialGradient"),n?(a=t[n],r=d.gradients,l=e.radialReference,a.id&&r[a.id]||(vt(a)&&(t[n]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===n&&l&&!_(a.gradientUnits)&&C(a,{cx:l[0]-l[2]/2+a.cx*l[2],cy:l[1]-l[2]/2+a.cy*l[2],r:a.r*l[2],gradientUnits:"userSpaceOnUse"}),a.id=m.strid(),r[a.id]=o=d.createElement(n).attr(a).add(d.defs),o.stops=[],O(t.stops,function(t){h=p.test(t[1])?(i=new xe(t[1]),s=i.get("rgb"),i.get("a")):(s=t[1],1),t=d.createElement("stop").attr({offset:t[0],"stop-color":s,"stop-opacity":h}).add(o),o.stops.push(t)})),"url("+d.url+"#"+a.id+")"):p.test(t)?(Kt(e,c+"-opacity",(i=new xe(t)).get("a")),i.get("rgb")):(e.removeAttribute(c+"-opacity"),t)},text:function(t,e,i,n){var a=ue.style,r=ht||!dt&&this.forExport;return n&&!this.forExport?this.html(t,e,i):(e=L(X(e,0)),i=L(X(i,0)),n=this.createElement("text").attr({x:e,y:i,text:t}).css({fontFamily:a.fontFamily,fontSize:a.fontSize}),r&&n.css({position:It}),n.x=e,n.y=i,n)},html:function(t,e,i){var n=ue.style,r=this.createElement("span"),a=r.attrSetters,o=r.element,s=r.renderer;return a.text=function(t){return t!==o.innerHTML&&delete this.bBox,o.innerHTML=t,!1},a.x=a.y=a.align=function(t,e){return r[e="align"===e?"textAlignINTERNAL":e]=t,r.htmlUpdateTransform(),!1},r.attr({text:t,x:L(e),y:L(i)}).css({position:It,whiteSpace:"nowrap",fontFamily:n.fontFamily,fontSize:n.fontSize}),r.css=r.htmlCss,s.isSVG&&(r.add=function(t){var e,i,n=s.box.parentNode,a=[];if(t){if(!(e=t.div)){for(i=t;i;)a.push(i),i=i.parentGroup;O(a.reverse(),function(t){var i;e=t.div=t.div||qt(At,{className:Kt(t.element,"class")},{position:It,left:(t.translateX||0)+Mt,top:(t.translateY||0)+Mt},e||n),i=e.style,C(t.attrSetters,{translateX:function(t){i.left=t+Mt},translateY:function(t){i.top=t+Mt},visibility:function(t,e){i[e]=t}})})}}else e=n;return e.appendChild(o),r.added=!0,r.alignOnAdd&&r.htmlUpdateTransform(),r}),r},fontMetrics:function(t){t=(t=mt(t||11))<24?t+4:L(1.2*t);return{h:t,b:L(.8*t)}},label:function(e,h,p,u,g,f,m,x,t){var i,n,a,y,v,b,w,r=this,o=r.g(t),s=r.text("",0,0,m).attr({zIndex:1}),l=0,d=3,T=0,c={},t=o.attrSetters;function k(){var t=o.styles,t=t&&t.textAlignINTERNAL,e=d*(1-l),i=x?0:w;!_(a)||"center"!==t&&"right"!==t||(e+={center:.5,right:1}[t]*(a-n.width)),e===s.x&&i===s.y||s.attr({x:e,y:i}),s.x=e,s.y=i}function S(t,e){i?i.attr(t,e):c[t]=e}function A(){s.add(o),o.attr({text:e,x:h,y:p}),_(g)&&o.attr({anchorX:g,anchorY:f})}de(o,"add",A),t.width=function(t){return a=t,!1},t.height=function(t){return y=t,!1},t.padding=function(t){return _(t)&&t!==d&&(d=t,k()),!1},t.align=function(t){return l={left:0,center:.5,right:1}[t],!1},t.text=function(t,e){return s.attr(e,t),e=s.element.style,n=(void 0===a||void 0===y||o.styles.textAlignINTERNAL)&&s.getBBox(),o.width=(a||n.width||0)+2*d,o.height=(y||n.height||0)+2*d,w=d+r.fontMetrics(e&&e.fontSize).b,i||(e=x?-w:0,o.box=i=u?r.symbol(u,-l*d,e,o.width,o.height):r.rect(-l*d,e,o.width,o.height,0,c[Gt]),i.add(o)),i.attr(R({width:o.width,height:o.height},c)),c=null,k(),!1},t[Gt]=function(t,e){return T=t%2/2,S(e,t),!1},t.stroke=t.fill=t.r=function(t,e){return S(e,t),!1},t.anchorX=function(t,e){return S(e,(g=t)+T-v),!1},t.anchorY=function(t,e){return S(e,(f=t)-b),!1},t.x=function(t){return o.x=t,t-=l*((a||n.width)+d),v=L(t),o.attr("translateX",v),!1},t.y=function(t){return b=o.y=L(t),o.attr("translateY",t),!1};var P=o.css;return C(o,{css:function(e){var i;return e&&(i={},e=R({},e),O(["fontSize","fontWeight","fontFamily","color","lineHeight","width"],function(t){e[t]!==M&&(i[t]=e[t],delete e[t])}),s.css(i)),P.call(o,e)},getBBox:function(){return i.getBBox()},shadow:function(t){return i.shadow(t),o},destroy:function(){o._destroyed||(ce(o,"add",A),ce(o.element,"mouseenter"),ce(o.element,Q),s=s&&s.destroy(),i=i&&i.destroy(),ye.prototype.destroy.call(o))}})}},s=ve,dt||ht||($e={Element:be=Qt(ye,be={init:function(t,e){var i=["<",e,' filled="f" stroked="f"'],n=["position: ",It,";"];"shape"!==e&&e!==At||n.push("left:0;top:0;width:1px;height:1px;"),rt&&n.push("visibility: ",e===At?Lt:Pt),i.push(' style="',n.join(""),'"/>'),e&&(i=e===At||"span"===e||"img"===e?i.join(""):t.prepVML(i),this.element=qt(i)),this.renderer=t,this.attrSetters={}},add:function(t){var e=this,i=e.renderer,n=e.element,a=i.box,r=t&&t.isInverted,t=t?t.element||t:a;return r&&i.invertChild(n,t),t.appendChild(n),e.added=!0,e.alignOnAdd&&!e.deferUpdateTransform&&e.updateTransform(),he(e,"add"),e},updateTransform:ye.prototype.htmlUpdateTransform,attr:function(t,c){var e,i,h,p,n,a=this,r=a.element||{},o=r.style,u=r.nodeName,g=a.renderer,f=a.symbolName,s=a.shadows,m=a.attrSetters,x=a;if(xt(t)&&_(c)&&(e=t,(t={})[e]=c),xt(t))x="strokeWidth"===(e=t)||"stroke-width"===e?a.strokeweight:a[e];else for(e in t)if(t.hasOwnProperty(e)&&(i=t[e],(n=!1)!==(h=m[e]&&m[e].call(a,i,e))&&null!==i)){if(h!==M&&(i=h),f&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(e))p||(a.symbolAttr(t),p=!0),n=!0;else if("d"===e){a.d=(i=i||[]).join(" ");for(var l=i.length,d=[];l--;)bt(i[l])?d[l]=L(10*i[l])-5:"Z"===i[l]?d[l]="x":d[l]=i[l];if(i=d.join(" ")||"x",r.path=i,s)for(l=s.length;l--;)s[l].path=s[l].cutOff?this.cutOffPath(i,s[l].cutOff):i;n=!0}else if("visibility"===e){if(s)for(l=s.length;l--;)s[l].style[e]=i;"DIV"===u&&(i=i===Lt?"-999em":0,e="top"),o[e]=i,n=!0}else"zIndex"===e?(i&&(o[e]=i),n=!0):"width"===e||"height"===e?(i=z(0,i),this[e]=i,a.updateClipping?(a[e]=i,a.updateClipping()):o[e]=i,n=!0):"x"===e||"y"===e?(a[e]=i,o[{x:"left",y:"top"}[e]]=i):"class"===e?r.className=i:"stroke"===e?(i=g.color(i,r,e),e="strokecolor"):"stroke-width"===e||"strokeWidth"===e?(r.stroked=!!i,a[e="strokeweight"]=i,bt(i)&&(i+=Mt)):"dashstyle"===e?((r.getElementsByTagName("stroke")[0]||qt(g.prepVML(["<stroke/>"]),null,null,r))[e]=i||"solid",a.dashstyle=i,n=!0):"fill"===e?"SPAN"===u?o.color=i:(r.filled=i!==Dt,i=g.color(i,r,e,a),e="fillcolor"):"shape"===u&&"textAngle"===e?(a[e]=i,r.style.left=-L(j(i*K)+1)+Mt,r.style.top=L(U(i*K))+Mt):"translateX"===e||"translateY"===e||"textAngle"===e?(a[e]=i,a.updateTransform(),n=!0):"text"===e&&(this.bBox=null,r.innerHTML=i,n=!0);n||(rt?r[e]=i:Kt(r,e,i))}return x},clip:function(t){var e,i=this,t=(i.element.parentNode,t?((e=t.members).push(i),i.destroyClip=function(){Zt(e,i)},t.getCSS(i)):(i.destroyClip&&i.destroyClip(),{clip:rt?"inherit":"rect(auto)"}));return i.css(t)},css:ye.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&oe(t)},destroy:function(){if(!this._destroyed)return this.destroyClip&&this.destroyClip(),ye.prototype.destroy.apply(this)},empty:function(){for(var t,e=this.element.childNodes,i=e.length;i--;)(t=e[i]).parentNode.removeChild(t)},on:function(t,e){return this.element["on"+t]=function(){var t=k.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var i;return 9!==(i=(t=t.split(/[ ,]/)).length)&&11!==i||(t[i-4]=t[i-2]=mt(t[i-2])-10*e),t.join(" ")},shadow:function(t,e,c){var i,n,a,r,o,h,s=this,p=[],l=s.element,u=s.renderer,g=l.style,d=l.path,f=d=d&&"string"!=typeof d.value?"x":d;if(t){for(o=X(t.width,3),h=(t.opacity||.15)/o,i=1;i<=3;i++)a=['<shape isShadow="true" strokeweight="',r=2*o+1-2*i,'" filled="false" path="',f=c?s.cutOffPath(d.value,.5+r):f,'" coordsize="10 10" style="',l.style.cssText,'" />'],n=qt(u.prepVML(a),null,{left:mt(g.left)+X(t.offsetX,1),top:mt(g.top)+X(t.offsetY,1)}),c&&(n.cutOff=1+r),a=['<stroke color="',t.color||"black",'" opacity="',h*i,'"/>'],qt(u.prepVML(a),null,null,n),e?e.element.appendChild(n):l.parentNode.insertBefore(n,l),p.push(n);s.shadows=p}return s}}),isIE8:-1<a.indexOf("MSIE 8.0"),init:function(t,e,i){var n,a,r=this;r.alignedObjects=[],(a=(n=r.createElement(At)).element).style.position=Ct,t.appendChild(n.element),r.box=a,r.boxWrapper=n,r.setSize(e,i,!1),Y.namespaces.scv||(Y.namespaces.add("scv","urn:schemas-microsoft-com:vml"),Y.createStyleSheet().cssText="scv\\:fill, scv\\:path, scv\\:shape, scv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,i,n){var a=this.createElement(),r=yt(t);return C(a,{members:[],left:r?t.x:t,top:r?t.y:e,width:r?t.width:i,height:r?t.height:n,getCSS:function(t){var e=t.isInverted,i=this.top,n=this.left,a=n+this.width,r=i+this.height,i={clip:"rect("+L(e?n:i)+"px,"+L(e?r:a)+"px,"+L(e?a:r)+"px,"+L(e?i:n)+"px)"};return!e&&rt&&"IMG"!==t.element.nodeName&&C(i,{width:a+Mt,height:r+Mt}),i},updateClipping:function(){O(a.members,function(t){t.css(a.getCSS(t))})}})},color:function(t,e,c,h){var i,p,n,a,u,r,g,f,m,x,y,v,b,w,T,k,S,o,s,A,l,d,P=this,L=/^rgba/,C=Dt;return t&&t.linearGradient?n="gradient":t&&t.radialGradient&&(n="pattern"),n?(r=t.linearGradient||t.radialGradient,y="",d=t.stops,v=function(){p=['<fill colors="'+ue.seriesPalette.join(",")+'" opacity="',f,'" o:opacity2="',g,'" type="',n,'" ',y,'focus="100%" method="any" />'],qt(P.prepVML(p),null,null,e)},A=d[0],l=d[d.length-1],0<A[0]&&d.unshift([0,A[1]]),l[0]<1&&d.push([1,l[1]]),O(d,function(t,e){u=L.test(t[1])?(i=new xe(t[1]),a=i.get("rgb"),i.get("a")):(a=t[1],1),ue.seriesPalette.push(100*t[0]+"% "+a),e?(f=u,m=a):(g=u,x=a)}),"fill"===c?"gradient"===n?(A=r.x1||r[0]||0,l=r.y1||r[1]||0,d=r.x2||r[2]||0,b=r.y2||r[3]||0,y='angle="'+(90-180*H.atan((b-l)/(d-A))/Z)+'"',v()):(b=r.r,T=w=2*b,k=r.cx,S=r.cy,o=e.radialReference,l=function(){o&&(s=h.getBBox(),k+=(o[0]-s.x)/s.width-.5,S+=(o[1]-s.y)/s.height-.5,w*=o[2]/s.width,T*=o[2]/s.height),y='size="'+w+","+T+'" origin="0.5,0.5" position="'+k+","+S+'" color2="'+x+'" ',v()},h.added?l():de(h,"add",l),C=m):C=a):C=L.test(t)&&"IMG"!==e.tagName?(i=new xe(t),p=["<",c,' opacity="',i.get("a"),'"/>'],qt(this.prepVML(p),null,null,e),i.get("rgb")):((d=e.getElementsByTagName(c)).length&&(d[0].opacity=1),t),C},prepVML:function(t){var e="display:inline-block;behavior:url(#default#VML);",i=this.isIE8;return t=t.join(""),t=i?-1===(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />')).indexOf('style="')?t.replace("/>",' style="'+e+'" />'):t.replace('style="','style="'+e):t.replace("<","<scv:")},text:ve.prototype.html,path:function(t){var e={coordsize:"10 10"};return vt(t)?e.d=t:yt(t)&&C(e,t),this.createElement("shape").attr(e)},circle:function(t,e,i){return this.symbol("circle").attr({x:t-i,y:e-i,width:2*i,height:2*i})},g:function(t){var e;return t&&(e={className:St+t,class:St+t}),this.createElement(At).attr(e)},image:function(t,e,i,n,a){var r=this.createElement("img").attr({src:t});return 1<arguments.length&&r.attr({x:e,y:i,width:n,height:a}),r},rect:function(t,e,i,n,a,r){yt(t)&&(e=t.y,i=t.width,n=t.height,r=t.strokeWidth,t=t.x);var o=this.symbol("rect");return o.r=a,o.attr(o.crisp(r,t,e,z(i,0),z(n,0)))},invertChild:function(t,e){e=e.style;$t(t,{flip:"x",left:mt(e.width)-1,top:mt(e.height)-1,rotation:-90})},symbols:{arc:function(t,e,i,n,a){var r=a.start,o=a.end,i=a.r||i||n,n=U(r),c=j(r),s=U(o),h=j(o),l=a.innerR,d=.08/i,p=l&&.1/l||0;return o-r==0?["x"]:(2*Z-o+r<d?s=-d:o-r<p&&(s=U(r+p)),d=["wa",t-i,e-i,t+i,e+i,t+i*n,e+i*c,t+i*s,e+i*h],a.open&&!l&&d.push("e",Rt,t,e),d.push("at",t-l,e-l,t+l,e+l,t+l*s,e+l*h,t+l*n,e+l*c,"x","e"),d)},circle:function(t,e,i,n){return["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,a){var r,o=t+i,s=e+n,o=_(a)&&a.r?(r=G(a.r,i,n),[Rt,t+r,e,_t,o-r,e,"wa",o-2*r,e,o,e+2*r,o-r,e,o,e+r,_t,o,s-r,"wa",o-2*r,s-2*r,o,s,o,s-r,o-r,s,_t,t+r,s,"wa",t,s-2*r,t+2*r,s,t+r,s,t,s-r,_t,t,e+r,"wa",t,e,t+2*r,e+2*r,t,e+r,t+r,e,"x","e"]):ve.prototype.symbols.square.apply(0,arguments);return o}}},(qe=function(){this.init.apply(this,arguments)}).prototype=R(ve.prototype,$e),s=qe),ht&&((Qe=function(){lt="http://www.w3.org/1999/xhtml"}).prototype.symbols={},Qe.prototype=Qt(ve.prototype,{create:function(t,e,i,n){this.setContainer(e,i,n),this.configure(t)},setContainer:function(t,e,i){var n=t.style,a=t.parentNode,r=n.left,n=n.top,o=t.offsetWidth,s=t.offsetHeight,l={visibility:Lt,position:It},i=(this.init.apply(this,[t,e,i]),e=qt("canvas",{width:o,height:s},{position:Ct,left:r,top:n},t),this.canvas=e,this.ttLine=qt(At,null,l,a),this.ttDiv=qt(At,null,l,a),this.ttTimer=M,qt(At,{width:o,height:s},{visibility:Lt,left:r,top:n},a));(this.hiddenSvg=i).appendChild(this.box)},configure:function(t){var a=this,e=t.options.tooltipSettings,r=N[t.guid],i=e.borderWidth,o=a.ttDiv,n=e.style,s=a.ttLine,l=parseInt(n.padding,10),n=R(n,{padding:l+Mt,"background-color":e.backgroundColor,"border-style":"solid","border-width":i+Mt,"border-drawRadius":e.borderRadius+Mt});e.shadow&&(n=R(n,{"box-shadow":"1px 1px 3px gray","-webkit-box-shadow":"1px 1px 3px gray"})),$t(o,n),$t(s,{"border-left":"1px solid darkgray"}),de(t,"tooltipRefresh",function(t){var e,i=r.container,n=i.offsetLeft,i=i.offsetTop;o.innerHTML=t.text,e=r.tooltipSettings.getPosition(o.offsetWidth,o.offsetHeight,{plotX:t.x,plotY:t.y}),$t(o,{visibility:Pt,left:e.x+Mt,top:e.y+Mt,"border-color":t.borderColor}),$t(s,{visibility:Pt,left:n+t.x+Mt,top:i+r.plotTop+Mt,height:r.plotHeight+Mt}),a.ttTimer!==M&&clearTimeout(a.ttTimer),a.ttTimer=setTimeout(function(){$t(o,{visibility:Lt}),$t(s,{visibility:Lt})},3e3)})},destroy:function(){var t=this;if(!t._destroyed)return oe(t.canvas),t.ttTimer!==M&&clearTimeout(t.ttTimer),oe(t.ttLine),oe(t.ttDiv),oe(t.hiddenSvg),ve.prototype.destroy.apply(t)},color:function(t,e,i){return t&&t.linearGradient&&(t=t.stops[t.stops.length-1][1]),ve.prototype.color.call(this,t,e,i)},draw:function(){k.canvg(this.canvas,this.hiddenSvg.innerHTML)}})),s=qe||Qe||ve,we.prototype={_label:function(){var c,t=this,e=t.axis,i=e.options,n=e.chart,a=N[n.guid],h=e.horiz,r=e.categoricalValues,o=t.pos,s=i.axisTickText,l=e.tickPositions,h=r&&h&&r.length&&!s.step&&!s.staggerLinesINTERNAL&&!s.textAngle&&a.plotWidth/l.length||!h&&a.plotWidth/2,p=o===l[0],u=o===l[l.length-1],d=r&&_(r[o])?r[o]:o,g=t.label,l=l.info;r&&!_(r[o])&&d==o&&a.enablePolarLayout||(e.isDatetimeAxis&&l&&(c=i.axisDateFormat[l.higherRanks[o]||l.unitName]),t.isFirst=p,t.isLast=u,r=s.format?xt(s.format)?m.format(s.format,{text:e.isDatetimeAxis?new Date(d):d,axis:e,chart:n}):s.format.call(null,d,e,n):function(){var t,e,i=this.axis,n=this.value,a=i.categoricalValues,r=this.dateTimeLabelFormat,o=null,s=i.isLog?n:i.ticksRepeat;if(a)e=n;else if(r)e=m.format("{0:"+r+"}",new Date(n));else if(o&&1e3<=s)for(;o--&&e===M;)(t=H.pow(1e3,o+1))<=s&&null!==null[o]&&(e=m.format("{0:n}",n/t)+null[o]);e===M&&(e=1e3<=n?m.format("{0:d}",n):m.format(wt(n)?"{0:n}":"{0:d}",n));return e}.call({axis:e,chart:n,isFirst:p,isLast:u,dateTimeLabelFormat:c,value:e.isLog?se(jt(d)):d}),i=h&&{width:z(1,L(h-2*(s.padding||10)))+Mt},i=C(i,s.style),s&&"x"==e.xOrY&&!e.inverseOrder&&("left"==s.align?s.align="right":"right"==s.align&&(s.align="left")),_(g)?g&&g.attr({text:r}).css(i):(o={align:s.align},bt(s.textAngle)&&(o.textAngle=s.textAngle),t.label=_(r)&&s.enabled?a.renderer.text(r,0,0,s.htmlOutput).attr(o).css(i).add(e.labelGroup):null))},_labelSize:function(){var t=this.label,e=this.axis;return t?(this.labelBBox=t.getBBox())[e.horiz?"height":"width"]:0},_labelDim:function(){var t=this.labelBBox,e=this.axis.options.axisTickText,t=t.width,e=t*{left:0,center:.5,right:1}[e.align]-e.x;return[-e,t-e]},_overflow:function(c,t){var e,i,n,a,r=!0,o=this.axis,s=this.isFirst,h=this.isLast,l=t.x,p=o.inverseOrder,d=o.tickPositions;return(s||h)&&(e=(i=this._labelDim())[0],i=i[1],a=(n=N[o.chart.guid].plotLeft)+o.len,d=(o=o.ticks[d[c+(s?1:-1)]])&&o.label.xy&&o.label.xy.x+o._labelDim()[s?0:1],s&&!p||h&&p?l+e<n&&(l=n-e,o&&d<l+i&&(r=!1)):a<l+i&&(l=a-i,o&&l+e<d&&(r=!1)),t.x=l),r},_position:function(t,e,i,n){var a=this.axis,r=N[a.chart.guid],o=n&&r.oldChartHeight||r.chartHeight;return{x:t?a.translate(e+i,null,null,n)+a.transB:a.left+a.offset+(a.swapLocation?(n&&r.oldChartWidth||r.chartWidth)-a.right-a.left:0),y:t?o-a.bottom+a.offset-(a.swapLocation?a.height:0):o-a.translate(e+i,null,null,n)-a.transB}},_labelPos:function(t,e,i,n,a,r,o,c){var s=this.axis,l=s.transA,d=s.inverseOrder,s=s.staggerLinesINTERNAL;return t=t+a.x-(r&&n?r*l*(d?-1:1):0),e=e+a.y-(r&&!n?r*l*(d?1:-1):0),_(a.y)||(e+=.9*mt(i.styles.lineHeight)-i.getBBox().height/2),s&&(e+=o/(c||1)%s*16),{x:t,y:e}},_markPath:function(t,e,i,n,a,r){return r.crispLine([Rt,t,e,_t,t+(a?0:-i),e+(a?i:0)],n)},render:function(c,h){var t=this,e=t.axis,i=e.options,p=N[e.chart.guid].renderer,u=e.horiz,n=t.type,a=t.label,r=t.pos,g=i.axisTickText,f=t.gridLine,o=n?n+"Plot":"plot",s=n?n+"Ticks":"ticks",m=i[o+"StripWidth"],l=i[o+"StripColor"],o=i[o+"StripDashStyle"],d=i[s+"Height"],x=i[s+"Width"]||0,y=i[s+"Color"],s=i[s+"Placement"],v=t.mark,b=g.step,w=!0,T=e.tickmarkOffset,k=t._position(u,r,T,h),S=k.x,A=k.y,P=e.staggerLinesINTERNAL;e.isXAxis&&null!=i.axisTickText.y&&e.inverseOrder&&(i.axisTickText.y=null),m&&(r=e._linePath(r+T,m,h),f===M&&(l={stroke:l,"stroke-width":m},o&&(l.dashstyle=o),n||(l.zIndex=1),t.gridLine=f=m?p.path(r).attr(l).add(e.gridGroup):null),!h&&f&&r&&f[t.isNew?"attr":"animate"]({d:r})),x&&d&&("inside"===s&&(d=-d),e.swapLocation&&(d=-d),"through"===s&&t.axis.isXAxis&&(t.axis.inverseOrder?S+=d:A=A-d+1,d+=d),o=t._markPath(S,A,d,x,u,p),v?v.animate({d:o}):t.mark=p.path(o).attr({stroke:y,"stroke-width":x}).add(e.axisGroup)),!a||isNaN(S)||isNaN(A)||(a.xy=k=t._labelPos(S,A,a,u,g,T,c,b),(t.isFirst&&!X(i.firstTickTextVisible,1)||t.isLast&&!X(i.lastTickTextVisible,1)||!P&&u&&g.repositionClippedText&&!t._overflow(c,k))&&(w=!1),(w=b&&c%b?!1:w)?(a[t.isNew?"attr":"animate"](k),a.show(),t.isNew=!1):a.hide())},destroy:function(){this._destroyed||(re(this,this.axis),this._destroyed=!0)}},Te.prototype={render:function(){var c,h,t,i=this,e=i.axis,p=e.horiz,u=(e.pointRange||0)/2,n=i.options,a=n.label,r=i.label,g=n.drawWidth,o=n.start,f=n.end,s=_(o)&&_(f),m=n.seriesDashStyle,l=i.svgElem,d=[],x=n.drawColor,y=n.zIndex,v=n.events,b=N[e.chart.guid].renderer;if(e.isLog&&(o=Ut(o),f=Ut(f)),g)d=e._linePath(o,g),t={stroke:x,"stroke-width":g},m&&(t.dashstyle=m);else{if(!s)return;o=z(o,e.min-u),f=G(f,e.max+u),d=e._bandPath(o,f,n),t={fill:x},n.borderWidth&&(t.stroke=n.borderColor,t["stroke-width"]=n.borderWidth)}if(_(y)&&(t.zIndex=y),l)d?l.animate({d:d},null,l.onGetPath):(l.hide(),l.onGetPath=function(){l.show()});else if(d&&d.length&&(i.svgElem=l=b.path(d).attr(t).add(),v))for(h in c=function(e){l.on(e,function(t){v[e].apply(i,[t])})},v)v.hasOwnProperty(h)&&c(h);return a&&_(a.text)&&d&&d.length&&0<e.width&&0<e.height?(a=R({align:p&&s&&"center",x:p?!s&&4:10,verticalAlign:!p&&s&&"middle",y:p?s?16:10:s?6:-4,textAngle:p&&!s&&90},a),r||(i.label=r=b.text(a.text,0,0).attr({align:a.textAlignINTERNAL||a.align,textAngle:a.textAngle,zIndex:y}).css(a.style).add()),g=[d[1],d[4],X(d[6],d[1])],m=[d[2],d[5],X(d[7],d[2])],u=ne(g),o=ne(m),r.align(a,!1,{x:u,y:o,width:ae(g)-u,height:ae(m)-o}),r.show()):r&&r.hide(),i},destroy:function(){this._destroyed||(Zt(this.axis.plotLinesAndBands,this),re(this,this.axis),this._destroyed=!0)}};var Se={defaults:{axisDateFormat:{MILLISECOND:"HH:mm:ss.fff",SECOND:"HH:mm:ss",MINUTE:"HH:mm",HOUR:"HH",DAY:"d MMM",WEEK:"d MMM",MONTH:"MMM yyyy",YEAR:"yyyy"},fixedEnd:!(ke.prototype={destroy:function(){this._destroyed||(re(this,this.axis),this._destroyed=!0)},_total:function(t){this.total=t,this.cum=t},render:function(t){var e=this,i=e.options.labelFormatFunction.call(e);e.label?e.label.attr({text:i,visibility:Lt}):e.label=N[e.axis.chart.guid].renderer.text(i,0,0).css(e.options.style).attr({align:e.textAlignINTERNAL,textAngle:e.options.textAngle,visibility:Lt}).add(t)},_offset:function(t,e){var i=this,n=i.axis,a=n.chart,r=N[a.guid],o=r.isInverted,s=i.isNegative,l=n.translate(i.percent?100:i.total,0,0,0,1),n=n.translate(0),n=V(l-n),t=r.axisX[0].translate(i.x)+t,r=r.plotHeight,d=i.label;d&&(d.align(i.alignOptions,null,{x:o?s?l:l-n:t,y:o?r-t-e:s?r-l-n:r-l,width:o?n:e,height:o?e:n}),t=d.alignAttr,d.attr({visibility:!1===i.options.hideInvisible||We(a,t.x,t.y)?dt?"inherit":Pt:Lt}))}}),plotStripColor:"#C0C0C0",axisTickText:i,drawColor:"#7E7E7E",drawWidth:1,minPaddingINTERNAL:1e-4,maxPaddingINTERNAL:1e-4,endOffset:.01,zoomMin:null,minorPlotStripColor:"#E0E0E0",minorPlotStripWidth:1,minorTicksColor:"#A0A0A0",minorTicksHeight:12,minorTicksPlacementINTERNAL:"outside",startOfWeekINTERNAL:1,tickOnBeginning:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacementlINTERNAL:"between",tickPixelIntervalINTERNAL:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",margin:12,style:{color:"#404040",fontWeight:"normal",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"}},axisType:"linear"},y:{fixedEnd:!0,plotStripWidth:1,tickPixelIntervalINTERNAL:80,lastTickTextVisible:!0,axisTickText:{align:"right",x:-8,y:3},drawWidth:0,endOffset:.05,startOffset:.05,tickOnBeginning:!0,tickWidth:0,title:{textAngle:270,text:null},stackTextSettings:{enabled:!1,labelFormatFunction:function(){return this.total},style:i.style}},left:{axisTickText:{align:"right",x:-8,y:null},title:{textAngle:270}},right:{axisTickText:{align:"left",x:8,y:null},title:{textAngle:90}},bottom:{axisTickText:{align:"center",x:0,y:14},title:{textAngle:0}},top:{axisTickText:{align:"center",x:0,y:-5},title:{textAngle:0}}};function Ae(t,e,i){for(var n,e=se(B(e/t)*t),a=se(F(i/t)*t),r=[],o=e;o<=a&&(r.push(o),(o=se(o+t))!==n);)n=o;return r}function Pe(t,e,i,n){var a=this,r=a.options,o=a.len,s=[];if(n||(a._minorAutoInterval=null),.5<=t)t=L(t),s=Ae.call(a,t,e,i);else if(.08<=t)for(var l,c,h,d,p,u=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],g=B(e);g<i+1&&!p;g++)for(c=u.length,l=0;l<c&&!p;l++)e<(h=Ut(jt(g)*u[l]))&&s.push(d),i<d&&(p=!0),d=h;else{var f=jt(e),m=jt(i),x=r[n?"minorTicksRepeat":"ticksRepeat"],r=r.tickPixelIntervalINTERNAL/(n?5:1),o=n?o/a.tickPositions.length:o;t=te(t=X("auto"===x?null:x,a._minorAutoInterval,(m-f)*r/(o||1)),null,H.pow(10,B(H.log(t)/H.LN10))),s=fe(Ae.call(a,t,f,m),Ut),n||(a._minorAutoInterval=t/5)}return n||(a.ticksRepeat=t),s}function Le(){var t=this,e=N[t.chart.guid],i=e.maxTicks,n=t.tickPositions,a=t.xOrY,i=i||{x:0,y:0};!t.isLinked&&!t.isDatetimeAxis&&n.length>i[a]&&!1!==t.options.matchTicks&&(i[a]=n.length),e.maxTicks=i}function Ce(t,e,i,n,a){var r=this.chart;i=X(i,!0),a=C(a,{min:t,max:e}),this.userMin=t,this.userMax=e,this.isDirtyExtremes=!0,i&&r.redraw(n)}function Me(){var t=this,e=t.isLog;return{min:e?se(jt(t.min)):t.min,max:e?se(jt(t.max)):t.max,dataMin:t.dataMin,dataMax:t.dataMax,userMin:t.userMin,userMax:t.userMax}}function _e(t){var e=this,i=e.isLog,n=i?jt(e.min):e.min,i=i?jt(e.max):e.max;return t<n||null===t?t=n:i<t&&(t=i),e.translate(t,0,1,0,1)}function Re(){this.init.apply(this,arguments)}function De(t,e){var i,n,a=N[this.chart.guid],r=a.isInverted,o=0,s=0;return(i=(t=kt(t))[0].tooltipPos)||(O(t,function(t){n=t.dataSeries.axisY,o+=t.plotX,s+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!r&&n?n.top-a.plotTop:0)}),o/=t.length,s/=t.length,i=[r?a.plotWidth-s:o,this.chartBound&&!r&&1<t.length&&e?e.chartY-a.plotTop:r?a.plotHeight-o:s]),fe(i,L)}function Ie(e,t){var i=this;i.chart=e,i.options=t,i.axisMarkers=[],i.isHidden=!0,(/msie 7/i.test(a)||/msie 8/i.test(a))&&p("html").addClass("ie7"),i.labelElement=p('<div class="shield-tooltip" style="pointer-events: none"></div>').appendTo(e.element),(at||nt)&&p(i.labelElement).bind($,function(t){N[e.guid].container.onmousemove(t)}),i.chartBound=t.chartBound}function Ne(t,e){var i=this,n=ht?"":e.zoomMode;i.zoomX=/x/.test(n),i.zoomY=/y/.test(n),i.options=e,i.chart=t,i.init(t,e.tooltipSettings)}function Xe(t,e){var i=this.options,n=t.legendItem,a=t.legendLine,r=t.legendSymbol,o=t.checkMark,s=this.disabledStyle.color,l=e?i.legendItemSettings.elementStyle.color:s,s=e?t.color:s,t=(t.options&&t.options.pointMark,{stroke:s,fill:s,"stroke-width":0});n&&n.css({fill:l}),a&&a.attr({stroke:s}),r&&r.attr(t),o&&(e?o.attr({stroke:i.checkMarkSettings.color}).css({visibility:Pt}):o.css({visibility:Lt}))}function Oe(t){t.legendItem&&t.legendItem.destroy(),t.legendLine&&t.legendLine.destroy(),t.legendSymbol&&t.legendSymbol.destroy(),t.legendGroup&&t.legendGroup.destroy()}function Ee(t){this.init(t)}function We(t,e,i,n){var t=N[t.guid],a=n?i:e,n=n?e:i;return 0<=a&&a<=t.plotWidth&&0<=n&&n<=t.plotHeight}Re.prototype={init:function(t,e){var i=e.isX,n=this,a=N[t.guid],r=(n.horiz=a.isInverted?!i:i,n.isXAxis=i,n.xOrY=i?"x":"y",n.swapLocation=e.swapLocation,n.side=n.horiz?n.swapLocation?0:2:n.swapLocation?1:3,n.setOptions(e,t),this.options),o=r.axisType,s="datetime"===o;n.staggerLinesINTERNAL=n.horiz&&r.axisTickText.staggerLinesINTERNAL,n.userOptions=e,n.minPixelPadding=0,n.chart=t,n.inverseOrder=r.inverseOrder,n.categoricalValues=r.categoricalValues,n.isLog="logarithmic"===o,n.isLinked=_(r.linkedToINTERNAL),n.isDatetimeAxis=s,n.tickmarkOffset=r.categoricalValues&&"between"===r.tickmarkPlacementlINTERNAL?.5:0,n.ticks={},n.minorTicks={},n.plotLinesAndBands=[],n.alternateBands={},n.len=0,n.zoomMin=n.customZoomMin=r.zoomMin,n.range=r.range,n.offset=r.offset||0,n.stacks={},n.max=null,n.min=null;var l,d=n.options.events;for(l in a.axes.push(n),a[i?"axisX":"axisY"].push(n),n.dataSeries=[],a.isInverted&&i&&n.inverseOrder===M&&(n.inverseOrder=!0),d)d.hasOwnProperty(l)&&de(n,l,d[l]);n.isLog&&(n.val2lin=Ut,n.lin2val=jt)},setOptions:function(t,e){this.options=R(Se.defaults,this.isXAxis?{}:Se.y,[Se.top,Se.right,Se.bottom,Se.left][this.side],R(ue[this.isXAxis?"axisX":"axisY"],t))},translate:function(t,e,c,i,n,h){var a,r=this,o=r.len,s=1,l=0,d=i?r.oldTransA:r.transA,i=i?r.oldMin:r.min,n=r.options.ordinal||r.isLog&&n,d=d||r.transA;return c&&(s*=-1,l=o),r.inverseOrder&&(l-=(s*=-1)*o),e?(a=(t=r.inverseOrder?o-t:t)/d+i,n&&(a=r.lin2val(a))):a=s*((t=n?r.val2lin(t):t)-i)*d+l+s*r.minPixelPadding+(h?d*r.pointRange/2:0),a},_linePath:function(t,c,e){var i,n,a=this,r=N[a.chart.guid],o=a.left,h=a.top,t=a.translate(t,null,null,e),p=e&&r.oldChartHeight||r.chartHeight,e=e&&r.oldChartWidth||r.chartWidth,s=a.transB,l=i=L(t+s),d=s=L(p-t-s);return isNaN(t)?n=!0:a.horiz?(d=h,s=p-a.bottom,(l<o||l>o+a.width)&&(n=!0)):(l=o,i=e-a.right,(d<h||d>h+a.height)&&(n=!0)),n?null:r.renderer.crispLine([Rt,l,d,_t,i,s],c||0)},_bandPath:function(t,e){e=this._linePath(e),t=this._linePath(t);return t&&e?t.push(e[4],e[5],e[1],e[2]):t=null,t},_arrange:function(){var a,t=this,e=t.max-t.min,r=0,o=0,s=0,i=t.linkedParent,n=t.transA;t.isXAxis&&(i?(o=i.minPointOffset,s=i.pointRangePadding):O(t.dataSeries,function(t){var e=t.pointRange,i=t.options.positioningMethod,n=t.closestPointRange;r=z(r,e),o=z(o,i?0:e/2),s=z(s,"on"===i?0:e),!t.noSharedTooltip&&_(n)&&(a=_(a)?G(a,n):n)}),t.minPointOffset=o,t.pointRangePadding=s,t.pointRange=r,t.closestPointRange=a),t.oldTransA=n,t.translationSlope=t.transA=n=t.len/(e+s||1),t.transB=t.horiz?t.left:t.bottom,t.minPixelPadding=n*o},_ticks:function(t){var e=this,i=N[e.chart.guid],n=e.options,c=e.isLog,h=e.isDatetimeAxis,p=e.isXAxis,a=e.isLinked,u=e.options.tickPositionerlINTERNAL,r=n.endOffset,o=n.startOffset,s=n.ticksRepeat,g=n.minTickInterval,l=n.tickPixelIntervalINTERNAL,d=e.categoricalValues;if(a){if(e.linkedParent=i[p?"axisX":"axisY"][n.linkedToINTERNAL],i=Me.call(e.linkedParent),e.min=X(i.min,i.dataMin),e.max=X(i.max,i.dataMax),n.type!==e.linkedParent.options.axisType)return void ft("Axis and parent axis have different type",1)}else e.min=X(e.userMin,n.min,e.dataMin),e.max=X(e.userMax,n.max,e.dataMax);if(c){if(!t&&G(e.min,X(e.dataMin,e.min))<=0)return void ft("Negative values not supported for this axis type",1);e.min=se(Ut(e.min)),e.max=se(Ut(e.max))}e.range&&(e.userMin=e.min=z(e.min,e.max-e.range),e.userMax=e.max,t&&(e.range=null)),function(){var e,i,n,a,c,h,t,r,o=this,s=o.options,l=o.min,d=o.max,p=o.dataMax-o.dataMin>=o.zoomMin;o.isXAxis&&o.zoomMin===M&&!o.isLog&&(_(s.min)||_(s.max)?o.zoomMin=null:(O(o.dataSeries,function(t){for(a=t.xData,c=t.xIncrement?1:a.length-1,i=c;0<i;i--)n=a[i]-a[i-1],(e===M||n<e)&&(e=n)}),o.zoomMin=G(5*e,o.dataMax-o.dataMin))),d-l<o.zoomMin&&(r=[l-(r=((t=o.zoomMin)-d+l)/2),X(s.min,l-r)],p&&(r[2]=o.dataMin),h=[(l=ae(r))+t,X(s.max,l+t)],p&&(h[2]=o.dataMax),(d=ne(h))-l<t&&(r[0]=d-t,r[1]=X(s.min,d-t),l=ae(r))),o.min=l,o.max=d}.call(e),d||e.usePercentage||a||!_(e.min)||!_(e.max)||(i=e.max-e.min||1,_(n.min)||_(e.userMin)||!o||!(e.dataMin<0)&&e.ignoreMinPadding||(e.min-=i*o),_(n.max)||_(e.userMax)||!r||!(0<e.dataMax)&&e.ignoreMaxPadding||(e.max+=i*r)),e.min===e.max||e.min===M||e.max===M?e.ticksRepeat=1:a&&!s&&l===e.linkedParent.options.tickPixelIntervalINTERNAL?e.ticksRepeat=e.linkedParent.ticksRepeat:e.ticksRepeat=X(s,d?1:(e.max-e.min)*l/(e.len||1)),p&&!t&&O(e.dataSeries,function(t){t.processData(e.min!==e.oldMin||e.max!==e.oldMax)}),e._arrange(t),e._preTicks&&e._preTicks(),!s&&e.ticksRepeat<g&&(e.ticksRepeat=g),h||c||(o=H.pow(10,B(H.log(e.ticksRepeat)/H.LN10)),s||(e.ticksRepeat=te(e.ticksRepeat,null,o,n))),e.minorTicksRepeat="auto"===n.minorTicksRepeat&&e.ticksRepeat?e.ticksRepeat/5:n.minorTicksRepeat,e.tickPositions=i=n.tickPositions||u&&u.apply(e,[e.min,e.max]),i||(i=h?function(t,e,c,h){for(var i,n,a=[],r={},o=ue.allowUTCFormatting,e=new Date(e),s=t.unitRange,l=t.count,d=(s>=x.SECOND&&(e.setMilliseconds(0),e.setSeconds(s>=x[Wt]?0:l*B(e.getSeconds()/l))),s>=x[Wt]&&e[P](s>=x[Yt]?0:l*B(e[v]()/l)),s>=x[Yt]&&e[D](s>=x.DAY?0:l*B(e[b]()/l)),s>=x.DAY&&e[I](s>=x[Ft]?1:l*B(e[T]()/l)),s>=x[Ft]&&(e[E](s>=x[zt]?0:l*B(e[S]()/l)),n=e[A]()),s>=x[zt]&&e[W](n-=n%l),s===x[Bt]&&e[I](e[T]()-e[w]()+X(h,1)),i=1,n=e[A](),e.getTime()),p=e[S](),u=e[T](),g=o?0:(864e5+60*e.getTimezoneOffset()*1e3)%864e5;d<c;)a.push(d),s===x[zt]?d=y(n+i*l,0):s===x[Ft]?d=y(n,p+i*l):o||s!==x.DAY&&s!==x[Bt]?(d+=s*l,s<=x[Yt]&&d%x.DAY==g&&(r[d]=Ht)):d=y(n,p,u+i*l*(s===x.DAY?1:7)),i++;return a.push(d),a.info=C(t,{higherRanks:r,totalRange:s*l}),a}(function(t,e){for(var i=e||[["MILLISECOND",[1,2,5,10,20,25,50,100,200,500]],["SECOND",[1,2,5,10,15,30]],[Wt,[1,2,5,10,15,30]],[Yt,[1,2,3,4,6,8,12]],[Ht,[1,2]],[Bt,[1,2]],[Ft,[1,2,3,4,6]],[zt,null]],n=i[i.length-1],a=x[n[0]],r=n[1],o=0;o<i.length;o++){n=i[o],a=x[n[0]],r=n[1];if(i[o+1])if(t<=(a*r[r.length-1]+x[i[o+1][0]])/2)break}return{unitRange:a,count:te(t/a,r=a===x[zt]&&t<5*a?[1,2,5]:r),unitName:n[0]}}(e.ticksRepeat,n.units),e.min,e.max,n.startOfWeekINTERNAL,(e.ordinalPositions,e.closestPointRange)):(c?Pe:Ae).call(e,e.ticksRepeat,e.min,e.max),e.tickPositions=i),a||(r=i[0],d=i[i.length-1],l=e.minPointOffset||0,n.tickOnBeginning?e.min=r:e.min-l>r&&i.shift(),n.fixedEnd?e.max=d:e.max+l<d&&i.pop())},_updateTicks:function(){var t=this,e=t.xOrY,i=t.tickPositions,n=N[t.chart.guid].maxTicks;if(n&&n[e]&&!t.isDatetimeAxis&&!t.categoricalValues&&!t.isLinked&&!1!==t.options.matchTicks){var a,r=t.tickAmount,o=i.length;if(t.tickAmount=a=n[e],o<a){for(;i.length<a;)i.push(se(i[i.length-1]+t.ticksRepeat));t.transA*=(o-1)/(a-1),t.max=i[i.length-1]}_(r)&&a!==r&&(t.isDirty=!0)}},_scale:function(){var t,e,i,n,a=this,r=a.stacks;if(a.oldMin=a.min,a.oldMax=a.max,a.oldAxisLength=a.len,a._dimensions(),n=a.len!==a.oldAxisLength,O(a.dataSeries,function(t){(t.isDirtyData||t.isDirty||t.axisX.isDirty)&&(i=!0)}),(n||i||a.isLinked||a.userMin!==a.oldUserMin||a.userMax!==a.oldUserMax)&&(function(){var k,S=this,A=S.chart,P=S.stacks,L=[],C=[];S.hasVisibleSeries=!1,S.dataMin=S.dataMax=null,O(S.dataSeries,function(t){if(t.visible||A.options.scaleAxesForHiddenSeries){var c,h,e,p,i,n,u,a,r,g,o=t.options,s=o.baseValue,l=[],f=0;if(S.hasVisibleSeries=!0,S.isLog&&s<=0&&(s=o.baseValue=null),S.isXAxis)(n=t.xData).length&&(S.dataMin=G(X(S.dataMin,n[0]),ne(n)),S.dataMax=z(X(S.dataMax,n[0]),ae(n)));else{var m,x,d,y,v=t.cropped,b=Me.call(t.axisX),w=!!t.modifyValue,T=o.stackMode;for(S.usePercentage="percent"===T,T&&(p=o.stackIndex,i="-"+(e=t.seriesType+X(p,"")),t.stackKey=e,c=L[e]||[],L[e]=c,h=C[i]||[],C[i]=h),S.usePercentage&&(S.dataMin=0,S.dataMax=99),n=t.processedXData,g=(u=t.processedYData).length,k=0;k<g;k++)if(a=n[k],r=u[k],T&&(d=(m=r<s)?i:e,r=(x=m?h:c)[a]=_(x[a])?se(x[a]+r):r,P[d]||(P[d]={}),P[d][a]||(P[d][a]=new ke(S,S.options.stackTextSettings,m,a,p,T)),P[d][a]._total(r)),null!==r&&r!==M&&(w&&(r=t.modifyValue(r)),v||(n[k+1]||a)>=b.min&&(n[k-1]||a)<=b.max))if(y=r.length)for(;y--;)null!==r[y]&&(l[f++]=r[y]);else l[f++]=r;!S.usePercentage&&l.length&&(S.dataMin=G(X(S.dataMin,l[0]),ne(l)),S.dataMax=z(X(S.dataMax,l[0]),ae(l))),_(s)&&(S.dataMin>=s?(S.dataMin=s,S.ignoreMinPadding=!0):S.dataMax<s&&(S.dataMax=s,S.ignoreMaxPadding=!0))}}})}.call(a),a._ticks(),a.oldUserMin=a.userMin,a.oldUserMax=a.userMax,a.isDirty||(a.isDirty=n||a.min!==a.oldMin||a.max!==a.oldMax)),!a.isXAxis)for(t in r)if(r.hasOwnProperty(t))for(e in r[t])r[t].hasOwnProperty(e)&&(r[t][e].cum=r[t][e].total);Le.call(a)},_zoom:function(t,e){return Ce.call(this,t,e,!1,M,{trigger:"zoom"}),!0},_dimensions:function(){var t=this,e=N[t.chart.guid],i=t.options,n=i.offsetLeft||0,a=i.offsetRight||0;t.left=X(i.left,e.plotLeft+n),t.top=X(i.top,e.plotTop),t.width=X(i.width,e.plotWidth-n+a),t.height=X(i.height,e.plotHeight),t.bottom=e.chartHeight-t.height-t.top,t.right=e.chartWidth-t.width-t.left,t.len=z(t.horiz?t.width:t.height,0)},_offset:function(){var t,c,h,e,i=this,n=N[i.chart.guid],a=n.renderer,r=i.options,p=i.tickPositions,o=i.ticks,u=i.horiz,s=i.side,g=0,f=0,l=r.title,m=r.axisTickText,d=0,n=n.axisOffset,x=[-1,1,1,-1][s];if(i.hasData=t=i.hasVisibleSeries||_(i.min)&&_(i.max)&&!!p,i.showAxis=c=t||X(r.showEmpty,!0),i.axisGroup||(i.gridGroup=a.g().attr({zIndex:r.gridZIndex||1}).add(),i.axisGroup=a.g().attr({zIndex:r.zIndex||2}).add(),i.labelGroup=a.g().attr({zIndex:m.zIndex||7}).add()),t||i.isLinked)O(p,function(t){o[t]?o[t]._label():o[t]=new we(i,t)}),O(p,function(t){0!==s&&2!==s&&{1:"left",3:"right"}[s]!==m.align||(d=z(o[t]._labelSize(),d))}),i.staggerLinesINTERNAL&&(d+=16*(i.staggerLinesINTERNAL-1));else for(e in o)o.hasOwnProperty(e)&&(o[e].destroy(),delete o[e]);l&&l.text&&(i.axisTitle||(i.axisTitle=a.text(l.text,0,0,l.htmlOutput).attr({zIndex:7,textAngle:l.textAngle||0,align:l.textAlignINTERNAL||{low:"left",middle:"center",high:"right"}[l.align]}).css(l.style).add(i.axisGroup),i.axisTitle.isNew=!0),c&&(g=i.axisTitle.getBBox()[u?"height":"width"],f=X(l.margin,u?5:10),h=l.offset),i.axisTitle[c?"show":"hide"]()),i.offset=x*X(r.offset,n[s]),i.axisTitleMargin=X(h,d+f+(2!==s&&d&&x*r.axisTickText[u?"y":"x"])),n[s]=z(n[s],i.axisTitleMargin+g+x*i.offset)},_path:function(t){var e=this,i=N[e.chart.guid],n=e.swapLocation,a=e.offset,r=e.horiz,o=e.left+(n?e.width:0)+a,n=i.chartHeight-e.bottom-(n?e.height:0)+a;return this.lineTop=n,i.renderer.crispLine([Rt,r?e.left:o,r?n:e.top,_t,r?i.chartWidth-e.right:o,r?n:i.chartHeight-e.bottom],t)},_titlePos:function(){var t=this.horiz,e=this.left,i=this.top,n=this.len,a=this.options.title,r=t?e:i,o=this.swapLocation,s=this.offset,l=mt(a.style.fontSize||12),r={low:r+(t?0:n),middle:r+n/2,high:r+(t?n:0)}[a.align],n=(t?i+this.height:e)+(t?1:-1)*(o?-1:1)*this.axisTitleMargin+(2===this.side?l:0);return{x:t?r:n+(o?this.width:0)+s+(a.x||0),y:t?n-(o?this.height:0)+s:r+(a.y||0)}},render:function(){var c,h,i=this,t=i.chart,t=N[t.guid],p=t.renderer,e=i.options,u=i.isLog,g=i.isLinked,n=i.tickPositions,a=i.axisTitle,f=i.stacks,r=i.ticks,o=i.minorTicks,s=i.alternateBands,m=e.stackTextSettings,x=e.colorStripe,y=i.tickmarkOffset,v=e.drawWidth,b=t.hasRendered&&_(i.oldMin)&&!isNaN(i.oldMin),l=i.hasData,w=i.showAxis;if((l||g)&&(i.minorTicksRepeat&&!i.categoricalValues&&O(function(){var t,e,i,n=this,a=n.tickPositions,r=n.minorTicksRepeat,o=[];if(n.isLog)for(i=a.length,e=1;e<i;e++)o=o.concat(Pe.call(n,r,a[e-1],a[e],!0));else for(t=n.min+(a[0]-n.min)%r;t<=n.max;t+=r)o.push(t);return o}.call(i),function(t){o[t]||(o[t]=new we(i,t,"minor")),b&&o[t].isNew&&o[t].render(null,!0),o[t].isActive=!0,o[t].render()}),O(n.slice(1).concat([n[0]]),function(t,e){e=e===n.length-1?0:e+1,(!g||t>=i.min&&t<=i.max)&&(r[t]||(r[t]=new we(i,t)),b&&r[t].isNew&&r[t].render(e,!0),r[t].isActive=!0,r[t].render(e))}),x&&O(n,function(t,e){e%2==0&&t<i.max&&(s[t]||(s[t]=new Te(i)),c=t+y,h=n[e+1]!==M?n[e+1]+y:i.max,s[t].options={from:u?jt(c):c,to:u?jt(h):h,color:x},s[t].render(),s[t].isActive=!0)}),i._addedPlotLB||(O((e.plotLines||[]).concat(e.plotBands||[]),function(t){!function(t){return t=new Te(this,t).render(),this.plotLinesAndBands.push(t),t}.call(i,t)}),i._addedPlotLB=!0)),O([r,o,s],function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e].isActive?t[e].isActive=!1:(t[e].destroy(),delete t[e]))}),v&&(l=i._path(v),i.axisLine?i.axisLine.animate({d:l}):i.axisLine=p.path(l).attr({stroke:e.drawColor,"stroke-width":v,zIndex:7}).add(i.axisGroup),i.axisLine[w?"show":"hide"]()),a&&w&&(a[a.isNew?"attr":"animate"](i._titlePos()),a.isNew=!1),m&&m.enabled){var T,k,S,d=i.stackTotalGroup;for(T in d||(i.stackTotalGroup=d=p.g().attr({visibility:Pt,zIndex:6}).add()),d.translate(t.plotLeft,t.plotTop),f)if(f.hasOwnProperty(T))for(S in k=f[T])k.hasOwnProperty(S)&&k[S].render(d)}i.isDirty=!1},_title:function(t,e){var i=this,n=i.chart,a=i.options,r=i.axisTitle;a.title=R(a.title,t),i.axisTitle=r&&r.destroy(),X(e,i.isDirty=!0)&&n.redraw()},redraw:function(){var t=N[this.chart.guid].tracker;t._reset&&t._reset(!0),this.render(),O(this.plotLinesAndBands,function(t){t.render()}),O(this.dataSeries,function(t){t.isDirty=!0})},_points:function(t,e){var i=this;i.categoricalValues=i.userOptions.categoricalValues=t,O(i.dataSeries,function(t){t.translate(),t.setTooltipPoints(!0)}),X(e,i.isDirty=!0)&&i.chart.redraw()},destroy:function(){if(!this._destroyed){var t,e,i,n=this,a=n.stacks;for(t in ce(n),a)a.hasOwnProperty(t)&&(re(a[t]),a[t]=null);for(e in O([n.ticks,n.minorTicks,n.alternateBands,n.plotLinesAndBands],function(t){re(t)}),n)n.hasOwnProperty(e)&&((i=n[e])instanceof ye||be&&i instanceof be)&&(n[e]=i.destroy());n._destroyed=!0}}},Ie.prototype={destroy:function(){this._destroyed||(O(this.axisMarkers,function(t){t&&t.destroy()}),this._destroyed=!0)},move:function(t,e,i,n){this.labelElement.css({top:e,left:t})},hide:function(){var t,e=N[this.chart.guid];this.isHidden||(t=e.hoverPoints,this.labelElement.hide(),t&&O(t,function(t){t.setState()}),e.hoverPoints=null,this.isHidden=!0)},getPosition:function(t,e,i){var n,e=N[e.guid],a=e.plotLeft,r=e.plotTop,c=e.plotWidth,h=e.plotHeight,o=X(this.options.distance,12),t=De.call(this,t,i),i=t[0],t=t[1],s=this.labelElement.width(),l=this.labelElement.height(),e=i+a+(e.isInverted?o:-s-o),d=t-l+r+15;return a+c<(e=e<7?a+z(i,0)+o:e)+s&&(e-=e+s-(a+c),d=t-l+r-o,n=!0),d<r+5&&(d=r+5,n&&d<=t&&t<=d+l&&(d=t+r+o)),{x:e,y:d=r+h<d+l?z(r,r+h-l-o):d}},refresh:function(t,c){var h,e,i,p,n=this,u=n.chart,g=n.labelElement,a=n.options,r=function(t,e){var i,n,a,r=[],o="",s=(t=kt(t))[0].dataSeries.axisX,l="f";if(s&&"datetime"===s.options.axisType&&bt(t[0].pointName)){for(i in x)if(x.hasOwnProperty(i)&&x[i]>=s.closestPointRange){l=s.options.axisDateFormat[i];break}o=m.format("{0:"+l+"}",new Date(t[0].pointName))}else n=t[0].dataSeries.tooltipSettings&&t[0].dataSeries.tooltipSettings.customHeaderText||this.options.customHeaderText,o=xt(n)?m.format(n,{point:t[0],chart:e}):n.call(null,t,e);return r+='<div class="shield-tooltip-header">'+o+"</div>",a=t[0].dataSeries.tooltipSettings&&t[0].dataSeries.tooltipSettings.customPointText||this.options.customPointText,"rangebar"===t[0].dataSeries.seriesType&&"<span>{point.dataSeries.collectionAlias}</span>: {point.y}"!=this.options.customPointText&&(a=this.options.customPointText),O(t,function(t){t.dataSeries,r+='<div class="shield-tooltip-value">'+(xt(a)?m.format(a,{point:t,chart:e}):a.call(null,t,e))+"</div>"}),r},o=N[u.guid],s=o.hoverPoints,l=a.axisMarkers,d=n.chartBound;a.format&&(r=xt(a.format)?function(t,e){return m.format(a.format,{point:t,chart:e})}:a.format),h=(e=De.call(n,t,c))[0],e=e[1],!d||t.dataSeries&&t.dataSeries.noSharedTooltip?t.dataSeries.color:(o.hoverPoints=t,s&&O(s,function(t){t.setState()}),O(t,function(t){t.setState(Ot)})),s=r.call(n,t,u),r=(t=vt(t)?t[0]:t).dataSeries,d=d||!r.isCartesian||r.tooltipOutsidePlot||We(u,h,e),!1!==s&&d?(n.isHidden&&g.show(),g.html(s),r=(a.position||n.getPosition).call(n,t,u,c),n.move(L(r.x),L(r.y),h+o.plotLeft,e+o.plotTop),n.isHidden=!1):this.hide(),l&&l.enabled&&(d=/x/i.test(l.mode),g=/y/i.test(l.mode),s={"stroke-width":mt(l.width),stroke:l.color,zIndex:mt(l.zIndex)},d&&(p=t.dataSeries.axisX)&&(i=p._linePath(t.x,1),n.axisMarkers[0]?n.axisMarkers[0].attr({d:i,visibility:Pt}):n.axisMarkers[0]=o.renderer.path(i).attr(s).add()),g&&(p=t.dataSeries.axisY)&&(i=p._linePath(X(t.stackY,t.y),1),n.axisMarkers[1]?n.axisMarkers[1].attr({d:i,visibility:Pt}):n.axisMarkers[1]=o.renderer.path(i).attr(s).add()))}},Ne.prototype={_normalize:function(t){var e,i,n;return(t=t||k.event).target||(t.target=t.srcElement),i=t.touches?t.touches.item(0):t,this.chartPosition=(n=N[this.chart.guid].container,n=p(n).offset()),i=i.pageX===M?(e=t.x,t.y):(e=i.pageX-n.left,i.pageY-n.top),C(t,{chartX:L(e),chartY:L(i)})},_coord:function(n){var a={axisX:[],axisY:[]},r=N[this.chart.guid];return O(r.axes,function(t){var e=t.isXAxis,i=r.isInverted?!e:e;a[e?"axisX":"axisY"].push({axis:t,value:t.translate((i?n.chartX-r.plotLeft:t.top+t.len-n.chartY)-t.minPixelPadding,!0)})}),a},_index:function(t){var e=N[this.chart.guid];return e.isInverted?e.plotHeight+e.plotTop-t.chartY:t.chartX-e.plotLeft},_move:function(t){var e,i,n,a,r=this,o=r.chart,o=N[o.guid],s=o.dataSeries,c=o.tooltip,h=o.hoverPoint,p=o.hoverSeries,l=o.chartWidth,d=r._index(t);if(c&&r.options.tooltipSettings.chartBound&&(!p||!p.noSharedTooltip)){for(i=[],n=s.length,a=0;a<n;a++)s[a].visible&&!1!==s[a].options.mouseInteractions&&!s[a].noSharedTooltip&&s[a].tooltipPoints.length&&((e=s[a].tooltipPoints[d])._dist=V(d-e[s[a].axisX.tooltipPosName||"plotX"]),l=G(l,e._dist),i.push(e));for(n=i.length;n--;)i[n]._dist>l&&i.splice(n,1);i.length&&i[0].plotX!==r.hoverX&&(c.refresh(i,t),r.hoverX=i[0].plotX)}o.cachedHoverSeries&&o.cachedHoverSeries.tracker&&(e=o.cachedHoverSeries.tooltipPoints[d])&&e!==h&&e._mouseOver(t)},_reset:function(t){var e=this.chart,e=N[e.guid],i=e.hoverSeries,n=e.hoverPoint,a=e.tooltip,e=a&&a.chartBound?e.hoverPoints:n;(t=(t=t&&a&&e)&&kt(e)[0].plotX===M?!1:t)?a.refresh(e):(n&&n._mouseOut(),i&&i._mouseOut(),a&&(a.hide(),function(){O(this.axisMarkers,function(t){t&&t.hide()})}.call(a)),this.hoverX=null)},_events:function(){var a,r=this,o=r.chart,p=N[o.guid],e=p.container;function i(){o&&($t(e,{cursor:"auto"}),p.cancelClick=a,p.mouseIsDown=a=!1),p.container.style.cursor="default",ce(Y,pt?"touchend":"mouseup",i)}r.hideTooltipOnMouseMove=function(t){r.chartPosition&&p.hoverSeries&&p.hoverSeries.isCartesian&&!We(o,t.pageX-r.chartPosition.left-p.plotLeft,t.pageY-r.chartPosition.top-p.plotTop)&&r._reset()},r.hideTooltipOnMouseLeave=function(t){r.chartPosition&&!We(o,t.pageX-r.chartPosition.left-p.plotLeft,t.pageY-r.chartPosition.top-p.plotTop)&&(r._reset(),r.chartPosition=null)},e.onmousedown=function(t){t=r._normalize(t),!pt&&t.preventDefault&&t.preventDefault(),p.mouseIsDown=!0,p.cancelClick=!1,p.mouseDownX=r.mouseDownX=t.chartX,r.mouseDownY=t.chartY,p.isZoomed&&(p.container.style.cursor="move"),de(Y,pt?"touchend":"mouseup",i)};function n(t){var e,i,n;if(!(t&&t.touches&&1<t.touches.length))return t=r._normalize(t),pt||(t.returnValue=!1),e=t.chartX,i=t.chartY,n=!We(o,e-p.plotLeft,i-p.plotTop),pt&&t.type===J&&(Kt(t.target,"isTracker")?p.runTrackerClick||t.preventDefault():o.events.click||n||t.preventDefault()),n&&(e<p.plotLeft?e=p.plotLeft:e>p.plotLeft+p.plotWidth&&(e=p.plotLeft+p.plotWidth),i<p.plotTop?i=p.plotTop:i>p.plotTop+p.plotHeight&&(i=p.plotTop+p.plotHeight)),p.mouseIsDown&&t.type!==J&&10<(a=H.sqrt(H.pow(r.mouseDownX-e,2)+H.pow(r.mouseDownY-i,2)))&&(We(o,r.mouseDownX-p.plotLeft,r.mouseDownY-p.plotTop),p.isZoomed&&(o._viewport(r.mouseDownX-e,i-r.mouseDownY),r.mouseDownX=e,r.mouseDownY=i)),n||r._move(t),n||!p.hasCartesianSeries}e.onmousemove=n,de(e,Q,r.hideTooltipOnMouseLeave),de(Y,g,r.hideTooltipOnMouseMove),e.ontouchstart=function(t){(r.zoomX||r.zoomY)&&e.onmousedown(t),n(t)},e.ontouchmove=n,e.ontouchend=function(){a&&r._reset()},e.onclick=function(t){var e,i,n=p.hoverPoint;(t=r._normalize(t)).cancelBubble=!0,p.cancelClick||(n&&(Kt(t.target,"isTracker")||Kt(t.target.parentNode,"isTracker"))?(e=n.plotX,i=n.plotY,C(n,{pageX:r.chartPosition.left+p.plotLeft+(p.isInverted?p.plotWidth-i:e),pageY:r.chartPosition.top+p.plotTop+(p.isInverted?p.plotHeight-e:i)}),n.trigger("seriesClick",t)):(C(t,r._coord(t)),We(o,t.chartX-p.plotLeft,t.chartY-p.plotTop)&&o.trigger(et,t)))},de(e,"mousewheel",function(s,l,t,e){s=r._normalize(s),C(s,r._coord(s)),l=0<l?1:-1;var d,i,c={axisX:[],axisY:[]},h=0;if(O(p.axes,function(t){var e,i,n,a,r,o=t.isXAxis;p.tracker[o?"zoomX":"zoomY"]&&(n=p.isInverted?!o:o,i=t.dataMax/5,0<l?(r=(n=t.translate((n?s.chartX-p.plotLeft:t.top+t.len-s.chartY)-t.minPixelPadding,!0))-(a=t.max-t.min-i)/2<t.dataMin?(e=t.dataMin,t.dataMin+a):n+a/2>t.dataMax?(e=t.dataMax-a,t.dataMax):(e=n-a/2,n+a/2),e<t.dataMin&&(e=t.dataMin,r=t.dataMin+a)):(e=z(t.dataMin,t.min-i/2),r=G(t.dataMax,t.max+i/2),e<=t.dataMin&&r>=t.dataMax&&h++),r<e?c[o?"axisX":"axisY"].push({axis:t,min:e,max:r}):isNaN(e)||isNaN(r)||(c[o?"axisX":"axisY"].push({axis:t,min:G(e,r),max:z(e,r)}),d=!0))}),d)return(i={axisX:[],axisY:[]}).axisX=c.axisX,i.axisY=c.axisY,c.axisX[0]&&c.axisX[0].min>=c.axisX[0].max&&(i.axisX=[],c.axisX[0].min=G(c.axisX[0].min,c.axisX[0].max),c.axisX[0].max=z(c.axisX[0].min,c.axisX[0].max)),c.axisY[0]&&c.axisY[0].min>=c.axisY[0].max&&(i.axisY=[],c.axisY[0].min=G(c.axisY[0].min,c.axisY[0].max),c.axisY[0].max=z(c.axisY[0].min,c.axisY[0].max)),he(o,"zoom",c,function(t){o._zoom(i)}),h==p.axes.length?p.isZoomed=!1:p.isZoomed=!0,s.stopPropagation(),s.returnValue=!1})},destroy:function(){var t,e;this._destroyed||(t=this.chart,e=(t=N[t.guid]).container,t.trackerGroup&&(t.trackerGroup=t.trackerGroup.destroy()),ce(e,Q,this.hideTooltipOnMouseLeave),ce(Y,g,this.hideTooltipOnMouseMove),e.onclick=e.onmousedown=e.onmousemove=e.ontouchstart=e.ontouchend=e.ontouchmove=null,this._destroyed=!0)},init:function(t,e){var i=N[t.guid];i.trackerGroup||(i.trackerGroup=i.renderer.g().attr({zIndex:9}).add()),e.enabled&&(i.tooltip=new Ie(t,e)),this._events()}},Ee.prototype={init:function(t){var e,i,n,a=this,r=a.options=t.options.chartLegend;r.enabled&&(e=r.legendItemSettings.elementStyle,i=X(r.padding,8),n=r.legendItemSettings.topSpacing||0,a.baseline=mt(e.fontSize)+3+n,a.elementStyle=e,a.disabledStyle=R(e,r.legendItemSettings.disabledStyle),a.topSpacing=n,a.padding=i,a.initialItemX=i,a.initialItemY=i-5,a.maxelementWidth=0,a.chart=t,a.itemHeight=0,a.lastLineHeight=0,a.render())},destroy:function(){var t,e,i;this._destroyed||(e=(t=this).group,(i=t.box)&&(t.box=i.destroy()),e&&(t.group=e.destroy()),t._destroyed=!0)},render:function(){var i,t,e,n,a=this,r=a.chart,r=N[r.guid],o=r.renderer,s=a.group,l=a.box,d=a.options,c=a.padding,h=d.borderWidth,p=d.backgroundColor;a.itemX=a.initialItemX,a.itemY=a.initialItemY,a.offsetWidth=0,a.lastItemY=0,s||(a.group=s=o.g().attr({zIndex:7}).add(),a.contentGroup=o.g().attr({zIndex:1}).add(s),a.scrollGroup=o.g().add(a.contentGroup),a.clipRect=o.clipRect(0,0,9999,r.chartHeight),a.contentGroup.clip(a.clipRect)),i=[],O(r.dataSeries,function(t){var e=t.options;e.addToLegend&&(i=i.concat(t.legendItems||(e.legendType===it?t.data:t)))}),ie(i,function(t,e){return(t.options&&t.options.orderIndex||0)-(e.options&&e.options.orderIndex||0)}),d.inverseOrder&&i.reverse(),a.allItems=i,a.display=t=!!i.length,O(i,function(t){!function(e){var i,t=this,n=t.chart,c=N[n.guid],a=c.renderer,r=t.options,o=r.legendItemSettings,h=r.checkMarkSettings,p=h.mouseOverColor,u="horizontal"===r.renderDirection,g=r.symbolWidthINTERNAL,f=r.legendMarkerDistance,m=t.elementStyle,x=t.disabledStyle,y=t.padding,v=!r.rtlLayout,b=r.width,w=o.bottomSpacing||0,T=t.topSpacing,s=t.initialItemX,l=e.legendItem,d=e.dataSeries||e;d.options,l||(e.legendGroup=a.g().attr({zIndex:1}).add(t.scrollGroup),d.drawLegendSymbol(t,e),e.legendItem=l=a.text(e.collectionAlias,v?g+f:-f,t.baseline,r.htmlOutput).css(R(e.visible?m:x)).attr({align:v?"left":"right",zIndex:2}).add(e.legendGroup),i=e.checkMark,e.legendGroup.on($,function(t){n.trigger("legendSeriesMouseOver",{item:e}).isDefaultPrevented()||(o.proxyHoverEvents&&e._mouseOver(t),e.setState(Ot),l.css(o.mouseOverStyle),i&&p&&i.attr({stroke:p}))}).on(q,function(t){n.trigger("legendSeriesMouseOut",{item:e}).isDefaultPrevented()||(o.proxyHoverEvents&&e._mouseOut(t),l.css(e.visible?m:x),i&&i.attr({stroke:h.color}),e.setState())}).on(et,function(t){n.trigger("legendSeriesClick",{item:e}).isDefaultPrevented()||e.toggle()}),Xe.call(t,e,e.visible)),d=l.getBBox(),a=e.legendelementWidth=o.elementWidth||g+f+d.width+y,t.itemHeight=r=d.height,u&&t.itemX-s+a>(b||c.chartWidth-2*y-s)&&(t.itemX=s,t.itemY+=T+t.lastLineHeight+w,t.lastLineHeight=0),t.maxelementWidth=z(t.maxelementWidth,a),t.lastItemY=T+t.itemY+w,t.lastLineHeight=z(r,t.lastLineHeight),e._legendItemPos=[t.itemX,t.itemY],u?t.itemX+=a:(t.itemY+=T+r+w,t.lastLineHeight=r),t.offsetWidth=b||z(u?t.itemX-s:a,t.offsetWidth)}.call(a,t)}),e=d.width||a.offsetWidth,n=a.lastItemY+a.lastLineHeight,n=function(t){var e=this.chart,i=((e=N[e.guid]).renderer,this.options),n=i.y,a="top"===i.verticalAlign,e=e.spacingBox.height+(a?-n:n)-this.padding,a=this.clipRect;return"horizontal"===i.renderDirection&&(e/=2),e<t&&(this.clipHeight=e,a.attr({height:n=e}),t=e),t}.call(a,n),(h||p)&&(e+=c,n+=c,l?0<e&&0<n&&(l[l.isNew?"attr":"animate"](l.crisp(null,null,null,e,n)),l.isNew=!1):(a.box=l=o.rect(0,0,e,n,d.borderRadius,h||0).attr({stroke:d.borderColor,"stroke-width":h||0,fill:p||Dt}).add(s).shadow(d.shadow),l.isNew=!0),l[t?"show":"hide"]()),a.legendWidth=e,a.legendHeight=n,O(i,function(t){!function(t){var e=(i=this.options).legendMarkerDistance,i=!i.rtlLayout,n=(a=t._legendItemPos)[0],a=a[1];t.legendGroup&&t.legendGroup.translate(i?n:this.legendWidth-n-2*e-4,a)}.call(a,t)}),t&&s.align(C({width:e,height:n},d),!0,r.spacingBox)}};var Ye,He=h.extend({init:function(t,e){var i=this,n=i.guid=m.guid(),n=N[n]={},a=e.dataSeries,a=(e.dataSeries=null,h.fn.init.apply(i,arguments),i.options.dataSeries=i.initialOptions.dataSeries=a,n.cachedHoverSeries=null,i.options),r=a.margin,r=vt(r)?r:[r,r,r,r];n.optionsMarginTop=X(a.chartMarginTop,r[0]),n.optionsMarginRight=X(a.chartMarginRight,r[1]),n.optionsMarginBottom=X(a.chartMarginBottom,r[2]),n.optionsMarginLeft=X(a.chartMarginLeft,r[3]),n.isResizing=0,n.axes=[],n.dataSeries=[],n.hasCartesianSeries=!1,n.axisX=[],n.axisY=[],n.applyAnimation=!ht&&X(a.applyAnimation,!0),n.pointCount=0,n.counters=new ee,Be._initRender.call(i)},_series:function(t){var e,i=this.options,i=t.seriesType||i.seriesType;{if(Vt[i])return(e=new Vt[i]).init(this,t),e;ft(m.format("Invalid series type '{0}'",i),1)}},redraw:function(c){var e,t,i=this,n=N[i.guid],a=n.axes,r=n.dataSeries,o=n.tracker,s=n.chartLegend,h=n.isDirtyLegend,l=n.isDirtyBox,p=r.length,d=p,u=n.renderer,g=u.isHidden();for(le(c,i),g&&Be._shiftRendering.call(i);d--;)if((t=r[d]).isDirty&&t.options.stackMode){e=!0;break}if(e)for(d=p;d--;)(t=r[d]).options.stackMode&&(t.isDirty=!0);O(r,function(t){t.isDirty&&t.options.legendType===it&&(h=!0)}),h&&s.options.enabled&&(s.render(),n.isDirtyLegend=!1),n.hasCartesianSeries&&(n.isResizing||(n.maxTicks=null,O(a,function(t){t._scale()})),Be._updateTicks.call(i),i._spacing(),O(a,function(t){t.isDirtyExtremes&&(t.isDirtyExtremes=!1),(t.isDirty||l||e)&&(t.redraw(),l=!0)})),l&&Be._renderBox.call(i),O(r,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.axisX)&&t.redraw()}),o&&o._reset&&o._reset(!0),u.draw(),g&&Be._shiftRendering.call(i,!0),O([],function(t){t.call()})},_axes:function(){var e=this,t=this.options,i=t.axisX||{},t=t.axisY||{},i=kt(i);O(i,function(t,e){t.index=e,t.isX=!0}),t=kt(t),O(t,function(t,e){t.index=e}),i=i.concat(t),O(i,function(t){new Re(e,t)}),Be._updateTicks.call(e)},_zoom:function(t){var i,n=N[this.guid];t&&!t.resetSelection&&(O(t.axisX.concat(t.axisY),function(t){var e=t.axis;n.tracker[e.isXAxis?"zoomX":"zoomY"]&&(i=e._zoom(t.min,t.max))}),i&&this.redraw(X(this.options.applyAnimation,n.pointCount<100)))},_viewport:function(n,a){var r=N[this.guid],o=!1;O(r.axes,function(t){var e,i=t.isXAxis,i=r.isInverted?!i:i,i=function(t,e,i,n,a,r){var o=this;return 0<t?o.translate(o.dataMin+t,e,i,n,a,r)-o.translate(o.dataMin,e,i,n,a,r):t<0?o.translate(o.dataMax+t,e,i,n,a,r)-o.translate(o.dataMax,e,i,n,a,r):0}.call(t,i?n:a,!0);0!==i&&(e=t.min+i,i=t.max+i,e>t.dataMin&&i<t.dataMax&&(Ce.call(t,e,i,!1),o=!0))}),o&&this.redraw(!1)},_size:function(){var t=N[this.guid],e=this.options,i=t.renderToClone||this.element;t.containerWidth=i.width(),t.containerHeight=i.height(),t.chartWidth=e.width||t.containerWidth||600,t.chartHeight=e.height||(19<t.containerHeight?t.containerHeight:400)},_wrapper:function(){var t,e,i=this,n=N[i.guid],a=i.options,r=i.element,o=m.strid();r.empty(),r.width()||Be._shiftRendering.call(i),i._size(),t=n.chartWidth,e=n.chartHeight,n.container=o=p("<div />").attr("id",o).addClass(St+"container"+(a.className?" "+a.className:"")).css(C({position:Ct,overflow:Lt,width:t+Mt,height:e+Mt,textAlignINTERNAL:"left",lineHeight:"normal",zIndex:0},a.style)).appendTo(n.renderToClone||r)[0],n.renderer=a.forExport?new ve(o,t,e,!0):new s(o,t,e),ht&&n.renderer.create(i,o,t,e)},_spacing:function(){var t,e=this,i=N[e.guid],n=e.options,a=n.chartAreaPaddingTop,c=n.chartAreaPaddingRight,h=n.chartAreaPaddingBottom,n=n.chartAreaPaddingLeft,r=i.chartLegend,p=i.optionsMarginTop,u=i.optionsMarginLeft,g=i.optionsMarginRight,f=i.optionsMarginBottom,o=i.chartTitleOptions,s=i.chartSubtitleOptions,l=e.options.chartLegend,d=X(l.chartDistance,10),m=l.x,x=l.y,y=l.align,v=l.verticalAlign;Be._marginValues.call(e),t=i.axisOffset,!i.title&&!i.subtitle||_(i.optionsMarginTop)||(o=z(i.title&&!o.ignoreChartLayout&&!o.verticalAlign&&o.y||0,i.subtitle&&!s.ignoreChartLayout&&!s.verticalAlign&&s.y||0))&&(i.plotTop=z(i.plotTop,o+15+a)),r.display&&!l.ignoreChartLayout&&("right"===y?_(g)||(i.chartMarginRight=z(i.chartMarginRight,r.legendWidth-m+d+c)):"left"===y?_(u)||(i.plotLeft=z(i.plotLeft,r.legendWidth+m+d+n)):"top"===v?_(p)||(i.plotTop=z(i.plotTop,r.legendHeight+x+d+a)):"bottom"===v&&(_(f)||(i.chartMarginBottom=z(i.chartMarginBottom,r.legendHeight-x+d+h)))),i.extraBottomMargin&&(i.chartMarginBottom+=i.extraBottomMargin),i.extraTopMargin&&(i.plotTop+=i.extraTopMargin),i.hasCartesianSeries&&O(i.axes,function(t){t._offset()}),_(u)||(i.plotLeft+=t[3]),_(p)||(i.plotTop+=t[0]),_(f)||(i.chartMarginBottom+=t[2]),_(g)||(i.chartMarginRight+=t[1]),Be._saveSize.call(e)},_layout:function(){var e,i,n,a=N[this.guid],r=this.options,o=this.options.dataSeries;O(["isInverted","angular","enablePolarLayout"],function(t){for(e=Vt[r.seriesType],n=a[t]||r[t]||e&&e.prototype[t],i=o&&o.length;!n&&i--;)(e=Vt[o[i].seriesType])&&e.prototype[t]&&(n=!0);a[t]=n})},_render:function(){var t,e=this,a=N[e.guid],i=a.axes,r=a.renderer,o=e.options.axisTickText,n={text:"&#68;&#101;&#109;&#111;&#32;&#86;&#101;&#114;&#115;&#105;&#111;&#110;",isr:0};if(Be.setTitle.call(e),a.chartLegend=new Ee(e),O(i,function(t){t._scale()}),e._spacing(),O(i,function(t){if(t.radial)return e._spacing(),!1}),a.maxTicks=null,O(i,function(t){t._ticks(!0),Le.call(t)}),n.style={cursor:Nt,color:"#999999",fontSize:"16px"},Be._updateTicks.call(e),e._spacing(),Be._renderBox.call(e),a.hasCartesianSeries&&O(i,function(t){t.render()}),n.dest="&#104;&#116;&#116;&#112;&#58;&#47;&#47;&#119;&#119;&#119;&#46;&#115;&#104;&#105;&#101;&#108;&#100;&#117;&#105;&#46;&#99;&#111;&#109;",a.seriesGroup||(a.seriesGroup=r.g().attr({zIndex:3}).add()),O(a.dataSeries,function(t){t.translate(),t.setTooltipPoints(),t.render()}),o&&o.items&&O(o.items,function(t){var e=C(o.style,t.style),i=mt(e.left)+a.plotLeft,n=mt(e.top)+a.plotTop+12;delete e.left,delete e.top,r.text(t.html,i,n).attr({zIndex:2}).css(e).add()}),n&&!a.dsisf){function c(t){return p("<div/>").html(t).text()}var s,l,h,d,i=m.guid();for(dt&&(i=r.createElement("filter").attr({id:i,height:"120%"}),r.createElement("feGaussianBlur").attr({in:"SourceAlpha",stdDeviation:3}).add(i),d=r.createElement("feComponentTransfer"),r.createElement("feFuncA").attr({type:"linear",slope:"0.2"}).add(d),d.add(i),d=r.createElement("feMerge"),r.createElement("feMergeNode").add(d),r.createElement("feMergeNode").attr({in:"SourceGraphic"}).add(d),d.add(i),i.add(r.defs)),t=c(n.dest),!n.isr&&a.chartWidth<=400&&(n.text=c("&#68;&#101;&#109;&#111;")),n.text=c(n.text),s=[{align:"left",verticalAlign:"top",x:a.plotLeft+5,y:a.plotTop+20},{align:"right",verticalAlign:"top",x:-1*(a.chartWidth-(a.plotLeft+a.plotWidth)+5),y:a.plotTop+20},{align:"left",verticalAlign:"top",x:a.plotLeft+5,y:a.plotTop+a.plotHeight-5},{align:"right",verticalAlign:"top",x:-1*(a.chartWidth-(a.plotLeft+a.plotWidth)+5)+(n.isr?5:0),y:a.plotTop+a.plotHeight-5}],h=function(){t&&(location.href=t)},l=0;l<s.length;l++)n.isr&&3!=l||(n.isr&&a.chartWidth<=400&&(n.style.fontSize="13px"),r.text(n.text,0,0).on(et,h).attr({align:s[l].align,zIndex:8,filter:void 0}).css(n.style).add().align(s[l]));a.dsisf=!0}a.hasRendered=!0},destroy:function(){var t,e,i,n=N[this.guid],a=n.axes,r=n.dataSeries,o=n.container,s=o&&o.parentNode;for(he(this,"destroy"),ce(this),t=a.length;t--;)a[t]=a[t].destroy();for(t=r.length;t--;)r[t]=r[t].destroy();for(e in n)n.hasOwnProperty(e)&&(i=n[e])&&typeof i.destroy==u&&i.destroy();for(t in o&&(o.innerHTML="",ce(o),s&&oe(o)),n)n.hasOwnProperty(t)&&delete n[t];delete N[this.guid]}}),Be={_updateTicks:function(){var t=N[this.guid];!1!==this.options.matchTicks&&O(t.axes,function(t){t._updateTicks()}),t.maxTicks=null},_shiftRendering:function(t){var e=N[this.guid],i=this.element,n=e.renderToClone;e.container;t?n&&(n.remove(),delete e.renderToClone):e.renderToClone=i.clone().css({position:It,top:"-9999px",display:"block"}).appendTo(Y.body)},_renderBox:function(){var t=N[this.guid],e=this.options,i=t.renderer,c=t.chartWidth,h=t.chartHeight,n=t.chartBackground,p=t.plotBackground,u=t.plotBorder,g=t.plotBGImage,a=e.borderWidth||0,f=e.backgroundColor,m=e.chartAreaBackgroundColor,x=e.chartAreaBackgroundImage,y=e.chartAreaBorderWidth||0,r=t.plotLeft,o=t.plotTop,s=t.plotWidth,l=t.plotHeight,v=t.chartAreaBox,b=t.clipRect,w=t.clipBox,d=a+(e.shadow?8:0);(a||f)&&(n?n.animate(n.crisp(null,null,null,c-d,h-d)):(n={fill:f||Dt},a&&(n.stroke=e.borderColor,n["stroke-width"]=a),t.chartBackground=i.rect(d/2,d/2,c-d,h-d,e.borderRadius,a).attr(n).add().shadow(e.shadow))),m&&(p?p.animate(v):t.plotBackground=i.rect(r,o,s,l,0).attr({fill:m}).add().shadow(e.chartAreaShadow)),x&&(g?g.animate(v):t.plotBGImage=i.image(x,r,o,s,l).add()),b?b.animate({width:w.width,height:w.height}):t.clipRect=i.clipRect(w),y&&(u?u.animate(u.crisp(null,r,o,s,l)):t.plotBorder=i.rect(r,o,s,l,0,y).attr({stroke:e.chartAreaBorderColor,"stroke-width":y,zIndex:1}).add()),t.isDirtyBox=!1},_initRender:function(){var n,a=this,r=N[a.guid],o=a.options,t=r.callback,s=a.element,e="onreadystatechange",i="complete";!(!dt&&k==k.top&&Y.readyState!==i||ht&&!k.canvg)||ht?(a._wrapper(),s.addClass("shield-chart"),he(a,"init"),Be._marginValues.call(a),Be._saveSize.call(a),a._layout(),a._axes(),O(o.dataSeries||[],function(t){a._series(t)}),r.tracker=new Ne(a,o),a._render(),r.renderer.draw(),t&&t.apply(a,[a]),O(Fe,function(t){t.apply(a,[a])}),Be._shiftRendering.call(a,!0),!1!==o.enableAutoFit&&(a._eafFunc=function(t){var e=o.width||s.width(),i=o.height||s.height(),t=t?t.target:k;e&&i&&(t===k||t===Y)&&(e===r.containerWidth&&i===r.containerHeight||(clearTimeout(n),r.reflowTimeout=n=setTimeout(function(){r.container&&Be._resize.call(a,e,i,!1)},100)),r.containerWidth=e,r.containerHeight=i)},de(k,tt,a._eafFunc),de(a,"destroy",function(){ce(k,tt,a._eafFunc),a._eafFunc=null})),a.trigger("load")):Y.attachEvent(e,a._onDocReady=function(){Y.readyState===i&&(Y.detachEvent(e,a._onDocReady),Be._initRender.call(a),a._onDocReady=null)})},_selected:function(){var e=[];return O(N[this.guid].dataSeries,function(t){e=e.concat(ge(t.points,function(t){return t.selected}))}),e},_marginValues:function(){var t=N[this.guid],e=this.options,i=e.chartAreaPaddingTop,n=e.chartAreaPaddingRight,a=e.chartAreaPaddingBottom,e=e.chartAreaPaddingLeft;t.plotTop=X(t.optionsMarginTop,i),t.chartMarginRight=X(t.optionsMarginRight,n),t.chartMarginBottom=X(t.optionsMarginBottom,a),t.plotLeft=X(t.optionsMarginLeft,e),t.axisOffset=[0,0,0,0]},_resize:function(t,e,i){var n,a,r,o=this,s=N[o.guid],l=s.title,d=s.subtitle;s.isResizing+=1,r=function(){o&&he(o,"endResize",null,function(){--s.isResizing})},le(i,o),s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,_(t)&&(s.chartWidth=n=L(t)),_(e)&&(s.chartHeight=a=L(e)),$t(s.container,{width:n+Mt,height:a+Mt}),s.renderer.setSize(n,a,i),s.plotWidth=n-s.plotLeft-s.chartMarginRight,s.plotHeight=a-s.plotTop-s.chartMarginBottom,s.maxTicks=null,O(s.axes,function(t){t.isDirty=!0,t._scale()}),O(s.dataSeries,function(t){t.isDirty=!0}),s.isDirtyLegend=!0,s.isDirtyBox=!0,o._spacing(),t=s.spacingBox,l&&l.align(null,null,t),d&&d.align(null,null,t),o.redraw(i),s.oldChartHeight=null,he(o,tt),!1===c?r():setTimeout(r,c&&c.duration||500)},_saveSize:function(){var t,e,i,n,a=N[this.guid],r=a.isInverted,o=a.chartWidth,s=a.chartHeight,l=this.options,d=l.chartAreaPaddingTop,c=l.chartAreaPaddingRight,h=l.chartAreaPaddingBottom,p=l.chartAreaPaddingLeft;a.plotLeft=t=L(a.plotLeft),a.plotTop=e=L(a.plotTop),a.plotWidth=i=L(o-t-a.chartMarginRight),a.plotHeight=n=L(s-e-a.chartMarginBottom),a.plotSizeX=r?n:i,a.plotSizeY=r?i:n,a.chartAreaBorderWidth=r=l.chartAreaBorderWidth||0,a.spacingBox={x:p,y:d,width:o-p-c,height:s-d-h},a.chartAreaBox={x:t,y:e,width:i,height:n},a.clipBox={x:r/2,y:r/2,width:a.plotSizeX-r,height:a.plotSizeY-r},O(a.axes,function(t){t._dimensions(),t._arrange()})},setTitle:function(t,e){var i,a=N[this.guid],n=this.options;a.chartTitleOptions=i=R(n.primaryHeader,t),a.chartSubtitleOptions=n=R(n.secondaryHeader,e),O([["title",t,i],["subtitle",e,n]],function(t){var e=t[0],i=a[e],n=t[1],t=t[2];i&&n&&(a[e]=i=i.destroy()),t&&t.text&&!i&&(a[e]=a.renderer.text(t.text,0,0,t.htmlOutput).attr({align:t.align,zIndex:t.zIndex||4}).css(t.style).add().align(t,!1,a.spacingBox))})}},Fe=[];function ze(t){return{id:t.id,name:t.pointName,x:t.x,y:t.y}}function Ge(t){return{type:t.xOrY,values:t.categoricalValues,min:t.min,max:t.max}}function Ve(t){if(yt(t)||vt(t)){var e,i,n=yt(t)?{}:[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&((i=t[e])&&i instanceof je?n[e]=ze(i):i&&(i instanceof Ze||"dataSeries"===e)?n[e]={seriesType:(a=i).seriesType,collectionAlias:a.collectionAlias,color:a.color,axisX:a.axisX?Ge(a.axisX):null,axisY:a.axisY?Ge(a.axisY):null,id:a.options.id,points:fe(a.points,ze)}:i&&i instanceof Re?n[e]=Ge(i):i&&m.is.event(i)?n[e]=p.Event(i):i&&(i instanceof p.Event||"domEvent"===e)?n[e]=i:n[e]="target"==e||"srcElement"==e?i:Ve(i));return n}return t;var a}function Ue(){for(var t,e=["graphic","tracker","dataLabel","group","connector","shadowGroup"],i=6;i--;)this[t=e[i]]&&(this[t]=this[t].destroy())}He.defaults=ue,He.themes={default:{}},m.ui.plugin("Chart",He),Ye=He.prototype.trigger,He.prototype.trigger=function(t,e,i){var n=Ve(e),t=Ye.call(this,t,n);return typeof i!=u||t.isDefaultPrevented()||i.call(this,e),t};var je=function(){},Ze=(je.prototype={init:function(t,e,i){var n=this,a=t.chart,r=N[a.guid],o=r.counters;return n.dataSeries=t,n.setOptions(e,i),n.pointAttr={},t.options.separateColors&&(e=a.options.seriesPalette,n.color=n.color||e[o.color++],o.wrapColor(e.length)),r.pointCount++,n},setOptions:function(t,e){var i=this,n=i.dataSeries,a=typeof t;i.config=t,"number"==a||null===t?i.y=t:"number"==typeof t[0]?(i.x=t[0],i.y=t[1]):"object"==a&&"number"!=typeof t.length?(C(i,t),(i.options=t).dataPointText&&(n._hasPointLabels=!0),t.pointMark&&(n._hasPointMarkers=!0)):"string"==typeof t[0]&&(i.collectionAlias=t[0],i.y=t[1]),i.x===M&&(i.x=e===M?n.autoIncrement():e)},destroy:function(){if(!this._destroyed){var t,e=this,i=e.dataSeries,i=N[i.chart.guid],n=i.hoverPoints;for(t in i.pointCount--,n&&(e.setState(),Zt(n,e),n.length||(i.hoverPoints=null)),e===i.hoverPoint&&e._mouseOut(),(e.graphic||e.dataLabel)&&(ce(e),Ue.call(e)),e.legendItem&&Oe.call(i.chartLegend,e),e)e.hasOwnProperty(t)&&(e[t]=null);e._destroyed=!0}},_selected:function(t,e){var i=this,n=i.dataSeries.chart;t=X(t,!i.selected),i.trigger(t?"pointSelect":"pointDeselect",{accumulate:e},function(){i._destroyed||(i.selected=t,i.setState(t?Et:""),e||O(Be._selected.call(n),function(t){t.selected&&t!==i&&(t.selected=!1,t.setState(""),t.trigger("pointDeselect"))}))})},_mouseOver:function(t){var e=this,i=e.dataSeries,n=N[i.chart.guid],a=n.tooltip,r=n.hoverPoint;r&&r!==e&&r._mouseOut(t),e.trigger("seriesMouseOver",t),!a||a.chartBound&&!i.noSharedTooltip||a.refresh(e),e.setState(Ot),n.hoverPoint=e},_mouseOut:function(t){var e=N[this.dataSeries.chart.guid],i=e.hoverPoints;i&&-1!==gt(this,i)||(this.trigger("seriesMouseOut",t),this.setState(),e.hoverPoint=null)},trigger:function(t,e,i){var n=this,a=n.dataSeries,r=a.options;"seriesClick"===t&&r.enablePointSelection&&(i=function(t){n._selected(null,!1!==r.allowMultiPointSelection&&(e.ctrlKey||e.metaKey||e.shiftKey))}),he(n,t,{domEvent:e,dataSeries:a},function(){a.chart.trigger(t,{domEvent:e,point:n,dataSeries:a},i)})},setState:function(t){var e,i=this,n=i.plotX,a=i.plotY,r=i.dataSeries,c=r.options.activeSettings,o=f[r.seriesType].pointMark&&r.options.pointMark,h=o&&!o.enabled,s=o&&o.activeSettings[t],p=s&&!1===s.enabled,l=r.stateMarkerGraphic,u=r.chart,g=N[u.guid],d=i.pointAttr;(t=t||"")===i.state||i.selected&&t!==Et||c[t]&&!1===c[t].enabled||t&&(p||h&&!s.enabled)||(i.graphic?(e=o&&i.graphic.symbolName&&d[t].r,i.graphic.attr(R(d[t],e?{x:n-e,y:a-e,width:2*e,height:2*e}:{}))):(t&&s&&(e=s.drawRadius,l?l.attr({x:n-e,y:a-e}):r.stateMarkerGraphic=l=g.renderer.symbol(r.symbol,n-e,a-e,2*e,2*e).attr(d[t]).add(r.markerGroup)),l&&l[t&&We(u,n,a)?"show":"hide"]()),i.state=t)}},function(){}),Ke=(Ze.prototype={isCartesian:!0,seriesType:"line",pointClass:je,sorted:!0,pointAttrToOptions:{stroke:"drawColor","stroke-width":"drawWidth",fill:"innerColor",r:"drawRadius"},init:function(t,e){var i,n,a=this,r=N[t.guid];for(i in a.chart=t,a.options=e=a.setOptions(e),a.bindAxes(),C(a,{collectionAlias:e.collectionAlias,state:"",pointAttr:{},visible:!1!==e.visible,selected:!0===e.selected}),ht&&(e.applyAnimation=!1),n=e.events)n.hasOwnProperty(i)&&de(a,i,n[i]);(n&&n.click||e.point&&e.point.events&&e.point.events.click||e.enablePointSelection)&&(r.runTrackerClick=!0),a.getColor(),a.getSymbol(),a.setItemSource(e.data,!1),a.isCartesian&&(r.hasCartesianSeries=!0),r.dataSeries.push(a),ie(r.dataSeries,function(t,e){return(t.options.index||0)-(e.options.index||0)}),O(r.dataSeries,function(t,e){t.index=e,t.collectionAlias=t.collectionAlias||"Series "+(e+1)})},bindAxes:function(){var i,n=this,a=n.options,t=N[n.chart.guid];n.isCartesian&&O(["axisX","axisY"],function(e){O(t[e],function(t){i=t.options,(a[e]===i.index||a[e]===M&&0===i.index)&&(t.dataSeries.push(n),(n[e]=t).isDirty=!0)})})},autoIncrement:function(){var t=this,e=t.options,i=X(t.xIncrement,e.dataStart,0);return t.dataStep=X(t.dataStep,e.dataStep,1),t.xIncrement=i+t.dataStep,i},getSegments:function(){var t,e=-1,i=[],n=this.points,a=n.length,r=this.options.drawNullValues;if(a)if(/bar/.test(this.seriesType)&&r)for(t=0;t<a;t++)i.push(n[t]);else if(r){for(t=a;t--;)null===n[t].y&&n.splice(t,1);n.length&&(i=[n])}else for(t=0;t<a;t++)null===n[t].y?(e+1<t&&i.push(n.slice(e+1,t)),e=t):t===a-1&&i.push(n.slice(e+1,t+1));this.segments=i},setOptions:function(t){var e=this.chart,i=e.options,n=i.seriesSettings,a=n[this.seriesType],r=t.data;return t.data=null,(n=R(a,n.dataSeries,t)).data=t.data=r,this.tooltipSettings=R(i.tooltipSettings,n.tooltipSettings,e.initialOptions.tooltipSettings),null===a.pointMark&&delete n.pointMark,n},getColor:function(){var t=this.options,e=this.chart.options.seriesPalette,i=N[this.chart.guid].counters;this.color=t.color||!t.separateColors&&e[i.color++]||"gray",i.wrapColor(e.length)},getSymbol:function(){var t=this.options.pointMark,e=this.chart,i=e.options.symbols,e=N[e.guid].counters;this.symbol=t.symbol||i[e.symbol++],/^url/.test(this.symbol)&&(t.drawRadius=0),e.wrapSymbol(i.length)},drawLegendSymbol:function(t,e){this.options.pointMark;var i=t.options,n=i.legendItemSettings,a=i.checkMarkSettings,r=a.coordinates,i=i.symbolWidthINTERNAL,o=N[this.chart.guid].renderer,s=e.legendGroup,t=t.baseline;e.legendSymbol=o.symbol("square",i/2-5,t-4-5,10,10).add(s),a&&a.enabled&&(e.checkMark=o.symbol(a.shape,i/2-5+X(r.x,0),t-4-5+X(r.y,0),_(r.width)?r.width:10,_(r.height)?r.height:10).add(s).attr({"stroke-width":a.width})),n&&n.elementStyle&&n.elementStyle.cursor&&(e.legendSymbol.css({cursor:n.elementStyle.cursor}),e.checkMark&&e.checkMark.css({cursor:n.elementStyle.cursor}))},addPointINTERNAL:function(t,e,i,n){var a=this,r=a.data,o=a.graph,s=a.area,l=a.chart,c=a.xData,h=a.yData,p=o&&o.shift||0,u=a.options.data,d=a.pointClass.prototype;le(n,l),o&&i&&(o.shift=p+1),s&&(i&&(s.shift=p+1),s.isArea=!0),e=X(e,!0),d.setOptions.apply(n={dataSeries:a},[t]),c.push(n.x),h.push(d.toArray?d.toArray.call(n):n.y),u.push(t),i&&(r[0]&&r[0].remove?function(t,e){var i,n=this.dataSeries,a=n.chart,r=n.data,o=r.length;for(le(e,a),t=X(t,!0),i=0;i<o;i++)if(r[i]===this){r.splice(i,1),n.options.data.splice(i,1),n.xData.splice(i,1),n.yData.splice(i,1);break}this.destroy(),n.isDirty=!0,n.isDirtyData=!0,t&&a.redraw()}.call(r[0],!1):(r.shift(),c.shift(),h.shift(),u.shift())),a.getAttribs(),a.isDirty=!0,a.isDirtyData=!0,e&&l.redraw()},setItemSource:function(t,c){var e,i=this,n=i.points,h=i.options,a=i.initialColor,p=i.chart,u=N[p.guid],g=null,r=i.axisX,f=i.pointClass.prototype,o=(i.xIncrement=null,i.pointRange=r&&r.categoricalValues?1:h.pointRange,_(a)&&(u.counters.color=a),[]),s=[],l=t?t.length:[],a=i.pointArrayMap,m=a&&a.length;if(1e4<l){for(d=0;null===g&&d<l;)g=t[d],d++;if(bt(g)){for(var x=X(h.dataStart,0),y=X(h.dataStep,1),d=0;d<l;d++)o[d]=x,s[d]=t[d],x+=y;i.xIncrement=x}else if(vt(g))if(m)for(d=0;d<l;d++)e=t[d],o[d]=e[0],s[d]=ti.call(e,1,m+1);else for(d=0;d<l;d++)e=t[d],o[d]=e[0],s[d]=e[1]}else for(d=0;d<l;d++)f.setOptions.apply(e={dataSeries:i},[t[d]]),o[d]=e.x,s[d]=f.toArray?f.toArray.call(e):e.y;if(xt(s[0]))ft("Data cannot be a string",1);else{for(i.data=[],i.options.data=t,i.xData=o,i.yData=s,d=n&&n.length||0;d--;)n[d]&&n[d].destroy&&n[d].destroy();r&&(r.zoomMin=r.customZoomMin),X(c,i.isDirty=i.isDirtyData=u.isDirtyBox=!0)&&p.redraw(!1)}},removeSeries:function(t,e){var i=this,n=i.chart,a=N[n.guid];t=X(t,!0),i.isRemoving||(i.isRemoving=!0,i.destroy(),a.isDirtyLegend=a.isDirtyBox=!0,t&&n.redraw(e)),i.isRemoving=!1},processData:function(t){var c,e,i,n,a=this,r=a.xData,o=a.yData,s=r.length,l=0,d=s,h=a.axisX,p=a.options,u=p.pointsLimit,g=a.isCartesian;if(g&&!a.isDirty&&!h.isDirty&&!a.axisY.isDirty&&!t)return!1;if(g&&a.sorted&&(!u||u<s||a.forceCrop)){var t=Me.call(h),f=t.min,m=t.max;if(r[s-1]<f||r[0]>m)r=[],o=[];else if(r[0]<f||r[s-1]>m){for(n=0;n<s;n++)if(r[n]>=f){l=z(0,n-1);break}for(;n<s;n++)if(r[n]>m){d=n+1;break}r=r.slice(l,d),o=o.slice(l,d),c=!0}}for(n=r.length-1;0<n;n--)0<(e=r[n]-r[n-1])&&(i===M||e<i)&&(i=e);a.cropped=c,a.cropStart=l,a.processedXData=r,a.processedYData=o,null===p.pointRange&&(a.pointRange=i||1),a.closestPointRange=i},generatePoints:function(){var c,t,e,i,h,n=this,a=n.options.data,r=n.data,o=n.processedXData,p=n.processedYData,u=n.pointClass,s=o.length,g=n.cropStart||0,l=n.hasGroupedData,d=[];for(r||l||((h=[]).length=a.length,r=n.data=h),i=0;i<s;i++)t=g+i,l?d[i]=(new u).init(n,[o[i]].concat(kt(p[i]))):(r[t]?e=r[t]:a[t]!==M&&(r[t]=e=(new u).init(n,a[t],o[i])),d[i]=e);if(r&&(s!==(c=r.length)||l))for(i=0;i<c;i++)i!==g||l||(i+=s),r[i]&&(Ue.call(r[i]),r[i].plotX=M);n.data=r,n.points=d},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var c,t=this,h=t.chart,p=N[h.guid],e=t.options,u=e.stackMode,g=t.axisX,i=g.categoricalValues,n=t.axisY,f=t.points,m=f.length,x=!!t.modifyValue,y=n.dataSeries,a=y.length,v="between"===e.positioningMethod,b=e.drawNullValues,w=/bar/i.test(t.seriesType);a--;)if(y[a].visible){y[a]===t&&(c=!0);break}for(a=0;a<m;a++){var r=f[a],o=r.x,s=Tt(r.y)&&w&&b?0:r.y,l=r.low,d=n.stacks[(s<e.baseValue?"-":"")+t.stackKey];r.plotX=g.translate(o,0,0,0,1,v),u&&t.visible&&d&&d[o]&&(o=(d=d[o]).total,d.cum=l=d.cum-s,s=l+s,c&&(l=X(e.baseValue,n.min)),n.isLog&&l<=0&&(l=null),"percent"===u&&(l=o?100*l/o:0,s=o?100*s/o:0),r.percentage=o?100*r.y/o:0,r.total=r.stackTotal=o,r.stackY=s),r.yBottom=_(l)?n.translate(l,0,1,0,1):null,x&&(s=t.modifyValue(s,r)),r.plotY="number"==typeof s?L(10*n.translate(s,0,1,0,1))/10:M,r.clientX=p.isInverted?p.plotHeight-r.plotX:r.plotX,r.pointName===M&&(i&&i[a]!==M?r.pointName=i[a]:r.pointName=r.x)}t.getSegments()},setTooltipPoints:function(c){var t,e,i,n,a,r=this,o=[],s=r.axisX,l=s?s.tooltipLen||s.len:N[r.chart.guid].plotSizeX,d=s&&s.tooltipPosName||"plotX",h=[];if(!1!==r.options.mouseInteractions){for(c&&(r.tooltipPoints=null),O(r.segments||r.points,function(t){o=o.concat(t)}),t=(o=s&&s.inverseOrder?o.reverse():o).length,a=0;a<t;a++)for(n=o[a],e=o[a-1]?i+1:0,i=o[a+1]?z(0,B((n[d]+(o[a+1]?o[a+1][d]:l))/2)):l;0<=e&&e<=i;)h[e++]=n;r.tooltipPoints=h}},_mouseOver:function(t){var e=this,i=N[e.chart.guid],n=i.hoverSeries;n&&n!==e&&n._mouseOut(t),e.setState(Ot),i.cachedHoverSeries=e,i.hoverSeries=e},_mouseOut:function(t){var e=this.options,i=N[this.chart.guid],n=i.tooltip,a=i.hoverPoint;a&&a._mouseOut(t),!n||e.completeSeriesTrace||n.chartBound||n.hide(),this.setState(),i.hoverSeries=null},animate:function(t){var e,i=this,n=N[i.chart.guid],a=n.renderer,r=i.options.applyAnimation,o=n.clipBox,s=n.isInverted,l="_sharedClip"+(r=r&&!yt(r)?f[i.seriesType].applyAnimation:r).duration+r.easing;t?(e=n[l],t=n[l+"m"],e||(n[l]=e=a.clipRect(C(o,{width:0})),n[l+"m"]=t=a.clipRect(-99,s?-n.plotLeft:-n.plotTop,99,s?n.chartWidth:n.chartHeight)),i.group.clip(e),i.markerGroup.clip(t),i.sharedClipKey=l):((e=n[l])&&(e.animate({width:n.plotSizeX},r),n[l+"m"].animate({width:n.plotSizeX+99},r)),i.animate=null,i.animationTimeout=setTimeout(function(){i.afterAnimate()},r.duration))},afterAnimate:function(){var t=this,e=N[t.chart.guid],i=t.sharedClipKey,n=t.group;n&&!1!==t.options.clip&&(n.clip(e.clipRect),t.markerGroup.clip()),setTimeout(function(){i&&e[i]&&(e[i]=e[i].destroy(),e[i+"m"]=e[i+"m"].destroy())},100)},drawPoints:function(){var t,e,i,n,a,c,r,o,s,l,d=this,h=d.points,p=d.chart,u=N[p.guid],g=d.options.pointMark,f=d.markerGroup;if(g.enabled||d._hasPointMarkers)for(i=h.length;i--;)t=(n=h[i]).plotX,e=n.plotY,r=n.graphic,o=n.pointMark||{},s=g.enabled&&o.enabled===M||o.enabled,l=We(p,t,e,u.isInverted),s&&e!==M&&!isNaN(e)?(a=(s=n.pointAttr[n.selected?Et:""]).r,c=0===(o=X(o.symbol,d.symbol)).indexOf("url"),r?r.attr({visibility:l?dt?"inherit":Pt:Lt}).animate(C({x:t-a,y:e-a},r.symbolName?{width:2*a,height:2*a}:{})):l&&(0<a||c)&&(n.graphic=r=u.renderer.symbol(o,t-a,e-a,2*a,2*a).attr(s).add(f))):r&&(n.graphic=r.destroy())},convertAttribs:function(t,e,i,n){var a,r,o=this.pointAttrToOptions,s={};for(a in t=t||{},e=e||{},i=i||{},n=n||{},o)o.hasOwnProperty(a)&&(r=o[a],s[a]=X(t[r],e[a],i[a],n[a]));return s},getAttribs:function(){var t,e,i,n,a,c,r=this,o=f[r.seriesType].pointMark?r.options.pointMark:r.options,s=o.activeSettings,l=s[Ot],h=r.color,p={stroke:h,fill:h},u=r.points||[],d=[],g=r.pointAttrToOptions;for(r.options.pointMark?(l.drawRadius=l.drawRadius||o.drawRadius+2,l.drawWidth=l.drawWidth||o.drawWidth+1):l.color=l.color||new xe(l.color||h).brighten(l.brightness).get(),d[""]=r.convertAttribs(o,p),O([Ot,Et],function(t){d[t]=r.convertAttribs(s[t],d[""])}),r.pointAttr=d,e=u.length;e--;){if((o=(i=u[e]).options&&i.options.pointMark||i.options)&&!1===o.enabled&&(o.drawRadius=0),a=r.options.separateColors,i.options)for(c in g)g.hasOwnProperty(c)&&_(o[g[c]])&&(a=!0);a?(n=[],t=(s=(o=o||{}).activeSettings||{})[Ot]=s[Ot]||{},r.options.pointMark||(t.color=new xe(t.color||i.color).brighten(t.brightness||l.brightness).get()),n[""]=r.convertAttribs(C({color:i.color},o),d[""]),n[Ot]=r.convertAttribs(s[Ot],d[Ot],n[""]),n[Et]=r.convertAttribs(s[Et],d[Et],n[""])):n=C(!0,{},d),i.pointAttr=n}},destroy:function(){if(!this._destroyed){var t,e,i,n,a,r,o=this,s=N[o.chart.guid],l=o.data||[];if(!o._destroyed){for(he(o,"destroy"),ce(o),O(["axisX","axisY"],function(t){(n=o[t])&&(Zt(n.dataSeries,o),n.isDirty=!0)}),o.legendItem&&Oe.call(s.chartLegend,o),t=l.length;t--;)(e=l[t])&&e.destroy&&e.destroy();for(a in o.points=null,clearTimeout(o.animationTimeout),o)o.hasOwnProperty(a)&&((r=o[a])instanceof ye||be&&r instanceof be)&&(o[a]=r.destroy());for(i in s.hoverSeries===o&&(s.hoverSeries=null),Zt(s.dataSeries,o),o)o.hasOwnProperty(i)&&delete o[i];o._destroyed=!0}}},drawDataLabels:function(){var o,s,l,d=this,c=d.options.dataPointText,t=d.points;(c.enabled||d._hasPointLabels)&&(d.dlProcessOptions&&d.dlProcessOptions(c),l=d.plotGroup("dataLabelsGroup","data-axisTickText",d.visible?Pt:Lt,6),o=c,O(t,function(t){var e,i,n,a=t.dataLabel,r=!0;if(s=t.options&&t.options.dataPointText,n=o.enabled||s&&s.enabled,a&&!n)t.dataLabel=a.destroy();else if(n){if(n=c.textAngle,c=R(o,s),s=xt(c.format)?m.format(c.format,{point:t,chart:t.dataSeries.chart}):c.format.call(null,t,t.dataSeries.chart),c.style.color=X(c.color,c.style.color,d.color,"black"),a)a.attr({text:s}),r=!1;else if(_(s)){for(i in e={fill:c.backgroundColor,stroke:c.borderColor,"stroke-width":c.borderWidth,r:c.borderRadius||0,textAngle:n,padding:c.padding,zIndex:1})e.hasOwnProperty(i)&&e[i]===M&&delete e[i];a=t.dataLabel=N[d.chart.guid].renderer[n?"text":"label"](s,0,-999,null,null,null,c.htmlOutput).attr(e).css(c.style).add(l).shadow(c.shadow)}a&&d.alignDataLabel(t,a,c,null,r)}}))},alignDataLabel:function(t,e,i,n,c){var a,r=this.chart,o=N[r.guid],s=o.isInverted,l=X(t.plotX,-999),t=X(t.plotY,-999),d=e.getBBox();n=C({x:s?o.plotWidth-t:l,y:L(s?o.plotHeight-l:t),width:0,height:0},n),C(i,{width:d.width,height:d.height}),i.textAngle?(a={align:i.align,x:n.x+i.x+n.width/2,y:n.y+i.y+n.height/2},e[c?"attr":"animate"](a)):(e.align(i,null,n),a=e.alignAttr),e.attr({visibility:!1===i.hideInvisible||We(r,a.x,a.y)||We(r,l,t,s)?dt?"inherit":Pt:Lt})},getSegmentPath:function(i){var n=this,a=[];return O(i,function(t,e){n.getPointSpline?a.push.apply(a,n.getPointSpline(i,t,e)):(a.push(e?_t:Rt),e&&n.options.step&&(e=i[e-1],a.push(t.plotX,e.plotY)),a.push(t.plotX,t.plotY))}),a},getGraphPath:function(){var e,i=this,n=[],a=[];return O(i.segments,function(t){e=i.getSegmentPath(t),1<t.length?n=n.concat(e):a.push(t[0])}),i.singlePoints=a,i.graphPath=n},drawGraph:function(){var t=this,e=t.options,i=t.graph,n=t.group,a=e.drawColor||t.color,r=e.drawWidth,o=e.seriesDashStyle,s=t.getGraphPath();i?(pe(i),i.animate({d:s})):r&&(i={stroke:a,"stroke-width":r,zIndex:1},o&&(i.dashstyle=o),t.graph=N[t.chart.guid].renderer.path(s).attr(i).add(n).shadow(e.shadow))},invertGroups:function(){var i=this,t=i.chart;function e(){var e={width:i.axisY.len,height:i.axisX.len};O(["group","trackerGroup","markerGroup"],function(t){i[t]&&i[t].attr(e).invert()})}de(t,tt,e),de(i,"destroy",function(){ce(t,tt,e)}),e(),i.invertGroups=e},plotGroup:function(t,d,e,i,n){var a=this,r=a[t],o=N[a.chart.guid],s=a.axisX,l=a.axisY;return r||(a[t]=r=o.renderer.g().attr({visibility:e,zIndex:i||.1}).add(n)),r.translate(s?s.left:o.plotLeft,l?l.top:o.plotTop),r},render:function(){var t=this,e=N[t.chart.guid],i=t.options,n=i.applyAnimation&&!!t.animate,a=t.visible?Pt:Lt,r=i.zIndex,o=t.hasRendered,s=e.seriesGroup,l=t.plotGroup("group","dataSeries",a,r,s);t.markerGroup=t.plotGroup("markerGroup","markers",a,r,s),n&&t.animate(!0),t.getAttribs(),l.isInverted=e.isInverted,t.drawGraph&&t.drawGraph(),t.drawPoints(),t.drawDataLabels(),!1!==t.options.mouseInteractions&&t.drawTracker(),e.isInverted&&t.invertGroups(),!1===i.clip||t.sharedClipKey||o||(l.clip(e.clipRect),this.trackerGroup&&this.trackerGroup.clip(e.clipRect)),n?t.animate():o||t.afterAnimate(),t.isDirty=t.isDirtyData=!1,t.hasRendered=!0},redraw:function(){var t=this,e=N[t.chart.guid],i=(t.isDirtyData,t.group);i&&(e.isInverted&&i.attr({width:e.plotWidth,height:e.plotHeight}),i.animate({translateX:t.axisX.left,translateY:t.axisY.top})),t.translate(),t.setTooltipPoints(!0),t.render()},setState:function(t){var e=this.options,i=this.graph,n=e.activeSettings,e=e.drawWidth;this.state!==(t=t||"")&&(n[this.state=t]&&!1===n[t].enabled||(t&&(e=n[t].drawWidth||e+1),i&&!i.dashstyle&&i.attr({"stroke-width":e},t?0:500)))},toggle:function(t,c){var e,i,n,a=this,r=a.chart,o=N[r.guid],h=a.legendItem,s=a.group,l=a.tracker,p=a.dataLabelsGroup,u=a.markerGroup,d=a.points,g=r.options.scaleAxesForHiddenSeries,f=a.visible;if(a.visible=t=t===M?!f:t,e=t?"show":"hide",s&&s[e](),u&&u[e](),l)l[e]();else if(d)for(i=d.length;i--;)(n=d[i]).tracker&&n.tracker[e]();p&&p[e](),h&&Xe.call(o.chartLegend,a,t),a.isDirty=!0,a.options.stackMode&&O(o.dataSeries,function(t){t.options.stackMode&&t.visible&&(t.isDirty=!0)}),g||(o.isDirtyBox=!0),!1!==c&&r.redraw(),r.trigger("seriesVisibilityChange",{dataSeries:a})},showDataSeries:function(){this.toggle(!0)},hideDataSeries:function(){this.toggle(!1)},drawTracker:function(){var t,e,i=this,n=i.options,a=n.areaInteractivity,r=[].concat(a?i.areaPath:i.graphPath),o=r.length,s=i.chart,l=N[i.chart.guid],c=l.renderer,d=s.options.tooltipSettings.showDistance,s=i.tracker,h=n.cursor,h=h&&{cursor:h},p=i.singlePoints,u=i.isCartesian&&i.plotGroup("trackerGroup",null,Pt,n.zIndex||1,l.trackerGroup);if(o&&!a)for(e=o+1;e--;)r[e]===Rt&&r.splice(e+1,0,r[e+1]-d,r[e+2],_t),(e&&r[e]===Rt||e===o)&&r.splice(e,0,_t,r[e-2]+d,r[e-1]);for(e=0;e<p.length;e++)t=p[e],r.push(Rt,t.plotX-d,t.plotY,_t,t.plotX+d,t.plotY);s?s.attr({d:r}):i.tracker=c.path(r).attr({isTracker:!0,"stroke-linejoin":"bevel",visibility:i.visible?Pt:Lt,stroke:Xt,fill:a?Xt:Dt,"stroke-width":n.drawWidth+(a?0:2*d)}).on(J,function(t){l.hoverSeries!==i&&(i._fromTOUCHSTART=1,i._mouseOver(t))}).on($,function(t){l.hoverSeries!==i&&(1!==i._fromTOUCHSTART?i._mouseOver(t):delete i._fromTOUCHSTART)}).on(q,function(t){n.completeSeriesTrace||i._mouseOut(t)}).css(h).add(u)}},Qt(Ze)),$e=Qt(Vt.line=Ke,{seriesType:"stepline"}),qe=(Vt.stepline=$e,f.stepline=R(f.line,{step:"left"}),f.area=R(me,{baseValue:0,drawWidth:2,pointMark:{enabled:!1}}),Qt(Ze,{seriesType:"area",getSegmentPath:function(t){var e,i=this,n=Ze.prototype.getSegmentPath.call(i,t),a=[].concat(n),r=i.options;if(3===n.length&&a.push(_t,n[1],n[2]),r.stackMode&&!i.closedStacks)for(e=t.length-1;0<=e;e--)e<t.length-1&&r.step&&a.push(t[e+1].plotX,t[e].yBottom),a.push(t[e].plotX,t[e].yBottom);else i.closeSegment(a,t);return i.areaPath=i.areaPath.concat(a),n},closeSegment:function(t,e){var i=_e.call(this.axisY,this.options.baseValue);t.push(_t,e[e.length-1].plotX,i,_t,e[0].plotX,i)},drawGraph:function(){var t=this,e=(t.areaPath=[],Ze.prototype.drawGraph.apply(t),t.areaPath),i=t.options,n=t.area;n?n.animate({d:e}):t.area=N[t.chart.guid].renderer.path(e).attr({fill:X(i.innerColor,new xe(t.color).setOpacity(i.fillOpacity||.75).get()),zIndex:0}).add(t.group)}})),Qe=Qt(Vt.area=qe,{seriesType:"steparea"}),i=(Vt.steparea=Qe,f.steparea=R(f.area,{step:"left"}),f.spline=R(me),Qt(Ze,{seriesType:"spline",getPointSpline:function(t,e,c){var h,i,n,a,r,o,p,s=e.plotX,l=e.plotY,d=t[c-1],t=t[c+1];return d&&t&&(n=d.plotX,i=d.plotY,r=t.plotX,p=((o=(1.5*l+(t=t.plotY))/2.5)-(a=(1.5*l+i)/2.5))*((r=(1.5*s+r)/2.5)-s)/(r-(n=(1.5*s+n)/2.5))+l-o,o+=p,i<(a+=p)&&l<a?o=2*l-(a=z(i,l)):a<i&&a<l&&(o=2*l-(a=G(i,l))),t<o&&l<o?a=2*l-(o=z(t,l)):o<t&&o<l&&(a=2*l-(o=G(t,l))),e.rightContX=r,e.rightContY=o),c?(h=["C",d.rightContX||d.plotX,d.rightContY||d.plotY,n||s,a||l,s,l],d.rightContX=d.rightContY=null):h=[Rt,s,l],h}})),Ke=(Vt.spline=i,f.splinearea=R(f.area),qe.prototype),$e=Qt(i,{seriesType:"splinearea",closedStacks:!0,getSegmentPath:Ke.getSegmentPath,closeSegment:Ke.closeSegment,drawGraph:Ke.drawGraph}),Qe=(Vt.splinearea=$e,f.bar=R(me,{borderColor:"#FFFFFF",borderWidth:0,borderRadius:0,groupPadding:.15,pointMark:null,barOffset:.1,minPointLength:0,pointsLimit:50,pointRange:null,activeSettings:{pointHoveredState:{brightness:.1,shadow:!1},pointSelectedState:{color:"#7AF4F4",shadow:!1}},dataPointText:{align:null,verticalAlign:null,y:null},baseValue:0}),Qt(Ze,{seriesType:"bar",tooltipOutsidePlot:!0,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},isInverted:!1,init:function(){Ze.prototype.init.apply(this,arguments);var e=this,t=N[e.chart.guid];t.hasRendered&&O(t.dataSeries,function(t){t.seriesType===e.seriesType&&(t.isDirty=!0)})},translate:function(){var i,s=this,c=N[s.chart.guid],h=s.enablePolarLayout,t=s.options,p=t.stackMode,u=t.borderWidth,n=0,e=s.axisX,g=e.inverseOrder,f={},m=(Ze.prototype.translate.apply(s),!1===t.divideSeries?n=1:O(c.dataSeries,function(t){var e=t.options;t.seriesType===s.seriesType&&t.visible&&s.options.group===e.group&&(e.stackMode?(i=t.stackKey,f[i]===M&&(f[i]=n++),i=f[i]):!1!==e.divideSeries&&(i=n++),t.columnIndex=i)}),s.points),e=V(e.transA)*(e.ordinalSlope||t.pointRange||e.closestPointRange||1),x=e*t.groupPadding,a=(e-2*x)/n,r=t.dataPointWidth,o=_(r)?(a-r)/2:a*t.barOffset,o=h?o:mt(o),r=X(r,a-2*o),y=h?r:mt(r),v=F(z(y,1+2*u)),r=o+(x+((g?n-s.columnIndex:s.columnIndex)||0)*a-e/2)*(g?-1:1),b=h?r:mt(r),o=t.baseValue,l=s.translatedThreshold=_e.call(s.axisY,o),d=X(t.minPointLength,5);O(m,function(t){var e=t.plotY,i=X(t.yBottom,l),n=t.plotX+b,a=F(G(e,i)),r=F(z(e,i)-a),o=s.axisY.stacks[(t.y<0?"-":"")+s.stackKey];p&&s.visible&&o&&o[t.x]&&o[t.x]._offset(b,v),V(r)<d&&d&&(r=d,a=V(a-l)>d?i-d:l-(e<=l?d:0)),t.barX=n,t.dataPointWidth=y,t.shapeType="rect",t.shapeArgs=o=c.renderer.Element.prototype.crisp.call(0,u,n,a,v,r),u%2&&(--o.y,o.height+=1),t.trackerArgs=V(r)<3&&R(t.shapeArgs,{height:6,y:a-3})})},getSymbol:t,drawGraph:t,drawPoints:function(){var n,a=this,r=a.options,o=N[a.chart.guid].renderer;O(a.points,function(t){var e=t.plotY,i=t.graphic;e===M||isNaN(e)||null===t.y?i&&(t.graphic=i.destroy()):(n=t.shapeArgs,i?(pe(i),i.animate(R(n))):t.graphic=i=o[t.shapeType](n).attr(t.pointAttr[t.selected?Et:""]).add(a.group).shadow(r.shadow,null,r.stackMode&&!r.borderRadius))})},drawTracker:function(){var t,i,n,a,r=this,o=N[r.chart.guid],s=o.renderer,l=+new Date,d=r.options,e=d.cursor,c=e&&{cursor:e},h=r.isCartesian&&r.plotGroup("trackerGroup",null,Pt,d.zIndex||1,o.trackerGroup);O(r.points,function(e){i=e.tracker,t=e.trackerArgs||e.shapeArgs,a=e.plotY,a=!r.isCartesian||a!==M&&!isNaN(a),delete t.strokeWidth,null!==e.y&&a&&(i?i.attr(t):e.tracker=s[e.shapeType](t).attr({isTracker:l,fill:Xt,visibility:r.visible?Pt:Lt}).on(J,function(t){e._fromTOUCHSTART=1,n=t.relatedTarget||t.fromElement,o.hoverSeries!==r&&Kt(n,"isTracker")!==l&&r._mouseOver(t),e._mouseOver(t)}).on($,function(t){1!==e._fromTOUCHSTART?(n=t.relatedTarget||t.fromElement,o.hoverSeries!==r&&Kt(n,"isTracker")!==l&&r._mouseOver(t),e._mouseOver(t)):delete e._fromTOUCHSTART}).on(q,function(t){d.completeSeriesTrace||Kt(n=t.relatedTarget||t.toElement,"isTracker")!==l&&r._mouseOut(t)}).css(c).add(e.group||h))})},alignDataLabel:function(t,e,i,n,a){var r=N[this.chart.guid],o=r.isInverted,s=t.below||t.plotY>(this.translatedThreshold||r.plotSizeY),l=this.options.stackMode||i.inside;t.shapeArgs&&(n=R(t.shapeArgs),o&&(n={x:r.plotWidth-n.y-n.height,y:r.plotHeight-n.x-n.width,width:n.height,height:n.width}),l||(o?(n.x+=s?0:n.width,n.width=0):(n.y+=s?n.height:0,n.height=0))),i.align=X(i.align,!o||l?"center":s?"right":"left"),i.verticalAlign=X(i.verticalAlign,o||l?"middle":s?"top":"bottom"),Ze.prototype.alignDataLabel.call(this,t,e,i,n,a)},animate:function(t){var a=this,e=a.points,r=a.options;t||(O(e,function(t){var e=t.graphic,t=t.shapeArgs,i=a.axisY,n=r.baseValue;e&&(e.attr({height:0,y:_(n)?_e.call(i,n):i.translate(Me.call(i).min,0,1,0,1)}),e.animate({height:t.height,y:t.y},r.applyAnimation))}),a.animate=null)},remove:function(){var e=this,t=N[e.chart.guid];t.hasRendered&&O(t.dataSeries,function(t){t.seriesType===e.seriesType&&(t.isDirty=!0)}),Ze.prototype.remove.apply(e,arguments)}})),Je=(Vt.bar=Qe,f.scatter=R(me,{drawWidth:0,activeSettings:{pointHoveredState:{drawWidth:0}},tooltipSettings:{customHeaderText:"{point.pointName}",customPointText:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b>"}}),Qt(Ze,{seriesType:"scatter",sorted:!1,translate:function(){var e=this;Ze.prototype.translate.apply(e),O(e.points,function(t){t.shapeType="circle",t.shapeArgs={x:t.plotX,y:t.plotY,r:e.chart.options.tooltipSettings.showDistance}})},drawTracker:function(){for(var t,e=this,i=e.options.cursor,i=i&&{cursor:i},n=e.points,a=n.length;a--;)(t=n[a].graphic)&&(t.element._i=a);e._hasTracking?e._hasTracking=!0:e.markerGroup.attr({isTracker:!0}).on(J,function(t){e._fromTOUCHSTART=1,e._mouseOver(t),t.target._i!==M&&n[t.target._i]._mouseOver(t)}).on($,function(t){1!==e._fromTOUCHSTART?(e._mouseOver(t),t.target._i!==M&&n[t.target._i]._mouseOver(t)):delete e._fromTOUCHSTART}).on(q,function(t){e.options.completeSeriesTrace||e._mouseOut(t)}).css(i)}})),qe=(Vt.scatter=Je,f.bubble=R(f.scatter,{pointMark:{drawWidth:1,activeSettings:{pointHoveredState:{innerColor:null},pointSelectedState:{innerColor:null}}},tooltipSettings:{customHeaderText:"{point.pointName}",customPointText:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>size: <b>{point.size}</b>"}}),Qt(Je,{seriesType:"bubble",translate:function(){var e,i,n,a,r,t=this,o=t.chart,o=N[o.guid],s=z(10,mt(G(o.plotHeight,o.plotWidth)/5))-10;Je.prototype.translate.apply(t),O(t.points,function(t){t._rad=a=H.sqrt(t.size/Z),(e===M||a<e)&&(e=a),(i===M||i<a)&&(i=a)}),n=i-e,e<10&&(r=e,e=i=M,O(t.points,function(t){t._rad=a=10*t._rad/r,(e===M||a<e)&&(e=a),(i===M||i<a)&&(i=a)}),n=i-e),s<=n&&O(t.points,function(t){t._rad=10+(t._rad-e)*s/n})},drawPoints:function(){O(this.points,function(e){O(["",Ot,Et],function(t){C(e.pointAttr[t],{r:e._rad,fill:new xe(e.pointAttr[t].fill).setOpacity(""==t?.75:1).get()})})}),Ze.prototype.drawPoints.apply(this)}}));function ti(t,e,i){var n=this,a=n.dataSeries.chart,r=N[a.guid],o=n.slicedTranslation;le(i,a),e=X(e,!0),i={translateX:(t=n.sliced=_(t)?t:!n.sliced)?o[0]:r.plotLeft,translateY:t?o[1]:r.plotTop},n.group.animate(i),n.shadowGroup&&n.shadowGroup.animate(i)}Vt.bubble=qe,f.pie=R(me,{borderColor:"#FFFFFF",borderWidth:0,center:["50%","50%"],separateColors:!0,dataPointText:{distance:30,enabled:!0,format:function(t,e){return e&&e.options&&e.options.axisX&&e.options.axisX.categoricalValues&&e.options.axisX.categoricalValues[t.x]!==M?e.options.axisX.categoricalValues[t.x]:t.y}},legendType:it,pointMark:null,size:"75%",addToLegend:!1,slicedOffset:10,activeSettings:{pointHoveredState:{brightness:.1,shadow:!1}},tooltipSettings:{customHeaderText:"{point.dataSeries.collectionAlias}",customPointText:function(t,e){e=e&&e.options&&e.options.axisX&&e.options.axisX.categoricalValues&&e.options.axisX.categoricalValues[t.x]!==M?e.options.axisX.categoricalValues[t.x]:t.pointName||t.collectionAlias||t.dataSeries.collectionAlias;return"<span>"+e+"</span>: "+t.y}}});var i={seriesType:"pie",isCartesian:!1,pointClass:Qt(je,{init:function(){je.prototype.init.apply(this,arguments);var t,e=this;return C(e,{visible:!1!==e.visible,collectionAlias:X(e.collectionAlias,"Sector")}),_(e.selected)?e.selected=e.sliced=!!e.selected:_(e.sliced)&&(e.selected=e.sliced=!!e.sliced),de(e,"pointSelect",t=function(){ti.call(e)}),de(e,"pointDeselect",t),e},toggle:function(t){var e,i=this,n=i.dataSeries,a=n.chart,r=N[n.chart.guid],o=i.tracker,s=i.dataLabel,l=i.connector,d=i.shadowGroup;i.visible=t=t===M?!i.visible:t,i.group[e=t?"show":"hide"](),o&&o[e](),s&&s[e](),l&&l[e](),d&&d[e](),i.legendItem&&Xe.call(r.chartLegend,i,t),!n.isDirty&&n.options.ignoreHiddenPoint&&(n.isDirty=!0,a.redraw())}}),pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=N[this.chart.guid].counters.color},animate:function(){var n=this,t=n.points;O(t,function(t){var e=t.graphic,t=t.shapeArgs,i=-Z/2;e&&(e.attr({r:0,start:i,end:i}),e.animate({r:t.r,start:t.start,end:t.end},n.options.applyAnimation))}),n.animate=null},setItemSource:function(t,e){Ze.prototype.setItemSource.call(this,t,!1),this.processData(),this.generatePoints(),X(e,!0)&&this.chart.redraw()},getCenter:function(){var t=this.options,e=N[this.chart.guid],i=e.plotWidth,n=e.plotHeight,e=t.center.concat([t.size,t.innerSize||0]),a=G(i,n);return fe(e,function(t,e){return/%$/.test(t)?[i,n,a,a][e]*mt(t)/100:t})},translate:function(){this.generatePoints();var i,n,c,t,e,a,r,o=0,s=this,h=-.25,l=s.options,p=l.slicedOffset,u=p+l.borderWidth,g=N[s.chart.guid],f=s.points,m=2*Z,d=l.dataPointText.distance,x=l.ignoreHiddenPoint,y=f.length;for(s.center=i=s.getCenter(),s.getX=function(t,e){return n=H.asin((t-i[1])/(i[2]/2+d)),i[0]+(e?-1:1)*(U(n)*(i[2]/2+d))},a=0;a<y;a++)r=f[a],o+=x&&!r.visible?0:r.y;for(a=0;a<y;a++)r=f[a],c=o?r.y/o:0,e=L(h*m*1e3)/1e3,x&&!r.visible||(h+=c),t=L(h*m*1e3)/1e3,r.shapeType="arc",r.shapeArgs={x:i[0],y:i[1],r:i[2]/2,innerR:i[3]/2,start:e,end:t},n=(t+e)/2,r.slicedTranslation=fe([U(n)*p+g.plotLeft,j(n)*p+g.plotTop],L),t=U(n)*i[2]/2,e=j(n)*i[2]/2,r.tooltipPos=[i[0]+.7*t,i[1]+.7*e],r.labelPos=[i[0]+t+U(n)*d,i[1]+e+j(n)*d,i[0]+t+U(n)*u,i[1]+e+j(n)*u,i[0]+t,i[1]+e,d<0?"center":n<m/4?"left":"right",n],r.percentage=100*c,r.total=o;s.setTooltipPoints()},render:function(){var t=this;t.getAttribs(),t.drawPoints(),!1!==t.options.mouseInteractions&&t.drawTracker(),t.drawDataLabels(),t.options.applyAnimation&&t.animate&&t.animate(),t.isDirty=!1},drawPoints:function(){var e,i,n,a,r,o=this,s=N[o.chart.guid],l=s.renderer,d=o.options.shadow;O(o.points,function(t){i=t.graphic,r=t.shapeArgs,n=t.group,a=t.shadowGroup,d&&!a&&(a=t.shadowGroup=l.g().attr({zIndex:4}).add()),n=n||(t.group=l.g().attr({zIndex:5}).add()),e=t.sliced?t.slicedTranslation:[s.plotLeft,s.plotTop],n.translate(e[0],e[1]),a&&a.translate(e[0],e[1]),i?i.animate(r):t.graphic=i=l.arc(r).setRadialReference(o.center).attr(C(t.pointAttr[""],{"stroke-linejoin":"round"})).add(t.group).shadow(d,a),!1===t.visible&&t.toggle(!1)})},drawDataLabels:function(){var c,h,p,u,t,e=this,g=e.data,f=N[e.chart.guid],i=e.options.dataPointText,m=X(i.connectorPadding,10),x=X(i.connectorWidth,1),y=i.distance,v=e.center,b=v[2]/2,w=v[1],T=0<y,k=[[],[]],S=2;if(i.enabled||e._hasPointLabels)for(Ze.prototype.drawDataLabels.apply(e),O(g,function(t){t.dataLabel&&k[t.labelPos[7]<Z/2?0:1].push(t)}),k[1].reverse(),u=function(t,e){return e.y-t.y},c=k[0][0]&&k[0][0].dataLabel&&(k[0][0].dataLabel.getBBox().height||21);S--;){var A,P,n,a,r,L,o,s=[],C=[],M=k[S],l=M.length;if(0<y){for(P=w-b-y;P<=w+b+y;P+=c)s.push(P);if((A=s.length)<l){for((p=[].concat(M)).sort(u),t=l;t--;)p[t].rank=t;for(t=l;t--;)M[t].rank>=A&&M.splice(t,1);l=M.length}for(t=0;t<l;t++){for(var _,R,d=(_=M[t]).labelPos,D=9999,I=0;I<A;I++)(R=V(s[I]-d[1]))<D&&(D=R,n=I);if(n<t&&null!==s[t])n=t;else if(A<l-t+n&&null!==s[t])for(n=A-l+t;null===s[n];)n++;else for(;null===s[n];)n++;C.push({i:n,y:s[n]}),s[n]=null}C.sort(u)}for(t=0;t<l;t++)d=(_=M[t]).labelPos,r=_.dataLabel,h=!1===_.visible?Lt:Pt,o=d[1],0<y?(n=(a=C.pop()).i,((a=a.y)<o&&null!==s[n+1]||o<a&&null!==s[n-1])&&(a=o)):a=o,o=i.justify?v[0]+(S?-1:1)*(b+y):e.getX(0===n||n===s.length-1?o:a,S),r.attr({visibility:h,align:d[6]})[r.moved?"animate":"attr"]({x:o+i.x+({left:m,right:-m}[d[6]]||0),y:a+i.y-10}),r.moved=!0,T&&x&&(r=_.connector,o=o+("left"===d[6]?8:-8),o=[Rt,o,L=a,_t,o+("left"===d[6]?-10:10),L,_t,d[4],d[5]],r?(r.animate({d:o}),r.attr("visibility",h)):_.connector=r=f.renderer.path(o).attr({"stroke-width":x,stroke:i.connectorColor||_.color||"#606060",visibility:h,zIndex:3}).translate(f.plotLeft,f.plotTop).add())}},alignDataLabel:t,drawTracker:Qe.prototype.drawTracker,getSymbol:t},i=Qt(Ze,i),Ke=(Vt.pie=i,f.donut=R(f.pie,{innerSize:"45%"}),Qt(i,{seriesType:"donut"})),ei=(Vt.donut=Ke,{_init:function(){var t=this;t.container=p("<div class='shield-lightbox' />"),t.mask=p("<div class='shield-lightbox-mask' />").appendTo(t.container),t.imageBox=p("<div class='shield-lightbox-imagebox' />").appendTo(t.container),t.image=p("<img />").appendTo(t.imageBox),t.caption=p("<p>Right-click and save image to disk. Left-click to dismiss.</p>").appendTo(t.imageBox),t.window=p(k),t.document=p(Y),t.body=p(Y.body)},show:function(t){var e=this;function i(){e.visible&&(e.container.appendTo(e.body),e.window.on(tt+e.ns,n),e.window.on("keydown"+e.ns,function(t){27===t.keyCode&&e.hide()}),e.container.on(et+e.ns,p.proxy(e.hide,e)),setTimeout(n,1e3/60))}function n(){e.mask.css({height:e.document.innerHeight()}),e.image.css({maxWidth:e.mask.width()-(e.image.outerWidth()-e.image.width())-2*e.margin,maxHeightINTERNAL:e.mask.height()-(e.image.outerHeight()-e.image.height())-2*e.margin}),e.imageBox.css({left:(e.document.innerWidth()-e.imageBox.outerWidth())/2,top:(e.window.innerHeight()-e.imageBox.outerHeight())/2+e.document.scrollTop()}),e.caption.css({left:(e.imageBox.width()-e.caption.outerWidth())/2+"px"})}e.visible||(e.visible=!0,e.container||e._init(),e.image.attr("src")===t?i():e.image.on("load"+e.ns,i).attr("src",t).attr("alt","Right-click and save image to disk"))},hide:function(){this.container.detach(),this.window.off(this.ns),this.visible=!1},ns:".shield",visible:!1,container:null,mask:null,imageBox:null,image:null,caption:null,window:null,document:null,body:null,margin:40}),ii=(He.defaults.exportOptions={image:!0,print:!0,exportTooltip:"Export the chart to an image",printTooltip:"Print the chart"},C(He.prototype,{exportToImage:function(){if(ct){var t=p(N[this.guid].container),e=t.html(),t=p("<canvas />").attr("width",t.width()).attr("height",t.height())[0];if(typeof canvg!=u)throw"Export requires canvg: https://code.google.com/p/canvg/";e=(e=(e=e.replace(/(xmlns="[^\"]*")(.*?)\1/,"$1$2")).replace(/<(filter)\b[^>]*>.*?<\/\1>/gim,"")).replace(/\bfilter\b=(["']).*?\1/gim,""),canvg(t,e),ei.show(t.toDataURL())}},print:function(){var t=p("<iframe />").css({position:"absolute",left:"-10000px",top:"-10000px"}).appendTo(Y.body)[0],e=t.contentWindow.document;e.open("text/html","replace"),e.write(N[this.guid].container.innerHTML),e.close(),t.contentWindow.print(),setTimeout(function(){Y.body.removeChild(t),t=null},100)}}),Fe.push(function(t){var e,i=t.options.exportOptions,n=[];!1!==i&&((i.image&&ct||i.print)&&(e=p('<div class="shield-buttons" />').appendTo(t.element)),i.image&&ct&&n.push(p('<button class="shield-chart-button" type="button" title="'+i.exportTooltip+'"><div class="sui-sprite shield-export-button-img" /></button>').on("click.shield",p.proxy(t.exportToImage,t)).appendTo(e)),i.print&&n.push(p('<button class="shield-chart-button" type="button" title="'+i.printTooltip+'"><div class="sui-sprite shield-print-button-img" /></button>').on("click.shield",p.proxy(t.print,t)).appendTo(e)),p(t).bind("destroy",function(t){p(n).each(function(t,e){e.off(".shield").remove()})}))}),Vt.bar.prototype);function ni(t,e,i){this.init.call(this,t,e,i)}C(ni.prototype,{init:function(t,e,i){var n=this,a=n.defaults;n.chart=e,N[e.guid].angular&&(a.background={}),n.options=t=R(a,t),(e=t.background)&&O([].concat(kt(e)).reverse(),function(t){var e=t.backgroundColor;t=R(n.defaultBackgroundOptions,t),e&&(t.backgroundColor=e),t.color=t.backgroundColor,i.options.plotBands.unshift(t)})},defaults:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:Number.MIN_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var ai=Re.prototype,$e=we.prototype,ri={_offset:t,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},_scale:t,_points:t,_title:t},oi={radialGauge:{axisTickText:{align:"center",x:0,y:null},minorPlotStripWidth:0,minorTicksRepeat:"auto",minorTicksHeight:10,minorTicksPlacementINTERNAL:"inside",minorTickWidth:1,plotBands:[],tickLength:10,tickPosition:"inside",tickWidth:2,title:{textAngle:0},zIndex:2},radialX:{plotStripWidth:1,axisTickText:{align:null,distance:15,x:0,y:null},endOffset:0,startOffset:0,plotBands:[],lastTickTextVisible:!1,tickLength:0},radialY:{gridLineInterpolationINTERNAL:"circle",axisTickText:{align:"right",x:-3,y:-2},plotBands:[],lastTickTextVisible:!1,title:{x:4,text:null,textAngle:90}}},si={radial:!0,setOptions:function(t,e){this.options=R(Se.defaults,t,this.defaultRadialOptions,this.isXAxis?e.initialOptions.axisX:e.initialOptions.axisY)},_offset:function(){var t=this;ai._offset.call(t),N[t.chart.guid].axisOffset[t.side]=0,t.center=t.pane.center=Vt.pie.prototype.getCenter.call(t.pane)},_path:function(t,e){var i=this,n=i.center;return e=X(e,n[2]/2-i.offset),N[i.chart.guid].renderer.symbols.arc(i.left+n[0],i.top+n[1],e,e,{start:i.startAngleRad,end:i.endAngleRad,open:!0,innerR:0})},_arrange:function(){var t=this;ai._arrange.call(t),t.center&&(t.isCircular?t.transA=(t.endAngleRad-t.startAngleRad)/(t.max-t.min||1):t.transA=t.center[2]/2/(t.max-t.min||1),t.isXAxis&&(t.minPixelPadding=t.transA*t.minPointOffset+(t.inverseOrder?(t.endAngleRad-t.startAngleRad)/4:0)))},_preTicks:function(){var t=this;t.autoConnect&&(t.max+=(t.categoricalValues?1:t.pointRange)||t.closestPointRange)},_dimensions:function(){var t=this;ai._dimensions.call(t),t.center&&(t.len=t.width=t.height=t.isCircular?t.center[2]*(t.endAngleRad-t.startAngleRad)/2:t.center[2]/2)},_position:function(t,e){var i=this;return i.isCircular||(e=i.translate(t),t=i.min),i.postTranslate(i.translate(t),X(e,i.center[2]/2)-i.offset)},postTranslate:function(t,e){var i=N[this.chart.guid],n=this.center;return t=this.startAngleRad+t,{x:i.plotLeft+n[0]+U(t)*e,y:i.plotTop+n[1]+j(t)*e}},_bandPath:function(t,e,i){var n,a,r,o=this,s=o.center,l=o.startAngleRad,c=s[2]/2,d=[X(i.outerRadius,"100%"),i.innerRadius,X(i.thickness,10)],h=/%$/,p=o.isCircular,i="polygon"===o.options.gridLineInterpolationINTERNAL?o._linePath(t).concat(o._linePath(e,!0)):(p||(d[0]=o.translate(t),d[1]=o.translate(e)),d=fe(d,function(t){return t=h.test(t)?mt(t,10)*c/100:t}),"circle"!==i.shape&&p?(n=l+o.translate(t),a=l+o.translate(e)):(n=-Z/2,a=1.5*Z,r=!0),N[o.chart.guid].renderer.symbols.arc(o.left+s[0],o.top+s[1],d[0],d[0],{start:n,end:a,innerR:X(d[1],d[0]-d[2]),open:r}));return i},_linePath:function(i,t){var n,a,r,e=this,o=e.center,s=N[e.chart.guid],l=e._position(i);return e.isCircular?r=["M",o[0]+s.plotLeft,o[1]+s.plotTop,"L",l.x,l.y]:"circle"===e.options.gridLineInterpolationINTERNAL?(i=e.translate(i))&&(r=e._path(0,i)):(n=s.axisX[0],r=[],i=e.translate(i),o=n.tickPositions,n.autoConnect&&(o=o.concat([o[0]])),t&&(o=[].concat(o).reverse()),O(o,function(t,e){a=n._position(t,i),r.push(e?"L":"M",a.x,a.y)})),r},_titlePos:function(){var t=this.center,e=N[this.chart.guid],i=this.options.title;return{x:e.plotLeft+t[0]+(i.x||0),y:e.plotTop+t[1]-{high:.5,middle:.25,low:0}[i.align]*t[2]+(i.y||0)}}},qe=(Vt.polarline=Qt(Vt.line,{seriesType:"polarline",enablePolarLayout:!0}),f.polarline=R(f.line,f.polarline),Vt.polararea=Qt(Vt.area,{seriesType:"polararea",enablePolarLayout:!0}),f.polararea=R(f.area,f.polararea),Vt.polarbar=Qt(Vt.bar,{seriesType:"polarbar",enablePolarLayout:!0}),f.polarbar=R(f.bar,f.polarbar,{pointRange:0}),Vt.polarspline=Qt(Vt.spline,{seriesType:"polarspline",enablePolarLayout:!0}),f.polarspline=R(f.spline,f.polarspline),Vt.polarsplinearea=Qt(Vt.splinearea,{seriesType:"polarsplinearea",enablePolarLayout:!0}),f.polarsplinearea=R(f.splinearea,f.polarsplinearea),Vt.polarscatter=Qt(Vt.scatter,{seriesType:"polarscatter",enablePolarLayout:!0}),f.polarscatter=R(f.scatter,f.polarscatter),Jt(ai,"init",function(t,e,i){var n,a=this,r=N[e.guid],o=r.angular,s=r.enablePolarLayout,l=i.isX,d=o&&l,c=e.options,h=i.pane||0;o?(C(a,d?ri:si),(n=!l)&&(a.defaultRadialOptions=oi.radialGauge)):s&&(C(a,si),a.defaultRadialOptions=(n=l)?oi.radialX:R(Se.y,oi.radialY)),t.call(a,e,i),d||!o&&!s||(l=a.options,r.panes||(r.panes=[]),a.pane=r.panes[h]=t=new ni(kt(c.pane)[h],e,a),d=t.options,r.inverted=!1,c.zoomType=null,a.startAngleRad=o=(d.startAngle-90)*Z/180,a.endAngleRad=s=(X(d.endAngle,d.startAngle+360)-90)*Z/180,a.offset=l.offset||0,(a.isCircular=n)&&i.max===M&&s-o==2*Z&&(a.autoConnect=!0))}),Jt($e,"_position",function(t,e,i,n,a){var r=this.axis;return r._position?r._position(i):t.call(this,e,i,n,a)}),Jt($e,"_labelPos",function(t,e,i,n,c,a,h,p,u){var r,o=this.axis,s=a.y,l=a.align,d=(o.translate(this.pos)+o.startAngleRad+Z/2)/Z*180;return o.radial?(r=o._position(this.pos,o.center[2]/2+X(a.distance,-25)),"auto"===a.textAngle?n.attr({textAngle:d}):null===s&&(s=.9*mt(n.styles.lineHeight)-n.getBBox().height/2),null===l&&(l=o.isCircular?20<d&&d<160?"left":200<d&&d<340?"right":"center":"center",n.attr({align:l})),r.x+=a.x,r.y+=s):r=t.call(this,e,i,n,c,a,h,p,u),r}),Jt($e,"_markPath",function(t,e,i,n,a,r,o){var s=this.axis,s=s.radial?["M",e,i,"L",(s=s._position(this.pos,s.center[2]/2+n)).x,s.y]:t.call(this,e,i,n,a,r,o);return s}),f.rangearea=R(f.area,{drawWidth:1,pointMark:null,baseValue:null,tooltipSettings:{customPointText:'<span style="color:{point.dataSeries.color}">{point.dataSeries.collectionAlias}</span>: <b>{point.low}</b> - <b>{point.high}</b><br/>'},areaInteractivity:!0,dataPointText:{verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},shadow:!1}),Qt(je,{setOptions:function(t,e){var i=this,n=i.dataSeries,a=n.pointArrayMap,r=0,o=0,s=a.length;if("object"==typeof t&&"number"!=typeof t.length)C(i,t),i.options=t;else if(t.length)for(t.length>s&&("string"==typeof t[0]?i.collectionAlias=t[0]:"number"==typeof t[0]&&(i.x=t[0]),r++);o<s;)i[a[o++]]=t[r++];return i.y=i[n.pointValKey],i.x===M&&n&&(i.x=e===M?n.autoIncrement():e),i},toArray:function(){return[this.low,this.high]}})),li=(Vt.rangearea=Qt(Vt.area,{seriesType:"rangearea",pointArrayMap:["low","high"],pointClass:qe,pointValKey:"low",translate:function(){var e=this.axisY;Vt.area.prototype.translate.apply(this),O(this.points,function(t){null!==t.y&&(t.plotLow=t.plotY,t.plotHigh=e.translate(t.high,0,1,0,1))})},getSegmentPath:function(t){for(var e,i,n=this,a=[],r=t.length,o=Ze.prototype.getSegmentPath,s=n.options,l=s.step;r--;)e=t[r],a.push({plotX:e.plotX,plotY:e.plotHigh});return i=o.call(n,t),l&&(s.step={left:"right",center:"center",right:"left"}[l=!0===l?"left":l]),o=o.call(n,a),s.step=l,s=[].concat(i,o),o[0]="L",n.areaPath=n.areaPath.concat(i,o),s},drawDataLabels:function(){var t,e,i=this,n=i.data,a=n.length,r=[],o=Ze.prototype,s=i.options.dataPointText,l=N[i.chart.guid].inverted;if(s.enabled||i._hasPointLabels){for(t=a;t--;)(e=n[t]).y=e.high,e.plotY=e.plotHigh,r[t]=e.dataLabel,e.dataLabel=e.dataLabelUpper,e.below=!1,l?(s.align="left",s.x=s.xHigh):s.y=s.yHigh;for(o.drawDataLabels.apply(i,arguments),t=a;t--;)(e=n[t]).dataLabelUpper=e.dataLabel,e.dataLabel=r[t],e.y=e.low,e.plotY=e.plotLow,e.below=!0,l?(s.align="right",s.x=s.xLow):s.y=s.yLow;o.drawDataLabels.apply(i,arguments)}},alignDataLabel:Vt.bar.prototype.alignDataLabel,getSymbol:Vt.bar.prototype.getSymbol,drawPoints:t}),f.rangesplinearea=R(f.rangearea),Vt.rangesplinearea=Qt(Vt.rangearea,{seriesType:"rangesplinearea",getPointSpline:Vt.spline.prototype.getPointSpline}),f.rangebar=R(f.bar,f.rangearea,{drawWidth:1,pointRange:null}),Vt.rangebar=Qt(Vt.rangearea,{seriesType:"rangebar",translate:function(){var i,n=this.axisY;ii.translate.apply(this),O(this.points,function(t){var e=t.shapeArgs;t.plotHigh=i=n.translate(t.high,0,1,0,1),t.plotLow=t.plotY,e.y=i,e.height=t.plotY-i,t.trackerArgs=e})},drawGraph:t,pointAttrToOptions:ii.pointAttrToOptions,drawPoints:ii.drawPoints,drawTracker:ii.drawTracker,animate:ii.animate}),Ze.prototype),me=Ne.prototype;function di(t,e,i){var n=this,a=N[e.guid];t.call(n,e,i),a.enablePolarLayout&&(n.closeSegment=function(t){var e=n.axisX.center;t.push("L",e[0],e[1])},n.closedStacks=!0)}function ci(c,t){var e,i=this,n=N[i.chart.guid],a=i.options.applyAnimation,r=i.group,o=i.markerGroup,s=i.axisX.center,l=n.plotLeft,d=n.plotTop;n.enablePolarLayout?n.renderer.isSVG&&!at&&(!0===a&&(a={}),t?(r.attrSetters.scaleX=r.attrSetters.scaleY=function(t,e){var i=this;return i[e]=t,i.scaleX!==M&&i.scaleY!==M&&i.element.setAttribute("transform","translate("+i.translateX+","+i.translateY+") scale("+i.scaleX+","+i.scaleY+")"),!1},e={translateX:s[0]+l,translateY:s[1]+d,scaleX:0,scaleY:0},r.attr(e),o&&(o.attrSetters=r.attrSetters,o.attr(e))):(r.animate(e={translateX:l,translateY:d,scaleX:1,scaleY:1},a),o&&o.animate(e,a),i.animate=null)):c.call(i,t)}li.toXY=function(t){var e=N[this.chart.guid],i=t.plotX,n=t.plotY;t.rectPlotX=i,t.rectPlotY=n,t.deg=i/Z*180,i=this.axisX.postTranslate(t.plotX,this.axisY.len-n),t.plotX=t.polarPlotX=i.x-e.plotLeft,t.plotY=t.polarPlotY=i.y-e.plotTop},Jt(Vt.area.prototype,"init",di),Jt(Vt.splinearea.prototype,"init",di),Jt(Vt.spline.prototype,"getPointSpline",function(c,t,e,h){var p,i,n,a,r,o,s,l,u,g,f,d;return N[this.chart.guid].enablePolarLayout?(i=e.plotX,n=e.plotY,a=t[h-1],l=t[h+1],this.connectEnds&&(a=a||t[t.length-2],l=l||t[1]),a&&l&&(r=a.plotX,o=(1.5*n+a.plotY)/2.5,s=(1.5*i+l.plotX)/2.5,l=(1.5*n+l.plotY)/2.5,u=H.sqrt(H.pow((r=(1.5*i+r)/2.5)-i,2)+H.pow(o-n,2)),g=H.sqrt(H.pow(s-i,2)+H.pow(l-n,2)),d=H.atan2(o-n,r-i),f=H.atan2(l-n,s-i),V(d-(d=Z/2+(d+f)/2))>Z/2&&(d-=Z),r=i+U(d)*u,o=n+j(d)*u,s=i+U(Z+d)*g,l=n+j(Z+d)*g,e.rightContX=s,e.rightContY=l),h?(p=["C",a.rightContX||a.plotX,a.rightContY||a.plotY,r||i,o||n,i,n],a.rightContX=a.rightContY=null):p=["M",i,n]):p=c.call(this,t,e,h),p}),Jt(li,"translate",function(t){var e=this;if(t.call(e),N[e.chart.guid].enablePolarLayout&&!e.preventPostTranslate)for(var i=e.points,n=i.length;n--;)e.toXY(i[n])}),Jt(li,"getSegmentPath",function(t,e){var i=this,n=i.points;return N[i.chart.guid].enablePolarLayout&&!1!==i.options.connectEnds&&e[e.length-1]===n[n.length-1]&&null!==n[0].y&&(i.connectEnds=!0,e=[].concat(e,[n[0]])),t.call(i,e)}),Jt(li,"animate",ci),Jt(ii,"animate",ci),Jt(li,"setTooltipPoints",function(t,e){return N[this.chart.guid].enablePolarLayout&&C(this.axisX,{tooltipLen:360,tooltipPosName:"deg"}),t.call(this,e)}),Jt(ii,"translate",function(t){var e,i,n,a,r=this,o=r.axisX,s=r.axisY.len,l=o.center,d=o.startAngleRad,c=N[r.chart.guid].renderer;if(r.preventPostTranslate=!0,t.call(r),o.radial)for(a=(i=r.points).length;a--;)e=(n=i[a]).barX+d,n.shapeType="path",n.shapeArgs={d:c.symbols.arc(l[0],l[1],s-n.plotY,null,{start:e,end:e+n.dataPointWidth,innerR:s-X(n.yBottom,s)})},r.toXY(n)}),Jt(ii,"alignDataLabel",function(t,e,i,n,a,r){var o;N[this.chart.guid].enablePolarLayout?(o=e.rectPlotX/Z*180,null===n.align&&(n.align=20<o&&o<160?"left":200<o&&o<340?"right":"center"),null===n.verticalAlign&&(n.verticalAlign=o<45||315<o?"bottom":135<o&&o<225?"top":"middle"),li.alignDataLabel.call(this,e,i,n,a,r)):t.call(this,e,i,n,a,r)}),Jt(me,"_index",function(t,e){var i,n,a=N[this.chart.guid],a=a.enablePolarLayout?(n=a.axisX[0].center,i=e.chartX-n[0]-a.plotLeft,n=e.chartY-n[1]-a.plotTop,180-L(H.atan2(i,n)/Z*180)):t.call(this,e);return a}),Jt(me,"_coord",function(t,a){var r=N[this.chart.guid],o={axisX:[],axisY:[]};return r.enablePolarLayout?O(r.axes,function(t){var e=t.isXAxis,i=t.center,n=a.chartX-i[0]-r.plotLeft,i=a.chartY-i[1]-r.plotTop;o[e?"axisX":"axisY"].push({axis:t,value:t.translate(e?Z-H.atan2(n,i):H.sqrt(H.pow(n,2)+H.pow(i,2)),!0)})}):o=t.call(this,a),o})}(jQuery,shield,this),shield.ui.Chart.themes.bootstrap={seriesPalette:["#428BCA","#F0AD4E","#5CB85C","#D9534F","#5BC0DE","#474949","#84B3DC","#DDC01A","#878989","#DFF0D8"],primaryHeader:{style:{color:"#333333"}},secondaryHeader:{style:{color:"#333333"}},backgroundColor:"",borderWidth:0,chartAreaBackgroundColor:"",chartAreaShadow:!1,chartAreaBorderWidth:0,seriesSettings:{scatter:{activeSettings:{pointHoveredState:{drawWidth:4}},pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:null,activeSettings:{pointHoveredState:{innerColor:"#FFFFFF"}}}},area:{drawWidth:2,pointMark:{enabled:!1,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#FFFFFF",activeSettings:{pointHoveredState:{innerColor:null}}}},splinearea:{drawWidth:2,pointMark:{enabled:!1,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#FFFFFF",activeSettings:{pointHoveredState:{innerColor:null}}}},line:{drawWidth:3,shadow:!1,mouseInteractions:!0,pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#FFFFFF",activeSettings:{pointHoveredState:{innerColor:null}}}},spline:{drawWidth:3,shadow:!1,activeSettings:{pointHoveredState:{drawWidth:4}},pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#FFFFFF",activeSettings:{pointHoveredState:{innerColor:null}}}},pie:{dataPointText:{style:{color:"#333333"}}},donut:{dataPointText:{style:{color:"#333333"}}}},axisX:{drawWidth:1,drawColor:"#888888",ticksColor:"#888888",axisTickText:{style:{color:"#333333"},y:17},title:{style:{color:"#333333"}}},axisY:{drawColor:"#888888",ticksColor:"#888888",plotStripColor:"#888888",axisTickText:{style:{color:"#333333"}},title:{style:{color:"#333333"}}},chartLegend:{legendItemSettings:{elementStyle:{color:"#333333"},mouseOverStyle:{color:"#000"},disabledStyle:{color:"#aaaaaa"}}}},shield.ui.Chart.themes.dark={seriesPalette:["#1E97E3","#FF8000","#00FF9C","#FF2A00","#FFC500","#C9C9C9","#FC2150","#0077C6","#99c900","#cc6e38"],primaryHeader:{style:{color:"#FFFFFF"}},secondaryHeader:{style:{color:"#F2F2F2"}},backgroundColor:"#2D2D2D",borderWidth:0,chartAreaBackgroundColor:"#2D2D2D",chartAreaShadow:!1,chartAreaBorderWidth:0,seriesSettings:{scatter:{activeSettings:{pointHoveredState:{drawWidth:4}},pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{innerColor:null}}}},area:{drawWidth:2,pointMark:{enabled:!1,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{enabled:!1,drawRadius:4}}}},splinearea:{drawWidth:2,pointMark:{enabled:!1,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{innerColor:null}}}},line:{drawWidth:3,shadow:!1,mouseInteractions:!0,pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{innerColor:null}}}},spline:{drawWidth:3,shadow:!1,activeSettings:{pointHoveredState:{drawWidth:4}},pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{innerColor:null}}}},pie:{dataPointText:{style:{color:"#7E7E7E"}}},donut:{dataPointText:{style:{color:"#7E7E7E"}}}},axisX:{drawColor:"#7E7E7E",ticksColor:"#7E7E7E",axisTickText:{style:{color:"#7E7E7E"},y:17},title:{style:{color:"#7E7E7E"}}},axisY:{drawColor:"#7E7E7E",ticksColor:"#7E7E7E",plotStripColor:"#7E7E7E",plotStripDashStyle:"LongDash",axisTickText:{style:{color:"#7E7E7E"}},title:{style:{color:"#7E7E7E"}}},chartLegend:{legendItemSettings:{elementStyle:{color:"#A5A5A5"},mouseOverStyle:{color:"#FFFFFF"},disabledStyle:{color:"#7E7E7E"}}}};
!function(s,u){for(var a=u.ui.Widget,i=u.Constants,c=u.Class,n=document,E=i.SVG_NS,A=!!n.createElementNS&&!!n.createElementNS(E,"svg").createSVGRect,B=s.map,f=u.to.int,p=u.error,i="CODABAR",d="CODE-11",h="CODE-39",C="CODE-93",g="CODE-128",y="CODE-128-A",m="CODE-128-B",x="CODE-128-C",O="CODE-25-STANDARD",v="CODE-25-INTERLEAVED",b="EAN-8",k="EAN-13",T="UPC-A",S="UPC-E",_="MSI-10",w="MSI-10-10",I="MSI-11",N="MSI-11-10",l={types:[],addType:function(t){this.types[t.prototype.type]=t},byType:function(t){return this.types[t]?new this.types[t]:null}},t=c.extend({type:null,validateRegExp:null,validate:function(t){return!this.validateRegExp||new RegExp(this.validateRegExp).test(t)},encode:null,checksum:null}),e=t.extend({type:d,validateRegExp:"^[\\d\\-]+$",encode:function(t,e){e&&(t+=this.checksum(t)),t="*"+t+"*";for(var n="",o={0:"101011",1:"1101011",2:"1001011",3:"1100101",4:"1011011",5:"1101101",6:"1001101",7:"1010011",8:"1101001",9:"110101","-":"101101","*":"1011001"},r=0;r<t.length;r++)0<n.length&&(n+="0"),n+=o[t.charAt(r)];return[n]},checksum:function(t){var e=this._checksum(t,10,11);return 10<t.length&&(e+=this._checksum(t+e,9,11)+""),e},_checksum:function(t,e,n){for(var o=0,r=1,i=t.length-1;0<=i;i--)o+=r*("-"==t.charAt(i)?10:f(t.charAt(i))),r=e<=r?1:r+1;return o%n+""}}),o=(l.addType(e),t.extend({type:k,validateRegExp:"^[\\d]{12}$",encodingTable:{0:{lo:"0001101",le:"0100111",r:"1110010"},1:{lo:"0011001",le:"0110011",r:"1100110"},2:{lo:"0010011",le:"0011011",r:"1101100"},3:{lo:"0111101",le:"0100001",r:"1000010"},4:{lo:"0100011",le:"0011101",r:"1011100"},5:{lo:"0110001",le:"0111001",r:"1001110"},6:{lo:"0101111",le:"0000101",r:"1010000"},7:{lo:"0111011",le:"0010001",r:"1000100"},8:{lo:"0110111",le:"0001001",r:"1001000"},9:{lo:"0001011",le:"0010111",r:"1110100"}},parityTable:{0:["lo","lo","lo","lo","lo","lo"],1:["lo","lo","le","lo","le","le"],2:["lo","lo","le","le","lo","le"],3:["lo","lo","le","le","le","lo"],4:["lo","le","lo","lo","le","le"],5:["lo","le","le","lo","lo","le"],6:["lo","le","le","le","lo","lo"],7:["lo","le","lo","le","lo","le"],8:["lo","le","lo","le","le","lo"],9:["lo","le","le","lo","le","lo"]},encode:function(t,e){e&&(t+=this.checksum(t));var n,o=t.substring(0,1),r=t.substring(1,7),i=t.substring(7),c="",e=[],d=this.encodingTable,h=this.parityTable;for(c+="101",e.push(0,1,2),n=0;n<r.length;n++)c+=d[r.charAt(n)][h[o][n]];for(t=(c+="01010").length,e.push(t-5,t-4,t-3,t-2,t-1),n=0;n<i.length;n++)c+=d[i.charAt(n)].r;return t=(c+="101").length,e.push(t-3,t-2,t-1),[c,e]},checksum:function(t){for(var e=0,n=1,o=t.length-1;0<=o;o--)e+=f(t.charAt(o))*(n++%2?3:1);return 10-e%10+""}})),e=(l.addType(o),o.extend({type:b,validateRegExp:"^[\\d]{7}$",encode:function(t,e){e&&(t+=this.checksum(t));var n,o=t.substring(0,4),r=t.substring(4),i="",e=[],c=this.encodingTable;this.parityTable;for(i+="101",e.push(0,1,2),n=0;n<o.length;n++)i+=c[o.charAt(n)].lo;for(t=(i+="01010").length,e.push(t-5,t-4,t-3,t-2,t-1),n=0;n<r.length;n++)i+=c[r.charAt(n)].r;return t=(i+="101").length,e.push(t-3,t-2,t-1),[i,e]}})),R=(l.addType(e),o.extend({type:T,validateRegExp:"^\\d{11}$",encode:function(t,e){t=o.prototype.encode.call(this,"0"+t,e),e=t[0].length;return t[1].push(3,4,5,6,7,8,9,e-4,e-5,e-6,e-7,e-8,e-9,e-10),t},checksum:function(t){return 11==t.length&&(t="0"+t),o.prototype.checksum.call(this,t)}})),e=(l.addType(R),R.extend({type:S,validateRegExp:"^[0|1]\\d{6}$",_upce2upca:function(t){var e=t.substring(t.length-1);return"0"==e||"1"==e||"2"==e?t.substring(0,2)+t.charAt(5)+"0000"+t.substring(2,5):"3"==e?t.substring(0,3)+"00000"+t.substring(4,6):"4"==e?t.substring(0,4)+"00000"+t.charAt(4):t.substring(0,5)+"0000"+e},encode:function(t,e){for(var n=this.checksum(t),o="",r=t.charAt(0),i=t.substring(1),c=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]][f(n)][f(r)],d=0;d<i.length;d++)o+=this.encodingTable[i.charAt(d)]["O"==c.charAt(d)?"lo":"le"];return["101"+o+"010101",[0,1,2,45,46,47,48,49,50]]},checksum:function(t){var e=t.charAt(0),t=t.substring(1);return R.prototype.checksum.call(this,e+this._upce2upca(t))}})),e=(l.addType(e),t.extend({type:h,validateRegExp:"^[0-9A-Z\\-\\. \\$\\/\\+\\%\\*]+$",encode:function(t,e){e&&(t+=this.checksum(t)),t="*"+t+"*";for(var n="",o={0:"101001101101",1:"110100101011",2:"101100101011",3:"110110010101",4:"101001101011",5:"110100110101",6:"101100110101",7:"101001011011",8:"110100101101",9:"101100101101",A:"110101001011",B:"101101001011",C:"110110100101",D:"101011001011",E:"110101100101",F:"101101100101",G:"101010011011",H:"110101001101",I:"101101001101",J:"101011001101",K:"110101010011",L:"101101010011",M:"110110101001",N:"101011010011",O:"110101101001",P:"101101101001",Q:"101010110011",R:"110101011001",S:"101101011001",T:"101011011001",U:"110010101011",V:"100110101011",W:"110011010101",X:"100101101011",Y:"110010110101",Z:"100110110101","-":"100101011011",".":"110010101101"," ":"100110101101",$:"100100100101","/":"100100101001","+":"100101001001","%":"101001001001","*":"100101101101"},r=0;r<t.length;r++)0<r&&(n+="0"),n+=o[t.charAt(r)];return[n]},checksum:function(t){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%*",n=0,o=0;o<t.length;o++)n+=e.indexOf(t.charAt(o));return e.charAt(n%43)}})),e=(l.addType(e),t.extend({type:C,validateRegExp:"^[0-9A-Z\\-\\. \\$\\/\\+\\%\\*]+$",encode:function(t,e){e&&(t+=this.checksum(t)),t="*"+t+"*";for(var n="",o={0:"100010100",1:"101001000",2:"101000100",3:"101000010",4:"100101000",5:"100100100",6:"100100010",7:"101010000",8:"100010010",9:"100001010",A:"110101000",B:"110100100",C:"110100010",D:"110010100",E:"110010010",F:"110001010",G:"101101000",H:"101100100",I:"101100010",J:"100110100",K:"100011010",L:"101011000",M:"101001100",N:"101000110",O:"100101100",P:"100010110",Q:"110110100",R:"110110010",S:"110101100",T:"110100110",U:"110010110",V:"110011010",W:"101101100",X:"101100110",Y:"100110110",Z:"100111010","-":"100101110",".":"111010100"," ":"111010010",$:"111001010","/":"101101110","+":"101110110","%":"110101110","@":"100100110","#":"111011010","&":"111010110","~":"100110010","*":"101011110"},r=0;r<t.length;r++)n+=o[t.charAt(r)];return[n+="1"]},checksum:function(t){var e=t.length;return(t=(t+=this._checksum(t,20,47))+this._checksum(t,15,47)).substring(e,e+2)},_checksum:function(t,e,n){for(var o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%@#&~*",r=0,i=1,c=t.length-1;0<=c;c--)r+=o.indexOf(t.charAt(c))*i++,e<i&&(i=1);return o.charAt(r%n)}})),e=(l.addType(e),t.extend({type:"POSTNET",validate:function(t){return/^\d+$/.test(t)&&(5==t.length||9==t.length||11==t.length)},encode:function(t,e){e&&(t+=this.checksum(t));for(var n="",o=["11000","00011","00101","00110","01001","01010","01100","10001","10010","10100"],r=0;r<t.length;r++)n+=o[t.charAt(r)];return["1"+n+"1"]},checksum:function(t){for(var e=0,n=0;n<t.length;n++)e+=f(t.charAt(n));return 10-e%10+""}})),e=(l.addType(e),t.extend({validateRegExp:"^\\d+$",encode:function(t,e){e&&(t+=this.checksum(t));for(var n="",o=["100100100100","100100100110","100100110100","100100110110","100110100100","100110100110","100110110100","100110110110","110100100100","110100100110"],r=0;r<t.length;r++)n+=o[t.charAt(r)];return["110"+n+"1001"]},_mod10Checksum:function(t){for(var e=0,n=0,o=t.length-1;0<=o;o--){var r=f(t.charAt(o))*(n%2?1:2);e+=9<r?f((r+="").charAt(0))+f(r.charAt(1)):r,n++}return 9*e%10+""},_mod11Checksum:function(t){for(var e=0,n=2,o=t.length-1;0<=o;o--)e+=f(t.charAt(o))*n,n=7<=n?2:n+1;return 11-e%11+""}})),r=e.extend({type:_,checksum:function(t){return this._mod10Checksum(t)}}),r=(l.addType(r),e.extend({type:w,checksum:function(t){var e=this._mod10Checksum(t);return e+this._mod10Checksum(t+e)}})),r=(l.addType(r),e.extend({type:I,checksum:function(t){return this._mod11Checksum(t)}})),r=(l.addType(r),e.extend({type:N,checksum:function(t){var e=this._mod11Checksum(t);return e+this._mod10Checksum(t+e)}})),e=(l.addType(r),t.extend({type:i,validateRegExp:"^[A|B|C|D][\\d\\-\\$\\:\\/\\.\\+]+[A|B|C|D]$",encode:function(t,e){for(var n="",o={0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"101100110011",A:"1011001001",B:"1010010011",C:"1001001011",D:"1010011001"},r=0;r<t.length;r++)0<r&&(n+="0"),n+=o[t.charAt(r)];return[n]},checksum:function(t){return""}})),r=(l.addType(e),t.extend({type:g,encodingTable:[{A:" ",B:" ",C:"00",E:"11011001100"},{A:"!",B:"!",C:"01",E:"11001101100"},{A:'"',B:'"',C:"02",E:"11001100110"},{A:"#",B:"#",C:"03",E:"10010011000"},{A:"$",B:"$",C:"04",E:"10010001100"},{A:"%",B:"%",C:"05",E:"10001001100"},{A:"&",B:"&",C:"06",E:"10011001000"},{A:"'",B:"'",C:"07",E:"10011000100"},{A:"(",B:"(",C:"08",E:"10001100100"},{A:")",B:")",C:"09",E:"11001001000"},{A:"*",B:"*",C:"10",E:"11001000100"},{A:"+",B:"+",C:"11",E:"11000100100"},{A:",",B:",",C:"12",E:"10110011100"},{A:"-",B:"-",C:"13",E:"10011011100"},{A:".",B:".",C:"14",E:"10011001110"},{A:"/",B:"/",C:"15",E:"10111001100"},{A:"0",B:"0",C:"16",E:"10011101100"},{A:"1",B:"1",C:"17",E:"10011100110"},{A:"2",B:"2",C:"18",E:"11001110010"},{A:"3",B:"3",C:"19",E:"11001011100"},{A:"4",B:"4",C:"20",E:"11001001110"},{A:"5",B:"5",C:"21",E:"11011100100"},{A:"6",B:"6",C:"22",E:"11001110100"},{A:"7",B:"7",C:"23",E:"11101101110"},{A:"8",B:"8",C:"24",E:"11101001100"},{A:"9",B:"9",C:"25",E:"11100101100"},{A:":",B:":",C:"26",E:"11100100110"},{A:";",B:";",C:"27",E:"11101100100"},{A:"<",B:"<",C:"28",E:"11100110100"},{A:"=",B:"=",C:"29",E:"11100110010"},{A:">",B:">",C:"30",E:"11011011000"},{A:"?",B:"?",C:"31",E:"11011000110"},{A:"@",B:"@",C:"32",E:"11000110110"},{A:"A",B:"A",C:"33",E:"10100011000"},{A:"B",B:"B",C:"34",E:"10001011000"},{A:"C",B:"C",C:"35",E:"10001000110"},{A:"D",B:"D",C:"36",E:"10110001000"},{A:"E",B:"E",C:"37",E:"10001101000"},{A:"F",B:"F",C:"38",E:"10001100010"},{A:"G",B:"G",C:"39",E:"11010001000"},{A:"H",B:"H",C:"40",E:"11000101000"},{A:"I",B:"I",C:"41",E:"11000100010"},{A:"J",B:"J",C:"42",E:"10110111000"},{A:"K",B:"K",C:"43",E:"10110001110"},{A:"L",B:"L",C:"44",E:"10001101110"},{A:"M",B:"M",C:"45",E:"10111011000"},{A:"N",B:"N",C:"46",E:"10111000110"},{A:"O",B:"O",C:"47",E:"10001110110"},{A:"P",B:"P",C:"48",E:"11101110110"},{A:"Q",B:"Q",C:"49",E:"11010001110"},{A:"R",B:"R",C:"50",E:"11000101110"},{A:"S",B:"S",C:"51",E:"11011101000"},{A:"T",B:"T",C:"52",E:"11011100010"},{A:"U",B:"U",C:"53",E:"11011101110"},{A:"V",B:"V",C:"54",E:"11101011000"},{A:"W",B:"W",C:"55",E:"11101000110"},{A:"X",B:"X",C:"56",E:"11100010110"},{A:"Y",B:"Y",C:"57",E:"11101101000"},{A:"Z",B:"Z",C:"58",E:"11101100010"},{A:"[",B:"[",C:"59",E:"11100011010"},{A:"\\",B:"\\",C:"60",E:"11101111010"},{A:"]",B:"]",C:"61",E:"11001000010"},{A:"^",B:"^",C:"62",E:"11110001010"},{A:"_",B:"_",C:"63",E:"10100110000"},{A:"NUL",B:"`",C:"64",E:"10100001100"},{A:"SOH",B:"a",C:"65",E:"10010110000"},{A:"STX",B:"b",C:"66",E:"10010000110"},{A:"ETX",B:"c",C:"67",E:"10000101100"},{A:"EOT",B:"d",C:"68",E:"10000100110"},{A:"ENQ",B:"e",C:"69",E:"10110010000"},{A:"ACK",B:"f",C:"70",E:"10110000100"},{A:"BEL",B:"g",C:"71",E:"10011010000"},{A:"BS",B:"h",C:"72",E:"10011000010"},{A:"HT",B:"i",C:"73",E:"10000110100"},{A:"LF",B:"j",C:"74",E:"10000110010"},{A:"VT",B:"k",C:"75",E:"11000010010"},{A:"FF",B:"l",C:"76",E:"11001010000"},{A:"CR",B:"m",C:"77",E:"11110111010"},{A:"SO",B:"n",C:"78",E:"11000010100"},{A:"SI",B:"o",C:"79",E:"10001111010"},{A:"DLE",B:"p",C:"80",E:"10100111100"},{A:"DC1",B:"q",C:"81",E:"10010111100"},{A:"DC2",B:"r",C:"82",E:"10010011110"},{A:"DC3",B:"s",C:"83",E:"10111100100"},{A:"DC4",B:"t",C:"84",E:"10011110100"},{A:"NAK",B:"u",C:"85",E:"10011110010"},{A:"SYN",B:"v",C:"86",E:"11110100100"},{A:"ETB",B:"w",C:"87",E:"11110010100"},{A:"CAN",B:"x",C:"88",E:"11110010010"},{A:"EM",B:"y",C:"89",E:"11011011110"},{A:"SUB",B:"z",C:"90",E:"11011110110"},{A:"ESC",B:"{",C:"91",E:"11110110110"},{A:"FS",B:"|",C:"92",E:"10101111000"},{A:"GS",B:"}",C:"93",E:"10100011110"},{A:"RS",B:"~",C:"94",E:"10001011110"},{A:"US",B:"DEL",C:"95",E:"10111101000"},{A:"FNC3",B:"FNC3",C:"96",E:"10111100010"},{A:"FNC2",B:"FNC2",C:"97",E:"11110101000"},{A:"SHIFT",B:"SHIFT",C:"98",E:"11110100010"},{A:"CodeC",B:"CodeC",C:"99",E:"10111011110"},{A:"CodeB",B:"FNC4",C:"CodeB",E:"10111101110"},{A:"FNC4",B:"CodeA",C:"CodeA",E:"11101011110"},{A:"FNC1",B:"FNC1",C:"FNC1",E:"11110101110"},{A:"StartA",B:"StartA",C:"StartA",E:"11010000100"},{A:"StartB",B:"StartB",C:"StartB",E:"11010010000"},{A:"StartC",B:"StartC",C:"StartC",E:"11010011100"},{A:"Stop",B:"Stop",C:"Stop",E:"11000111010"}],validate:function(t){for(var e=0;e<t.length;e++)if(!this._getEncInfo(t.charAt(e)))return!1;return!0},_encode:function(t,e){e=e||!1;var n=[],t=this._findPrefix(t),o=t[0][0],r=t[1],t=t[2],n=n.concat(this._encodeCodeset(r,e?"Start"+o:"Code"+o,o));return(n=t&&0<t.length?n.concat(this._encode(t,!1)):n)&&0<n.length&&(n[0]=n[0].replace("Code","Start")),n},_findPrefix:function(t){for(var e,n,o=this,r="",i="",c=0;c<t.length;c++)if(n=t.charAt(c),0!==c){if(e=i,o._getEncInfo(n,"A")||(i=i.replace("A","")),o._getEncInfo(n,"B")||(i=i.replace("B","")),(i=o._getEncInfo(n,"C")?i:i.replace("C","")).length<=0)return[e.split(""),r,t.substring(c)];r+=n}else o._getEncInfo(n,"A")&&(i+="A"),o._getEncInfo(n,"B")&&(i+="B"),o._getEncInfo(n,"C")&&(i+="C"),r+=n;return[i.split(""),t,""]},_encodeOptimized:function(t){t=this._encode(t,!0),t=this._optimizeForC(t);return(t=this._optimizeShifts(t))&&0<t.length&&(t[0]=t[0].replace("Code","Start")),t},_optimizeForC:function(t){var e,t=this._splitOptimizeForC(t),n=t[0],o=t[1],t=t[2],r=[];if(n&&0<n.length&&(r=r.concat(n)),o&&0<o.length)for(r.push(o[0]),e=1;e<o.length;e+=2)r.push(o[e]+""+o[e+1]);return r=t&&0<t.length?r.concat(this._optimizeForC(t)):r},_splitOptimizeForC:function(t){if(!t||t.length<=0)return[[],[],[]];if(!/^(Code|Start)[A|B|C]$/.test(t[0]))return[t,[],[]];if(3==t.length&&/^\d$/.test(t[1])&&/^\d$/.test(t[2]))return[[],["CodeC",t[1],t[2]],[]];for(var e,n,o=[],r=-1,i=-1,c=0;c<t.length;c++)if(/^(Code|Start)[A|B|C]$/.test(t[c])&&(e=t[c].substring(t[c].length-1)),/^\d$/.test(t[c])&&-1==r&&(r=c,i=-1),-1<r&&!/^\d$/.test(t[c])&&(i=c-1),-1<r&&c>=t.length-1&&(i=c),-1<r&&-1<i){if(4<=(n=i-r+1))return[1==r?[]:t.slice(0,r),["CodeC"].concat(t.slice(r,n=i+(n%2==0?1:0))),o=n<t.length?["Code"+e].concat(t.slice(n)):o];r=i=-1}return[t,[],[]]},_optimizeShifts:function(t){return t},_encodeCodeset:function(t,e,n){return"A"==n?this._encodeA(t,e):"B"==n?this._encodeB(t,e):"C"==n?this._encodeC(t,e):null},_encodeA:function(t,e){return[e].concat(t.split(""))},_encodeB:function(t,e){return[e].concat(t.split(""))},_encodeC:function(t,e){for(var n=[e],o=0;o<t.length;o+=2)n.push(t.charAt(o)+t.charAt(o+1));return n},_getEncInfo:function(t,e){e=e||null;for(var n,o=this.encodingTable,r=0;r<o.length;r++)if(e){if(o[r][e]==t)return(n=o[r]).pos=r,n;if("100"==t||"101"==t||"102"==t)return(n=o[f(t)]).pos=r,n}else if(o[r].A==t||o[r].B==t||o[r].C==t)return(n=o[r]).pos=r,n;return null},encode:function(t,e){for(var n=this,o="",r=n.checksum(t),i=n._encodeOptimized(t),c=i[0].charAt(i[0].length-1),d=0;d<i.length;d++)o+=n._getEncInfo(i[d],c).E,/^(Start|Code)[A|B|C]$/.test(i[d])&&(c=i[d].charAt(i[d].length-1));return[o+=n._getEncInfo(r,"C").E+n.encodingTable[106].E+"11"]},checksum:function(t){for(var e=this._encodeOptimized(t),n=this._getEncInfo(e[0]).pos,o=1;o<e.length;o++)n+=this._getEncInfo(e[o]).pos*o;return 10<(t=n%103)?t+"":"0"+t}})),e=(l.addType(r),r.extend({type:y,validate:function(t){for(var e=0;e<t.length;e++)if(!this._getEncInfo(t.charAt(e),"A"))return!1;return!0},_encodeOptimized:function(t){return this._encodeA(t,"StartA")}})),e=(l.addType(e),r.extend({type:m,validate:function(t){for(var e=0;e<t.length;e++)if(!this._getEncInfo(t.charAt(e),"B"))return!1;return!0},_encodeOptimized:function(t){return this._encodeB(t,"StartB")}})),e=(l.addType(e),r.extend({type:x,validate:function(t){return/^\d+$/.test(t)&&t.length%2==0},_encodeOptimized:function(t){return this._encodeC(t,"StartC")}})),r=(l.addType(e),t.extend({type:O,validateRegExp:"^[\\d\\-]+$",encode:function(t,e){e&&(t+=this.checksum(t)),t="["+t+"]";for(var n="",o={0:"10101110111010",1:"11101010101110",2:"10111010101110",3:"11101110101010",4:"10101110101110",5:"11101011101010",6:"10111011101010",7:"10101011101110",8:"11101010111010",9:"10111010111010","[":"11011010","]":"1101011"},r=0;r<t.length;r++)n+=o[t.charAt(r)];return[n]},checksum:function(t){return this._checksum(t,3,1,10)},_checksum:function(t,e,n,o){for(var r="0123456789",i=0,c=e,d=t.length-1;0<=d;d--)i+=r.indexOf(t.charAt(d))*c,c=c==e?n:e;return r.charAt(i=0!==(i%=o)?o-i:i)}})),e=(l.addType(r),r.extend({type:v,encode:function(t,e){e&&(t+=this.checksum(t)),t="["+(t=t.length%2!=0?"0"+t:t)+"]";for(var n,o="",r={"00":"10101100110010","01":"10010110110100","02":"10100110110100","03":"10010011011010","04":"10101100110100","05":"10010110011010","06":"10100110011010","07":"10101101100100","08":"10010110110010","09":"10100110110010",10:"11010100100110",11:"11001010101100",12:"11010010101100",13:"11001001010110",14:"11010100101100",15:"11001010010110",16:"11010010010110",17:"11010101001100",18:"11001010100110",19:"11010010100110",20:"10110100100110",21:"10011010101100",22:"10110010101100",23:"10011001010110",24:"10110100101100",25:"10011010010110",26:"10110010010110",27:"10110101001100",28:"10011010100110",29:"10110010100110",30:"11011010010010",31:"11001101010100",32:"11011001010100",33:"11001100101010",34:"11011010010100",35:"11001101001010",36:"11011001001010",37:"11011010100100",38:"11001101010010",39:"11011001010010",40:"10101100100110",41:"10010110101100",42:"10100110101100",43:"10010011010110",44:"10101100101100",45:"10010110010110",46:"10100110010110",47:"10101101001100",48:"10010110100110",49:"10100110100110",50:"11010110010010",51:"11001011010100",52:"11010011010100",53:"11001001101010",54:"11010110010100",55:"11001011001010",56:"11010011001010",57:"11010110100100",58:"11001011010010",59:"11010011010010",60:"10110110010010",61:"10011011010100",62:"10110011010100",63:"10011001101010",64:"10110110010100",65:"10011011001010",66:"10110011001010",67:"10110110100100",68:"10011011010010",69:"10110011010010",70:"10101001100110",71:"10010101101100",72:"10100101101100",73:"10010010110110",74:"10101001101100",75:"10010100110110",76:"10100100110110",77:"10101011001100",78:"10010101100110",79:"10100101100110",80:"11010100110010",81:"11001010110100",82:"11010010110100",83:"11001001011010",84:"11010100110100",85:"11001010011010",86:"11010010011010",87:"11010101100100",88:"11001010110010",89:"11010010110010",90:"10110100110010",91:"10011010110100",92:"10110010110100",93:"10011001011010",94:"10110100110100",95:"10011010011010",96:"10110010011010",97:"10110101100100",98:"10011010110010",99:"10110010110010","[":"1010","]":"1101"},i=0;i<t.length;i+=n)n=isNaN(t.charAt(i))?1:2,o+=r[t.substr(i,n)];return[o]}})),z=(l.addType(e),{types:[],addType:function(t){this.types[t.prototype.type]=t},byType:function(t,e){return this.types[t]?new this.types[t](e):null}}),F=c.extend({type:null,init:function(t){var e=t.style;this.options=t,this.width=t.width-e.paddingLeft-e.paddingRight,this.height=t.height-e.paddingTop-e.paddingBottom,A||n.namespaces.scvbarcode||n.namespaces.add("scvbarcode","urn:schemas-microsoft-com:vml","#default#VML")},all:function(t,e){function n(t){return s("<div/>").html(t).text()}var o=this,r=o.options,i=r.style,c=r.text.style,d="",h="",l=100<o.width?n("&#68;&#101;&#109;&#111;&#32;&#86;&#101;&#114;&#115;&#105;&#111;&#110;"):n("&#68;&#101;&#109;&#111;"),a=n("&#104;&#116;&#116;&#112;&#58;&#47;&#47;&#119;&#119;&#119;&#46;&#115;&#104;&#105;&#101;&#108;&#100;&#117;&#105;&#46;&#99;&#111;&#109;");u.guid();return i.paddingLeft&&(d+="margin-left:"+i.paddingLeft+"px;"),i.paddingTop&&(d+="margin-top:"+i.paddingTop+"px;"),i.paddingBottom&&(d+="margin-bottom:"+i.paddingBottom+"px;"),i.paddingRight&&(d+="margin-right:"+i.paddingRight+"px;"),h+=A?'<text x="'+o.width+'" y="'+(o.height-c.paddingBottom)+'" fill="#999999" text-anchor="end" font-size="12" style="cursor:pointer; z-index:150; font-size:12px;" onClick="javascript: location.href = \''+a+"';\">"+l+"</text>":'<div style="position:absolute; width:'+(o.width+2)+"px; text-align:right; color:#999999; cursor:pointer; z-index:150; top:"+(r.height-12-c.paddingBottom)+'px; font-size:12px;"><a href="'+a+'" style="color:#999999; text-decoration:none; background-color:#fdfdfd; font-size:12px;">'+l+"</a></div>",A?'<svg xmlns="'+E+'" version="1.1" width="'+o.width+'" height="'+o.height+'" shape-rendering="crispEdges"'+(d?' style="'+d+'" ':"")+">"+t+e+h+"</svg>":'<scvbarcode:group style="position:relative; width:'+o.width+"px; height:"+o.height+"px; "+d+'" coordsize="'+o.width+","+o.height+'">'+t+e+h+"</scvbarcode:group>"},barcode:function(t){for(var a,e,s=this.options.style,u=this.options.text,n=u.style,o=t[0],r=t[1]||[],t=u.enabled?n.fontSize+n.paddingTop+n.paddingBottom:0,i=this.width/o.length,E=this.height-t-(0<r.length?5:0),p=5+E,c=[],d=0;d<o.length;d++){var C=o.charAt(d);if("1"==C){for(var h=d*i,g=E,l=0;l<r.length;l++)if(r[l]==d){g=p;break}h={x1:h,y1:0,x2:h,y2:g,w:i};1==f(a)&&(h={x1:(e=c.pop()).x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.w+i}),c.push(h)}a=C}return B(c,function(t){return A?'<line x1="'+(t.x1+t.w/2)+'" y1="'+t.y1+'" x2="'+(t.x2+t.w/2)+'" y2="'+t.y2+'" style="stroke:'+s.color+"; stroke-width:"+t.w+'" />':'<scvbarcode:line from="'+(t.x1+t.w/2)+","+t.y1+'" to="'+(t.x2+t.w/2)+","+t.y2+'" strokecolor="'+s.color+'" strokeweight="'+t.w+'px;" stroke="true" />'}).join("")},text:function(t){var e=this,n=e.options.text,o=n.style,r=n.enabled?o.fontSize+o.paddingTop+o.paddingBottom:0;return n.enabled?A?'<text x="'+e.width/2+'" y="'+(e.height-o.paddingBottom)+'" fill="'+o.color+'" text-anchor="middle" font-size="'+o.fontSize+'" font-family="'+o.fontFamily+';">'+t+"</text>":'<div style="position:absolute; width:'+e.width+"px; text-align:center; color:"+o.color+"; top:"+(e.options.height-r-o.paddingBottom)+"px; font-size:"+o.fontSize+"px; font-family:"+o.fontFamily+';">'+t+"</div>":""}}),$=[i,d,h,C,g,y,m,x,b,k,T,S,_,w,I,N,O,v],D=0;D<$.length;D++)z.addType(F.extend({type:$[D]}));t=F.extend({type:"POSTNET",barcode:function(t){for(var e=this.options.style,n=this.options.text,o=n.style,r=t[0],t=n.enabled?o.fontSize+o.paddingTop+o.paddingBottom:0,i=this.width/(2*r.length-1),c=this.height-t,d=[],h=0;h<r.length;h++){var l=h*i*2,a="1"==r.charAt(h)?0:c/2;d.push({x1:l,y1:a,x2:l,y2:c,w:i})}return B(d,function(t){return A?'<line x1="'+(t.x1+t.w/2)+'" y1="'+t.y1+'" x2="'+(t.x2+t.w/2)+'" y2="'+t.y2+'" style="stroke:'+e.color+"; stroke-width:"+t.w+'" />':'<scvbarcode:line from="'+(t.x1+t.w/2)+","+t.y1+'" to="'+(t.x2+t.w/2)+","+t.y2+'" strokecolor="'+e.color+'" strokeweight="'+t.w+'px;" stroke="true" />'}).join("")}}),z.addType(t),r=a.extend({init:function(){a.fn.init.apply(this,arguments);var t,e=this.options,n=e.style,o=e.type,r=e.dieOnError,i=e.value+"",c=l.byType(o),d=s(this.element),h="";c?c.validate(i)?(t=z.byType(o,e))?(d.css({background:n.background,borderColor:n.borderColor,borderStyle:n.borderStyle,borderWidth:n.borderWidth,width:e.width,height:e.height}),n=c.encode(i,e.checksum),n=t.barcode(n),e.text.enabled&&(h=t.text(i+(e.text.checksum?c.checksum(i):""))),d.html(t.all(n,h))):p("Invalid barcode type (2)",r):p("Invalid barcode value: "+i,r):p("Invalid barcode type: "+o,r)},destroy:function(){this.element.empty(),a.fn.destroy.call(this)}});r.defaults={value:null,type:null,checksum:!0,width:300,height:100,style:{background:null,borderColor:null,borderStyle:null,borderWidth:0,color:"#000000",paddingTop:5,paddingLeft:5,paddingRight:5,paddingBottom:5},text:{enabled:!1,checksum:!1,style:{color:"#000000",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif",fontSize:13,paddingTop:2,paddingBottom:0}}},u.ui.plugin("Barcode",r)}(jQuery,shield);
!function(_,v){function C(e){return M(e,10).toString(2)}function V(e,t){for(e+="";e.length<t;)e="0"+e;return e}function d(e,t){for(e+="";e.length<t;)e+="0";return e}var f=v.ui.Widget,e=v.Constants,t=v.Class,r=document,p=e.SVG_NS,L=!!r.createElementNS&&!!r.createElementNS(p,"svg").createSVGRect,m=_.map,M=v.to.int,u=v.error,l="byte",n="numeric",o="alphanumeric",h={modes:[],addMode:function(e){this.modes[e.prototype.mode]=e},byMode:function(e){return this.modes[e]?new this.modes[e]:null}},e=t.extend({mode:null,codeMode:null,validateRegex:null,_verErrLenTable:{"1L":152,"1M":128,"1Q":104,"1H":72,"2L":272,"2M":224,"2Q":176,"2H":128,"3L":440,"3M":352,"3Q":272,"3H":208,"4L":640,"4M":512,"4Q":384,"4H":288,"5L":864,"5M":688,"5Q":496,"5H":368,"6L":1088,"6M":864,"6Q":608,"6H":480,"7L":1248,"7M":992,"7Q":704,"7H":528,"8L":1552,"8M":1232,"8Q":880,"8H":688,"9L":1856,"9M":1456,"9Q":1056,"9H":800,"10L":2192,"10M":1728,"10Q":1232,"10H":976,"11L":2592,"11M":2032,"11Q":1440,"11H":1120,"12L":2960,"12M":2320,"12Q":1648,"12H":1264,"13L":3424,"13M":2672,"13Q":1952,"13H":1440,"14L":3688,"14M":2920,"14Q":2088,"14H":1576,"15L":4184,"15M":3320,"15Q":2360,"15H":1784,"16L":4712,"16M":3624,"16Q":2600,"16H":2024,"17L":5176,"17M":4056,"17Q":2936,"17H":2264,"18L":5768,"18M":4504,"18Q":3176,"18H":2504,"19L":6360,"19M":5016,"19Q":3560,"19H":2728,"20L":6888,"20M":5352,"20Q":3880,"20H":3080,"21L":7456,"21M":5712,"21Q":4096,"21H":3248,"22L":8048,"22M":6256,"22Q":4544,"22H":3536,"23L":8752,"23M":6880,"23Q":4912,"23H":3712,"24L":9392,"24M":7312,"24Q":5312,"24H":4112,"25L":10208,"25M":8e3,"25Q":5744,"25H":4304,"26L":10960,"26M":8496,"26Q":6032,"26H":4768,"27L":11744,"27M":9024,"27Q":6464,"27H":5024,"28L":12248,"28M":9544,"28Q":6968,"28H":5288,"29L":13048,"29M":10136,"29Q":7288,"29H":5608,"30L":13880,"30M":10984,"30Q":7880,"30H":5960,"31L":14744,"31M":11640,"31Q":8264,"31H":6344,"32L":15640,"32M":12328,"32Q":8920,"32H":6760,"33L":16568,"33M":13048,"33Q":9368,"33H":7208,"34L":17528,"34M":13800,"34Q":9848,"34H":7688,"35L":18448,"35M":14496,"35Q":10288,"35H":7888,"36L":19472,"36M":15312,"36Q":10832,"36H":8432,"37L":20528,"37M":15936,"37Q":11408,"37H":8768,"38L":21616,"38M":16816,"38Q":12016,"38H":9136,"39L":22496,"39M":17728,"39Q":12656,"39H":9776,"40L":23648,"40M":18672,"40Q":13328,"40H":10208},_errorCorrectionToMask:{L:"01",M:"00",Q:"11",H:"10"},_formatInformation:{"00000":"101010000010010","00001":"101000100100101","00010":"101111001111100","00011":"101101101001011","00100":"100010111111001","00101":"100000011001110","00110":"100111110010111","00111":"100101010100000","01000":"111011111000100","01001":"111001011110011","01010":"111110110101010","01011":"111100010011101","01100":"110011000101111","01101":"110001100011000","01110":"110110001000001","01111":"110100101110110",1e4:"001011010001001",10001:"001001110111110",10010:"001110011100111",10011:"001100111010000",10100:"000011101100010",10101:"000001001010101",10110:"000110100001100",10111:"000100000111011",11e3:"011010101011111",11001:"011000001101000",11010:"011111100110001",11011:"011101000000110",11100:"010010010110100",11101:"010000110000011",11110:"010111011011010",11111:"010101111101101"},validate:function(e){return!this.validateRegex||new RegExp(this.validateRegex).test(e)},encode:function(e,t){var r=this,n=r._getVersion(e,t),o=21+4*(n-1),l=8+o,i=n+t,a=r._getFormatData(e,t),c=r.encodeValue(e),e=r._getDataLength(e,t),s=4<e-(a.length+c.length)?4:e-(a.length+c.length),c=d(c,c.length+s),s=r._getBinaryValues(a+c);return c=s.join(""),c=r._padEncodedToLength(c,e),s=r._getBinaryValues(c),a=r._getIntegerValues(s),c=r._getEC(i,void 0,a),r._getBinaryMatrix(c,n,o,l,t)},encodeValue:null,_getBinaryMatrix:function(h,e,t,r,d){for(var f,u,g,_,n,o,l,i=this,v=["000","001","010","011","100","101","110","111"],M=[],a=[],c=[],p=i._getPositionAdjustmentsTable(),s=0;s<r;s++)for(a[s]=[],n=0;n<r;n++)a[s][n]=0;for(s=0;s<t;s++)c.push(new Array(t));if(i._fullFinderPattern(a,4,4),i._fillFinderPatternFilledValues(c,0,0),i._fullFinderPattern(a,4,r-11),i._fillFinderPatternFilledValues(c,0,t-8),i._fullFinderPattern(a,r-11,4),i._fillFinderPatternFilledValues(c,t-8,0),i._fillTimingPattern(a,c,t),a[r-12][12]=1,(c[r-16][8]=1)<e)for(s=0;s<p[e].length;s++)for(n=0;n<p[e].length;n++)o=p[e][s]+4,l=p[e][n]+4,10==o&&10==l||10==o&&l==r-11||o==r-11&&10==l||(a[o-2][l-2]=1,c[o-6][l-6]=1,a[o-2][l-1]=1,c[o-6][l-5]=1,a[o-2][l]=1,c[o-6][l-4]=1,a[o-2][l+1]=1,c[o-6][l-3]=1,a[o-2][l+2]=1,a[o-(c[o-6][l-2]=1)][l-2]=1,a[o-(c[o-5][l-6]=1)][l-1]=0,a[o-(c[o-5][l-5]=1)][l]=0,a[o-(c[o-5][l-4]=1)][l+1]=0,a[o-(c[o-5][l-3]=1)][l+2]=1,c[o-5][l-2]=1,a[o][l-2]=1,c[o-4][l-6]=1,a[o][l-1]=0,c[o-4][l-5]=1,a[o][l]=1,c[o-4][l-4]=1,a[o][l+1]=0,c[o-4][l-3]=1,a[o][l+2]=1,a[o+(c[o-4][l-2]=1)][l-2]=1,a[o+(c[o-3][l-6]=1)][l-1]=0,a[o+(c[o-3][l-5]=1)][l]=0,a[o+(c[o-3][l-4]=1)][l+1]=0,a[o+(c[o-3][l-3]=1)][l+2]=1,c[o-3][l-2]=1,a[o+2][l-2]=1,c[o-2][l-6]=1,a[o+2][l-1]=1,c[o-2][l-5]=1,a[o+2][l]=1,c[o-2][l-4]=1,a[o+2][l+1]=1,c[o-2][l-3]=1,a[o+2][l+2]=1,c[o-2][l-2]=1);for(7<=e&&i._fillHigherVersionData(a,c,e,t,r),_=0;_<8;_++){for(g=[],s=f=0;s<a.length;s++)g.push(a[s].slice(0));i._fillFormatData(a,c,t,r,v[_],d),i._fillMatrix(c,g,v[_],t,h),f=(f=(f=(f+=i._calcPenalty1(g,t))+i._calcPenalty2(g,t))+i._calcPenalty3(g,t))+i._calcPenalty4(g,t),M.push(f)}return u=i._getSmallestPenaltyIndex(M),i._fillFormatData(a,c,t,r,v[u],d),i._fillMatrix(c,a,v[u],t,h),a},_fillHigherVersionData:function(e,t,r,n,o){r={7:[0,0,1,0,1,0,0,1,0,0,1,1,1,1,1,0,0,0],8:[0,0,1,1,1,1,0,1,1,0,1,0,0,0,0,1,0,0],9:[1,0,0,1,1,0,0,1,0,1,0,1,1,0,0,1,0,0],10:[1,1,0,0,1,0,1,1,0,0,1,0,0,1,0,1,0,0],11:[0,1,1,0,1,1,1,1,1,1,0,1,1,1,0,1,0,0],12:[0,1,0,0,0,1,1,0,1,1,1,0,0,0,1,1,0,0],13:[1,1,1,0,0,0,1,0,0,0,0,1,1,0,1,1,0,0],14:[1,0,1,1,0,0,0,0,0,1,1,0,0,1,1,1,0,0],15:[0,0,0,1,0,1,0,0,1,0,0,1,1,1,1,1,0,0],16:[0,0,0,1,1,1,1,0,1,1,0,1,0,0,0,0,1,0],17:[1,0,1,1,1,0,1,0,0,0,1,0,1,0,0,0,1,0],18:[1,1,1,0,1,0,0,0,0,1,0,1,0,1,0,0,1,0],19:[0,1,0,0,1,1,0,0,1,0,1,0,1,1,0,0,1,0],20:[0,1,1,0,0,1,0,1,1,0,0,1,0,0,1,0,1,0],21:[1,1,0,0,0,0,0,1,0,1,1,0,1,0,1,0,1,0],22:[1,0,0,1,0,0,1,1,0,0,0,1,0,1,1,0,1,0],23:[0,0,1,1,0,1,1,1,1,1,1,0,1,1,1,0,1,0],24:[0,0,1,0,0,0,1,1,0,1,1,1,0,0,0,1,1,0],25:[1,0,0,0,0,1,1,1,1,0,0,0,1,0,0,1,1,0],26:[1,1,0,1,0,1,0,1,1,1,1,1,0,1,0,1,1,0],27:[0,1,1,1,0,0,0,1,0,0,0,0,1,1,0,1,1,0],28:[0,1,0,1,1,0,0,0,0,0,1,1,0,0,1,1,1,0],29:[1,1,1,1,1,1,0,0,1,1,0,0,1,0,1,1,1,0],30:[1,0,1,0,1,1,1,0,1,0,1,1,0,1,1,1,1,0],31:[0,0,0,0,1,0,1,0,0,1,0,0,1,1,1,1,1,0],32:[1,0,1,0,1,0,1,1,1,0,0,1,0,0,0,0,0,1],33:[0,0,0,0,1,1,1,1,0,1,1,0,1,0,0,0,0,1],34:[0,1,0,1,1,1,0,1,0,0,0,1,0,1,0,0,0,1],35:[1,1,1,1,1,0,0,1,1,1,1,0,1,1,0,0,0,1],36:[1,1,0,1,0,0,0,0,1,1,0,1,0,0,1,0,0,1],37:[0,1,1,1,0,1,0,0,0,0,1,0,1,0,1,0,0,1],38:[0,0,1,0,0,1,1,0,0,1,0,1,0,1,1,0,0,1],39:[1,0,0,0,0,0,1,0,1,0,1,0,1,1,1,0,0,1],40:[1,0,0,1,0,1,1,0,0,0,1,1,0,0,0,1,0,1]}[r];this._fillUpperVersionInformation(e,t,r,n,o),this._fillLowerVersionInformation(e,t,r,n,o)},_fillUpperVersionInformation:function(e,t,r,n,o){for(var l=o-15,i=n-11,a=0,c=4;c<10;c++)e[c][l]=r[a],t[c-4][i]=1,e[c][1+l]=r[++a],t[c-4][1+i]=1,e[c][2+l]=r[++a],t[c-4][2+i]=1,a++},_fillLowerVersionInformation:function(e,t,r,n,o){for(var l=o-13,i=n-9,a=0,c=4;c<10;c++)e[l][c]=r[a],a++,e[l-(t[i][c-4]=1)][c]=r[a],t[i-1][c-4]=1,e[l-2][c]=r[++a],t[i-2][c-4]=1,a++},_getSmallestPenaltyIndex:function(e){for(var t=e[0],r=0,n=0;n<e.length;n++)e[n]<t&&(r=n);return r},_calcPenalty1:function(e,t){for(var r,n,o=0,l=0;l<t;l++)for(r=n=1;r<t;r++)e[l+4][r+4]===e[l+4][r+3]?5==++n?o+=3:5<n&&o++:n=1;for(r=0;r<t;r++)for(l=n=1;l<t;l++)e[l+4][r+4]===e[l+3][r+4]?5===++n?o+=3:5<n&&o++:n=1;return o},_calcPenalty2:function(e,t){for(var r,n,o=0,l=0;l<t-1;l++)for(n=0;n<t-1;n++)(r=e[l+4][n+4])==e[l+4][n+5]&&r==e[l+5][n+4]&&r==e[l+5][n+5]&&(o+=3);return o},_calcPenalty3:function(e,t){for(var r,n=0,o=0;o<t;o++)for(r=0;r<=t-7;r++)e[o+4][r+4]&&!e[o+4][r+5]&&e[o+4][r+6]&&e[o+4][r+7]&&e[o+4][r+8]&&!e[o+4][r+9]&&e[o+4][r+10]&&(n+=40);for(r=0;r<t;r++)for(o=0;o<=t-7;o++)e[o+4][r+4]&&!e[o+5][r+4]&&e[o+6][r+4]&&e[o+7][r+4]&&e[o+8][r+4]&&!e[o+9][r+4]&&e[o+10][r+4]&&(n+=40);return n},_calcPenalty4:function(e,t){for(var r,n=0,o=0,l=0;l<t;l++)for(r=0;r<t;r++)e[l+4][r+4]?n++:o++;return M(2*(n/(n+o)*100-50))},_fillFormatData:function(e,t,r,n,o,l){l=this._errorCorrectionToMask[l]+o,o=this._formatInformation[l],l=n-5,n-=5;e[12][4]=M(o.charAt(0)),e[12][5]=M(o.charAt(1)),e[12][6]=M(o.charAt(2)),e[12][7]=M(o.charAt(3)),e[12][8]=M(o.charAt(4)),e[12][9]=M(o.charAt(5)),e[12][11]=M(o.charAt(6)),e[12][12]=M(o.charAt(7)),e[11][12]=M(o.charAt(8)),e[9][12]=M(o.charAt(9)),e[8][12]=M(o.charAt(10)),e[7][12]=M(o.charAt(11)),e[6][12]=M(o.charAt(12)),e[5][12]=M(o.charAt(13)),e[4][12]=M(o.charAt(14)),e[l][12]=M(o.charAt(0)),e[l-1][12]=M(o.charAt(1)),e[l-2][12]=M(o.charAt(2)),e[l-3][12]=M(o.charAt(3)),e[l-4][12]=M(o.charAt(4)),e[l-5][12]=M(o.charAt(5)),e[l-6][12]=M(o.charAt(6)),e[12][n-7]=M(o.charAt(7)),e[12][n-6]=M(o.charAt(8)),e[12][n-5]=M(o.charAt(9)),e[12][n-4]=M(o.charAt(10)),e[12][n-3]=M(o.charAt(11)),e[12][n-2]=M(o.charAt(12)),e[12][n-1]=M(o.charAt(13)),e[12][n]=M(o.charAt(14)),t[8][0]=1,t[8][1]=1,t[8][2]=1,t[8][3]=1,t[8][4]=1,t[8][5]=1,t[8][7]=1,t[8][8]=1,t[7][8]=1,t[5][8]=1,t[4][8]=1,t[3][8]=1,t[2][8]=1,t[1][8]=1,t[0][8]=1,t[r-1][8]=1,t[r-2][8]=1,t[r-3][8]=1,t[r-4][8]=1,t[r-5][8]=1,t[r-6][8]=1,t[r-7][8]=1,t[8][r-8]=1,t[8][r-7]=1,t[8][r-6]=1,t[8][r-5]=1,t[8][r-4]=1,t[8][r-3]=1,t[8][r-2]=1,t[8][r-1]=1},_fillMatrix:function(e,t,r,n,o){for(var l,i=0,a=!0,c=n-1;0<=c;c-=2)if(6==c&&c--,a){for(l=n-1;0<=l;l--)e[l][c]||(this._fillModule(l,c,i,t,r,o),i++),0<=c-1&&!e[l][c-1]&&(this._fillModule(l,c-1,i,t,r,o),i++);a=!a}else{for(l=0;l<n;l++)e[l][c]||(this._fillModule(l,c,i,t,r,o),i++),0<=c-1&&!e[l][c-1]&&(this._fillModule(l,c-1,i,t,r,o),i++);a=!a}},_fillModule:function(e,t,r,n,o,l){r<l.length?this._fillCharacter(e,t,l.charAt(r),n,o):this._fillCharacter(e,t,"0",n,o)},_fillCharacter:function(e,t,r,n,o){var l;switch(o){case"000":l=(e+t)%2==0;break;case"001":l=e%2==0;break;case"010":l=t%3==0;break;case"011":l=(e+t)%3==0;break;case"100":l=(e/2+t/3)%2==0;break;case"101":l=e*t%2+e*t%3==0;break;case"110":l=(e*t%2+e*t%3)%2==0;break;case"111":l=((e+t)%2+e*t%3)%2==0;break;default:l=(e+t)%2==0}n[e+4][t+4]=l?"0"==r?1:0:"0"==r?0:1},_fillTimingPattern:function(e,t,r){for(var n=10,o=12,l=!0;o<r-4;)l&&(e[n][o]=1),t[n-4][o-4]=1,l=!l,o++;for(o=10,n=12,l=!0;n<r-4;)l&&(e[n][o]=1),t[n-4][o-4]=1,l=!l,n++},_fullFinderPattern:function(e,t,r){for(var n=0;n<7;n++)e[t+n][r]=1,e[t][r+n]=1,e[t+n][r+6]=1,e[t+6][r+n]=1;for(t+=2,r+=2,n=0;n<3;n++)e[t+n][r]=1,e[t+n][r+1]=1,e[t+n][r+2]=1},_fillFinderPatternFilledValues:function(e,t,r){var n,o,l,i;for(0===t&&0===r?n=o=8:o=0===t&&0<r?r+(n=8):(n=t+8,8),l=t;l<n;l++)for(i=r;i<o;i++)e[l][i]=1},_getEC:function(h,d,f){for(var u,g,e=this._getCodewordsLengthTable()[h],_=0,t=[],r=[],n=[],o=[],l=[],i=[],v=[],M=[],p=e.firstBlockCount,L=e.secondBlockCount,a=[],m=[];0<p;p--){for(a=[],u=0;u<e.firstDataCodeWords;u++)a[a.length]=f[_],_++;t[t.length]=a,l[l.length]=this._getErrorCorrectionForBlock(a,e)}for(;0<L;L--){for(m=[],g=0;g<e.secondBlockCodeWords;g++)m[m.length]=f[_],_++;r[r.length]=m,i[i.length]=this._getErrorCorrectionForBlock(m,e)}for(var y=e.firstDataCodeWords*e.firstBlockCount+e.secondBlockCodeWords*e.secondBlockCount,b=e.codewordsPerBlock*e.firstBlockCount+e.codewordsPerBlock*e.secondBlockCount,c=0,H=t.length+r.length,Q=0;Q<H;Q++)0===c?0<t.length?(n[n.length]=t[0],t.splice(0,1)):(n[n.length]=r[0],c++,r.splice(0,1)):1===c&&0<r.length&&(n[n.length]=r[0],r.splice(0,1));for(H=l.length+i.length,Q=c=0;Q<H;Q++)0===c?0<l.length?(o[o.length]=l[0],l.splice(0,1)):(o[o.length]=i[0],c++,i.splice(0,1)):1===c&&0<i.length&&(o[o.length]=i[0],i.splice(0,1));for(var x=n.length,k=o.length,A="",c=0,s=0;s<y;s++)0<n[c=c===x?0:c].length?(v[v.length]=n[c][0],n[c].splice(0,1),c++):(c++,s--);for(s=c=0;s<b;s++)0<o[c=c===k?0:c].length?(M[M.length]=o[c][0],o[c].splice(0,1),c++):(c++,s--);for(s=0;s<v.length;s++)A+=V(C(v[s]),8);for(s=0;s<M.length;s++)A+=V(C(M[s]),8);return A},_getErrorCorrectionForBlock:function(e,t){for(var r,n,o,l=t.codewordsPerBlock,i=[],a=[],c=0,h={7:[87,229,146,149,238,102,21],10:[251,67,46,61,118,70,64,94,32,45],13:[74,152,176,100,86,100,106,104,130,218,206,140,78],15:[8,183,61,91,202,37,51,58,58,237,140,124,5,99,105],16:[120,104,107,109,102,161,76,3,91,191,147,169,182,194,225,120],17:[43,139,206,78,43,239,123,206,214,147,24,99,150,39,243,163,136],18:[215,234,158,94,184,97,118,170,79,187,152,148,252,179,5,98,96,153],20:[17,60,79,50,61,163,26,187,202,180,221,225,83,239,156,164,212,212,188,190],22:[210,171,247,242,93,230,14,109,221,53,200,74,8,172,98,80,219,134,160,105,165,231],24:[229,121,135,48,211,117,251,126,159,180,169,152,192,226,228,218,111,0,117,232,87,96,227,21],26:[173,125,158,2,103,182,118,17,145,201,111,28,165,53,161,21,245,142,13,102,48,227,153,145,218,70],28:[168,223,200,104,224,234,108,180,110,190,195,147,205,27,232,201,21,43,245,87,42,195,212,119,242,37,9,123],30:[41,173,145,152,216,31,179,182,50,48,110,86,239,96,222,125,42,173,226,193,224,130,156,37,251,216,238,40,192,180]},d=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,1],f=[-1,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],s=0;s<e.length+l;s++)a[c++]=s<e.length?e[s]:0;for(s=0;s<e.length;s++)if(n=a[0],a.splice(0,1),0!==n){for(i=h[l].slice(0),n=f[n],r=0;r<i.length;r++)255<(o=n+i[r])&&(o%=255),i[r]=o;for(r=0;r<i.length;r++)i[r]=d[i[r]];for(r=0;r<i.length;r++)a[r]=a[r]^i[r]}return a},_getIntegerValues:function(e){return m(e,function(e){return M(e,2)})},_getBinaryValues:function(e){for(var t=[],r=0;r<e.length;r+=8)r+8<=e.length?t.push(e.substr(r,8)):t.push(d(e.substring(r),8));return t},_padEncodedToLength:function(e,t){if(e.length>=t)return e.substr(0,t);for(var r=e,n=!0;r.length<t;)r+=n?"11101100":"00010001",n=!n;return r},_getVersion:function(e,t){for(var r=e.length,n=1;n<39&&!(this._verErrLenTable[n+""+t]/8>=r);n++);return n+1},_getDataLength:function(e,t){return this._verErrLenTable[this._getVersion(e,t)+""+t]},_getFormatData:function(e,t){return this.codeMode+V(C(e.length),this._getFormatLengthTotal(e,t))},_getFormatLengthTotal:function(e,t){var r=this.mode,e=this._getVersion(e,t);return 1<=e&&e<=9?r==n?10:r==o?9:8:10<=e&&e<=26?r==n?12:r==o?11:r==l?16:10:r==n?14:r==o?13:r==l?16:12},_getCodewordsLengthTable:function(){var e=this;if(e._clt)return e._clt;var t,r,n=[7,1,19,0,0,10,1,16,0,0,13,1,13,0,0,17,1,9,0,0,10,1,34,0,0,16,1,28,0,0,22,1,22,0,0,28,1,16,0,0,15,1,55,0,0,26,1,44,0,0,18,2,17,0,0,22,2,13,0,0,20,1,80,0,0,18,2,32,0,0,26,2,24,0,0,16,4,9,0,0,26,1,108,0,0,24,2,43,0,0,18,2,15,2,16,22,2,11,2,12,18,2,68,0,0,16,4,27,0,0,24,4,19,0,0,28,4,15,0,0,20,2,78,0,0,18,4,31,0,0,18,2,14,4,15,26,4,13,1,14,24,2,97,0,0,22,2,38,2,39,22,4,18,2,19,26,4,14,2,15,30,2,116,0,0,22,3,36,2,37,20,4,16,4,17,24,4,12,4,13,18,2,68,2,69,26,4,43,1,44,24,6,19,2,20,28,6,15,2,16,20,4,81,0,0,30,1,50,4,51,28,4,22,4,23,24,3,12,8,13,24,2,92,2,93,22,6,36,2,37,26,4,20,6,21,28,7,14,4,15,26,4,107,0,0,22,8,37,1,38,24,8,20,4,21,22,12,11,4,12,30,3,115,1,116,24,4,40,5,41,20,11,16,5,17,24,11,12,5,13,22,5,87,1,88,24,5,41,5,42,30,5,24,7,25,24,11,12,7,13,24,5,98,1,99,28,7,45,3,46,24,15,19,2,20,30,3,15,13,16,28,1,107,5,108,28,10,46,1,47,28,1,22,15,23,28,2,14,17,15,30,5,120,1,121,26,9,43,4,44,28,17,22,1,23,28,2,14,19,15,28,3,113,4,114,26,3,44,11,45,26,17,21,4,22,26,9,13,16,14,28,3,107,5,108,26,3,41,13,42,30,15,24,5,25,28,15,15,10,16,28,4,116,4,117,26,17,42,0,0,28,17,22,6,23,30,19,16,6,17,28,2,111,7,112,28,17,46,0,0,30,7,24,16,25,24,34,13,0,0,30,4,121,5,122,28,4,47,14,48,30,11,24,14,25,30,16,15,14,16,30,6,117,4,118,28,6,45,14,46,30,11,24,16,25,30,30,16,2,17,26,8,106,4,107,28,8,47,13,48,30,7,24,22,25,30,22,15,13,16,28,10,114,2,115,28,19,46,4,47,28,28,22,6,23,30,33,16,4,17,30,8,122,4,123,28,22,45,3,46,30,8,23,26,24,30,12,15,28,16,30,3,117,10,118,28,3,45,23,46,30,4,24,31,25,30,11,15,31,16,30,7,116,7,117,28,21,45,7,46,30,1,23,37,24,30,19,15,26,16,30,5,115,10,116,28,19,47,10,48,30,15,24,25,25,30,23,15,25,16,30,13,115,3,116,28,2,46,29,47,30,42,24,1,25,30,23,15,28,16,30,17,115,0,0,28,10,46,23,47,30,10,24,35,25,30,19,15,35,16,30,17,115,1,116,28,14,46,21,47,30,29,24,19,25,30,11,15,46,16,30,13,115,6,116,28,14,46,23,47,30,44,24,7,25,30,59,16,1,17,30,12,121,7,122,28,12,47,26,48,30,39,24,14,25,30,22,15,41,16,30,6,121,14,122,28,6,47,34,48,30,46,24,10,25,30,2,15,64,16,30,17,122,4,123,28,29,46,14,47,30,49,24,10,25,30,24,15,46,16,30,4,122,18,123,28,13,46,32,47,30,48,24,14,25,30,42,15,32,16,30,20,117,4,118,28,40,47,7,48,30,43,24,22,25,30,10,15,67,16,30,19,118,6,119,28,18,47,31,48,30,34,24,34,25,30,20,15,61,16],o=["L","M","Q","H"],l=0;for(e._clt={},t=1;t<=40;t++)for(r=0;r<o.length;r++)e._clt[t+""+o[r]]={codewordsPerBlock:n[l],firstBlockCount:n[l+1],firstDataCodeWords:n[l+2],secondBlockCount:n[l+3],secondBlockCodeWords:n[l+4]},l+=5;return e._clt},_getPositionAdjustmentsTable:function(){var e=[],t=2;return e[t++]=[6,18],e[t++]=[6,22],e[t++]=[6,26],e[t++]=[6,30],e[t++]=[6,34],e[t++]=[6,22,38],e[t++]=[6,24,42],e[t++]=[6,26,46],e[t++]=[6,28,50],e[t++]=[6,30,54],e[t++]=[6,32,58],e[t++]=[6,34,62],e[t++]=[6,26,46,66],e[t++]=[6,26,48,70],e[t++]=[6,26,50,74],e[t++]=[6,30,54,78],e[t++]=[6,30,56,82],e[t++]=[6,30,58,86],e[t++]=[6,34,62,90],e[t++]=[6,28,50,72,94],e[t++]=[6,26,50,74,98],e[t++]=[6,30,54,78,102],e[t++]=[6,28,54,80,106],e[t++]=[6,32,58,84,110],e[t++]=[6,30,58,86,114],e[t++]=[6,34,62,90,118],e[t++]=[6,26,50,74,98,122],e[t++]=[6,30,54,78,102,126],e[t++]=[6,26,52,78,104,130],e[t++]=[6,30,56,82,108,134],e[t++]=[6,34,60,86,112,138],e[t++]=[6,30,58,86,114,142],e[t++]=[6,34,62,90,118,146],e[t++]=[6,30,54,78,102,126,150],e[t++]=[6,24,50,76,102,128,154],e[t++]=[6,28,54,80,106,132,158],e[t++]=[6,32,58,84,110,136,162],e[+t]=[6,26,54,82,110,138,166],e[40]=[6,30,58,86,114,142,170],e}}),i=e.extend({mode:n,codeMode:"0001",validateRegex:"^\\d+$",encodeValue:function(e){for(var t=[];0<e.length;)e=2<e.length?(t.push(V(C(M(e.substr(0,3))),10)),e.substr(3)):(2===e.length?t.push(V(C(M(e)),7)):t.push(V(C(M(e)),4)),"");return 0===t.length&&t.push(V(C(0),4)),t.join("")}}),i=(h.addMode(i),e.extend({mode:l,codeMode:"0100",validateRegex:"^[0-9A-Za-z'\\\r\\\n\\ \\!\\\"\\#\\$\\%\\&\\(\\)\\*\\+\\,\\-\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\\\]\\^\\_\\`\\{\\|\\}\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\]+$",encodingTable:{"\r":"13","\n":"10"," ":"32","!":"33",'"':"34","#":"35",$:"36","%":"37","&":"38","'":"39","(":"40",")":"41","*":"42","+":"43",",":"44","-":"45",".":"46","/":"47",0:"48",1:"49",2:"50",3:"51",4:"52",5:"53",6:"54",7:"55",8:"56",9:"57",":":"58",";":"59","<":"60","=":"61",">":"62","?":"63","@":"64",A:"65",B:"66",C:"67",D:"68",E:"69",F:"70",G:"71",H:"72",I:"73",J:"74",K:"75",L:"76",M:"77",N:"78",O:"79",P:"80",Q:"81",R:"82",S:"83",T:"84",U:"85",V:"86",W:"87",X:"88",Y:"89",Z:"90","[":"91","":"92","]":"93","^":"94",_:"95","`":"96",a:"97",b:"98",c:"99",d:"100",e:"101",f:"102",g:"103",h:"104",i:"105",j:"106",k:"107",l:"108",m:"109",n:"110",o:"111",p:"112",q:"113",r:"114",s:"115",t:"116",u:"117",v:"118",w:"119",x:"120",y:"121",z:"122","{":"123","|":"124","}":"125","":"126","":"161","":"162","":"163","":"164","":"165","":"166","":"167","":"168","":"169","":"170","":"171","":"172","":"173","":"174","":"175","":"176","":"177","":"178","":"179","":"180","":"181","":"182","":"183","":"184","":"185","":"186","":"187","":"188","":"189","":"190","":"191","":"192","":"193","":"194","":"195","":"196","":"197","":"198","":"199","":"200","":"201","":"202","":"203","":"204","":"205","":"206","":"207","":"208","":"209","":"210","":"211","":"212","":"213","":"214","":"215","":"216","":"217","":"218","":"219","":"220","":"221","":"222","":"223"},encodeValue:function(e){for(var t=[],r=0;r<e.length;r++)t.push(V(C(M(this.encodingTable[e.charAt(r)])),8));return t.join("")}})),i=(h.addMode(i),e.extend({mode:o,codeMode:"0010",validateRegex:"^[0-9A-Z \\$\\%\\*\\+\\-\\.\\/\\:]+$",encodingTable:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",A:"10",B:"11",C:"12",D:"13",E:"14",F:"15",G:"16",H:"17",I:"18",J:"19",K:"20",L:"21",M:"22",N:"23",O:"24",P:"25",Q:"26",R:"27",S:"28",T:"29",U:"30",V:"31",W:"32",X:"33",Y:"34",Z:"35"," ":"36",$:"37","%":"38","*":"39","+":"40","-":"41",".":"42","/":"43",":":"44"},encodeValue:function(e){for(var t,r,n,o,h=e.length%2!=0,l=[],i=[],a=[],c=0,s=0;s<e.length;s++)t=e.charAt(s),l[s]=this.encodingTable[t];for(s=0;s<l.length;s+=2)r=l[s],s+1<=l.length-1?(n=l[s+1],i[c]=M(45*r)+M(n)):i[c]=r,c++;for(s=0;s<i.length;s++)o=C(i[s]),o=h&&s===i.length-1?V(o,6):V(o,11),a[s]=o;return a.join("")}})),g=(h.addMode(i),t.extend({init:function(e){var t=e.style;this.options=e,this.size=e.size-2*t.padding,L||r.namespaces.sqrv||(r.namespaces.add("sqrv","urn:schemas-microsoft-com:vml","#default#VML"),r.createStyleSheet().cssText="sqrv\\:fill, sqrv\\:path, sqrv\\:shape, sqrv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},all:function(e){function h(e){return _("<div/>").html(e).text()}var t,r,n,o,l=this.size,i=this.options.style,a=l/e.length,c="",s=[],d="",f=200<l?12:10,u=h(100<l?"&#68;&#101;&#109;&#111;&#32;&#86;&#101;&#114;&#115;&#105;&#111;&#110;":"&#68;&#101;&#109;&#111;"),g=h("&#104;&#116;&#116;&#112;&#58;&#47;&#47;&#119;&#119;&#119;&#46;&#115;&#104;&#105;&#101;&#108;&#100;&#117;&#105;&#46;&#99;&#111;&#109;");v.guid();for(i.padding&&(c+="margin:"+i.padding+"px;"),t=0;t<e.length;t++)for(r=0;r<e[t].length;r++)e[t][r]&&s.push({x:r*a,y:t*a});return d+=L?'<text x="'+l+'" y="'+l+'" fill="#999999" text-anchor="end" font-size="'+f+'" style="cursor:pointer; z-index:0;" onClick="javascript: location.href = \''+g+"'; margin:0; padding:0;\">"+u+"</text>":'<div style="position:absolute; display:block; width:'+l+"px; text-align:right; color:#999999; cursor:pointer; z-index:0; top:"+(l-f-2)+"px; left:0px; font-size:"+f+'px;"><a href="'+g+'" style="color:#999999; text-decoration:none;">'+u+"</a></div>",L?'<svg xmlns="'+p+'" version="1.1" width="'+l+'" height="'+l+'" shape-rendering="crispEdges"'+(c?' style="'+c+'" ':"")+">"+d+'<path d="'+m(s,function(e){return"M"+e.x+" "+e.y+" L"+(e.x+a)+" "+e.y+" L"+(e.x+a)+" "+(e.y+a)+" L"+e.x+" "+(e.y+a)+" z"}).join(" ")+'" fill="'+i.color+'" stroke="'+i.color+'" stroke-width="0" /></svg>':(o=M(a*(n=1e4/l)),'<sqrv:shape style="z-index:200; position:absolute; width:'+l+"px; height:"+l+"px; display:block; "+c+'" coordsize="10000,10000" path="'+(m(s,function(e){var t=M(e.x*n),e=M(e.y*n);return"m"+t+","+e+" l"+(t+o)+","+e+","+(t+o)+","+(e+o)+","+t+","+(e+o)}).join(" ")+" e")+'" filled="t" fillcolor="'+i.color+'" stroked="f" strokecolor="'+i.color+'" strokeweight="0">'+d+"</sqrv:shape>")}})),e=f.extend({init:function(e,s){f.fn.init.apply(this,arguments);var t=this.options,r=t.style,n=t.value,o=(t.mode+"").toLowerCase(),l=t.errorLevel,i=t.dieOnError,a=h.byMode(o),c=new g(t);_(this.element).css({background:r.background,borderColor:r.borderColor,borderStyle:r.borderStyle,borderWidth:r.borderWidth,width:t.size,height:t.size}),a?a.validate(n)?"L"==l||"M"==l||"Q"==l||"H"==l?(r=a.encode(n,l),_(this.element).html(c.all(r))):u("Invalid errorLevel: "+l,i):u("Invalid qrcode value: "+n,i):u("Invalid qrcode mode: "+o,i)},destroy:function(){this.element.empty(),f.fn.destroy.call(this)}});e.defaults={value:"",mode:"byte",errorLevel:"L",size:300,style:{background:null,borderColor:null,borderStyle:null,borderWidth:0,color:"#000000",padding:5}},v.ui.plugin("QRcode",e)}(jQuery,shield);
!function(_,p,S,v){var f=p.ui.Widget,d=(p.Class,p.DataSource),T=p.ui.Position,a=p.Constants.KeyCode,w=p.strid,I=document,H=Math.abs,y=Math.min,z=Math.max,b=_.proxy,e=_.each,l=_.map,r=p.to,L=r.int,m=p.format,P=p.error,c=p.is,x=c.defined,h=c.string,W=c.object,D=c.func,E=c.null,N=c.number,A=p.is.boolean,j="id",k="role",M="true",U="false",O="aria-valuenow",B="aria-controls",q="aria-expanded",F="aria-disabled",G="aria-describedby",R="aria-selected",K="single",Q="mouseenter",X="mouseleave",J="click",V="focus",Y="blur",Z="change",i="title",$="center",g="left",C="right",tt="up",et="down",it="top",at="bottom",u="horizontal",st="vertical",nt="resize",ot="tabindex",lt="disabled",rt="suiaccitemindex",dt="suiaccitemdata",ct="suiaccitemloaded",s="suiaccelparent",n="suiaccelprev",ht={top:at,bottom:it,left:C,right:g,center:$},o="sui-tooltip-title",ut="sui-tooltip-sto",pt="sui-tooltip-hto",ft="sui-tooltip-target-hover",t={cls:v,enabled:!0,visible:v,width:v,height:v,delay:100,filter:v,content:function(t){return _(t).data(o)},position:it,trigger:Q,autoHide:!0,callout:!0,events:{}},gt=f.extend({init:function(){f.fn.init.apply(this,arguments);var i=this,t=i.options,e=t.content,a=t.position,s=t.cls,n=t.filter,o=t.trigger,l=t.autoHide,c=t.visible,r=t.width,d=t.height,h=t.callout,u=_(i.element),p=w();!W(e)||e.remote&&e.remote.url?(i._eventNS=".shieldTooltip"+i.getInstanceId(),i._currentTarget=null,i._tooltip=e=_('<div id="'+p+'"/>').appendTo(I.body),e.addClass("sui-tooltip"+(s?" "+s:"")),s={position:"absolute"},x(r)&&(s.width=r),x(d)&&(s.height=d),e.css(s),i._content=_('<div class="sui-tooltip-content"></div>').appendTo(e),l||e.addClass("sui-tooltip-with-button").append('<div class="sui-tooltip-button">&times;</div>').click(b(i._hide,i,!0)),W(a)?i._pos=a:(r=ht[a]?a:it,h&&a!=$&&(r+=r==g||r==it?"-5":"+5"),i._pos={source:ht[a]||at,target:r,overflow:"flipfit"}),h&&(i._pos.callback=b(i._posSet,i)),i._targets=d=n?u.find(n):u,i._showEvent=o,i._hideEvent=null,l&&(o==Q||o==J?i._hideEvent=X:o==V&&(i._hideEvent=Y)),d.each(function(t){var e=_(this);e.on(Q+i._eventNS,b(i._targetMouseEnter,i,e)).on(X+i._eventNS,b(i._targetMouseLeave,i,e)).on(i._showEvent+i._eventNS,b(i._onShow,i,e,!0)),i._hideEvent&&e.on(i._hideEvent+i._eventNS,b(i._onHide,i,e,!0)),e.attr(G,p)}),i._destroyed=!1,e.attr(k,"tooltip"),i.enabled(!!t.enabled),x(c)&&i.visible(c)):P("shieldTooltip: Invalid content options",t.dieOnError)},_targetMouseEnter:function(t){t.addClass(ft),t.attr(i)&&t.data(o,t.attr(i)).removeAttr(i)},_targetMouseLeave:function(t){t.removeClass(ft),t.data(o)&&t.attr(i,t.data(o))},_onShow:function(t,e){var i=this;i._enabled&&(i._tooltip,e=setTimeout(b(i._show,i,t,e),i.options.delay),t.one(X,function(){var t=_(this).data(ut);t&&clearTimeout(t)}).data(ut,e))},_onHide:function(t,e){var i=this,a=i._tooltip,s=setTimeout(b(i._hide,i,e),50);a.one(Q,function(){var t=_(this),e=t.data(pt);e&&(clearTimeout(e),t.data(pt,null))}).one(X,function(){setTimeout(function(){t.hasClass(ft)||i._hide(i,e)},50)}).data(pt,s)},_show:function(t,e){var i,a,s=this,n=s.options,o=n.content,n=n.height,l=s._tooltip,r=s._content;s._destroyed||s._currentTarget!=t&&(e&&s.trigger("show",{target:t}).isDefaultPrevented()||(h(o)?i=o:W(o)?i=o.remote.iframe?'<iframe class="sui-tooltip-iframe" src="'+o.remote.url+'" style="border:none; border-width:0px; width:100%; height:'+(n?n+"px":"100%")+';"></iframe>':(a=!0," "):D(o)&&(i=o(t)),i&&(l.show(),s._currentTarget=t,a?r.load(o.remote.url):r.html(i),s._visible=!0,T.Set(l,t,s._pos))))},_hide:function(t){var e=this;e._currentTarget&&(t&&e.trigger("hide").isDefaultPrevented()||(_(e._tooltip).hide().find(".sui-tooltip-callout-container").remove(),e._currentTarget=null,e._visible=!1))},_posSet:function(t){var e,i,a,s,n,o=this.options,c=this._tooltip,l=t.horizontal,r=t.vertical,d=(t.important,t.element),t=t.target,h=d.width,u=d.height;if(o.callout&&(l!=$||"middle"!=r)){if(l==$||"middle"==r)i={source:o=ht[e=l==$?r:l],target:e+(o==at||o==C?"+1":"-1")};else if(o=p.ui.Util.GetWithinInfo(S),l==g&&3<d.left-o.scrollLeft&&(i={source:C,target:(e=g)+"+1"}),l==C&&3<o.scrollLeft+o.width-d.left-d.width&&(i={source:g,target:(e=C)+"-1"}),e&&(a=d.top+u/2,s=t.top+t.height-(t.top+t.height-o.scrollTop)/2,0!==(n=H(n=a-s)>u/2-6?0<n?u/2-6:6-u/2:n)&&(i.target+=" "+$+(0<n?"-"+n:"+"+n))),e||(r==it&&3<d.top-o.scrollTop&&(e=it,i={source:at,target:"top+1"}),r==at&&3<o.scrollTop+o.height-d.top-d.height&&(i={source:it,target:(e=at)+"-1"}),e&&(a=d.left+h/2,s=t.left+t.width-(t.left+t.width-o.scrollLeft)/2,0!==(n=H(n=a-s)>h/2-6?0<n?h/2-6:6-h/2:n)&&(i.target=$+(0<n?"-"+n:"+"+n)+" "+i.target))),!e)return;l=_('<div class="sui-tooltip-callout-container"><div class="sui-tooltip-callout sui-tooltip-callout-'+e+'"></div>').appendTo(c),T.Set(l,c,i)}},visible:function(){var t,e=this,i=[].slice.call(arguments);if(!e._destroyed)return 0<i.length?((t=!!i[0])?e._show(i[1]):e._hide(),void(e._visible=t)):e._visible},enabled:function(){var t=[].slice.call(arguments);if(!(0<t.length))return this._enabled;(t=!!t[0])||this.visible(!1),this._enabled=t},destroy:function(){var e=this,t=e._targets;e._destroyed=!0,t&&(t.each(function(t){_(this).off(e._eventNS)}),e._targets=null),_(e._tooltip).remove(),f.fn.destroy.call(e)}});gt.defaults=t,p.ui.plugin("Tooltip",gt),t={cls:v,barSize:5,orientation:u,panes:v,events:{}},(gt=f.extend({init:function(){f.fn.init.apply(this,arguments);var e,i=this,t=i.options,a=t.cls,s=(t.orientation,_(i.element));s.addClass("sui-splitter-container"+(a?" "+a:"")),"absolute"!==s.css("position")&&"relative"!==s.css("position")&&s.css({position:"relative"}),s.css("width")===v&&s.css({width:"100%"}),i._height=s.css("height")?s.css("height"):s.parent().innerHeight(),s.css({height:i._height}),i._children=e=s.children(),i._offset=0,i._barSize=t.barSize,i._bars=[],i._dragBars=[],i._navigators=[],e.each(function(t){i._addPane(e,_(this),t)}),_(S).on(nt+".shieldSplitter"+i.getInstanceId(),b(i._adjust,i)),i._adjust(),i._adjustDraggables(),i._manageCollapsedPanes()},_adjust:function(){var t=this.element,e=this._children.last(),i=this.options.orientation==u,a=(i?t.innerWidth():t.innerHeight())-this._offset+"px";t.children(".sui-splitter-pane-horizontal, .sui-splitter-dragbar-horizontal, .sui-splitter-bar-horizontal").each(function(){_(this).outerHeight(_(this).parent().innerHeight())}),i?e.outerWidth(a):e.outerHeight(a)},_adjustHeights:function(t,e){this.options.orientation==u?(t.children(".sui-splitter-collapsible-vertical-up, .sui-splitter-collapsible-vertical-down").each(function(){var t=_(this);t.css({top:t.prev().innerWidth()/2})}),e.children(".sui-splitter-collapsible-vertical-up, .sui-splitter-collapsible-vertical-down").each(function(){var t=_(this);t.css({top:t.prev().innerWidth()/2})})):(t.children(".sui-splitter-pane-horizontal, .sui-splitter-dragbar, .sui-splitter-bar").each(function(){_(this).outerHeight(_(this).parent().innerHeight())}),e.children(".sui-splitter-pane-horizontal, .sui-splitter-dragbar, .sui-splitter-bar").each(function(){_(this).outerHeight(_(this).parent().innerHeight())}),t.children(".sui-splitter-collapsible-horizontal-left, .sui-splitter-collapsible-horizontal-right").each(function(){var t=_(this);t.css({top:t.prev().innerHeight()/2})}),e.children(".sui-splitter-collapsible-horizontal-left, .sui-splitter-collapsible-horizontal-right").each(function(){var t=_(this);t.css({top:t.prev().innerHeight()/2})}))},_adjustDraggables:function(){for(var t,c,e,i,a,s,n,o,l=this,r=l.options.orientation==u,d=0;d<l._dragBars.length;d++)l._dragBars[d]&&(c=l._dragBars[d],o=_(l._children[d]),e=_(l._children[d+1]),i=c.initialOptions,a=r?o.position().left:o.position().top,(s=l._getPaneMin(d))!==v&&(a+=s),(s=l._getPaneMax(d+1))!==v&&(t=r?e.position().left:e.position().top,n=r?e.innerWidth():e.innerHeight(),a=z(a,t-(s-n))),s=r?e.position().left+e.innerWidth():e.position().top+e.innerHeight(),(n=l._getPaneMax(d))!==v&&(t=r?o.position().left:o.position().top,s=y(s,t+n)),(o=l._getPaneMin(d+1))!==v&&(t=r?e.position().left:e.position().top,s=y(s,t+o)),i.min=a,i.max=s,c.refresh(i))},_createCollapseNavigator:function(r,d){var t,c=this,e=_(c.element),i=c.options,h=i.orientation,i=i.panes,a=h==u,s=i&&d<i.length&&i[d].collapsible,i=i&&d<i.length-1&&i[d+1].collapsible;(s||i)&&((t=_('<div class="sui-splitter-collapsible sui-splitter-collapsible-'+h+"-"+(i=a?s?g:C:s?tt:et)+'"/>')).insertAfter(r),e={left:a?r.position().left+1:r.position().left+e.innerWidth()/2,top:a?r.position().top+r.innerHeight()/2:r.position().top+1},t.css(e),t.on(J,function(){var t=_(c._children[d]),e=_(c._children[d+1]),i=c._dragBars[d]?_(c._dragBars[d].element):v,a=c._navigators[d],s=a.navigator,n=a.direction,o=a.collapsed,l=a.delta;switch(i&&o&&i.show(),n){case g:o?t.show():(l=0===d?t.outerWidth():t.innerWidth(),t.hide()),e.css({left:e.position().left+(o?l:-l)}),r.css({left:r.position().left+(o?l:-l)}),i&&i.css({left:i.position().left+(o?l:-l)}),s.css({left:s.position().left+(o?l:-l)}),e.outerWidth(e.outerWidth()+(o?-l:l)),s.removeClass("sui-splitter-collapsible-"+h+"-"+(o?C:g)),s.addClass("sui-splitter-collapsible-"+h+"-"+(o?g:C)),a.collapsed=!o,a.delta=a.collapsed?l:0;break;case C:o?e.show():(l=e.innerWidth(),e.hide()),r.css({left:r.position().left+(o?-l:l)}),i&&i.css({left:i.position().left+(o?-l:l)}),s.css({left:s.position().left+(o?-l:l)}),t.outerWidth(t.outerWidth()+(o?-l:l)),s.removeClass("sui-splitter-collapsible-"+h+"-"+(o?g:C)),s.addClass("sui-splitter-collapsible-"+h+"-"+(o?C:g)),a.collapsed=!o,a.delta=a.collapsed?l:0;break;case tt:o?t.show():(l=0===d?t.outerHeight():t.innerHeight(),t.hide()),e.css({top:e.position().top+(o?l:-l)}),r.css({top:r.position().top+(o?l:-l)}),i&&i.css({top:i.position().top+(o?l:-l)}),s.css({top:s.position().top+(o?l:-l)}),e.outerHeight(e.outerHeight()+(o?-l:l)),s.removeClass("sui-splitter-collapsible-"+h+"-"+(o?et:tt)),s.addClass("sui-splitter-collapsible-"+h+"-"+(o?tt:et)),a.collapsed=!o,a.delta=a.collapsed?l:0;break;case et:o?e.show():(l=e.innerHeight(),e.hide()),r.css({top:r.position().top+(o?-l:l)}),i&&i.css({top:i.position().top+(o?-l:l)}),s.css({top:s.position().top+(o?-l:l)}),t.outerHeight(t.outerHeight()+(o?-l:l)),s.removeClass("sui-splitter-collapsible-"+h+"-"+(o?tt:et)),s.addClass("sui-splitter-collapsible-"+h+"-"+(o?et:tt)),a.collapsed=!o,a.delta=a.collapsed?l:0}i&&a.collapsed&&i.hide(),a.collapsed?c.trigger("collapse",{paneIndex:d}):c.trigger("expand",{paneIndex:d}),c._adjustHeights(t,e)}),c._navigators[d]={navigator:t,delta:0,direction:i,collapsed:!1,index:s?d:d+1})},_manageCollapsedPanes:function(){var t,e,i,a=this.options.panes;if(this._navigators)for(i=0;i<this._navigators.length;i++)t=(e=this._navigators[i]).index,e=e.navigator,a&&t<a.length&&a[t].collapsed&&e.trigger(J)},_getPaneSize:function(t){var e,i=this,a=i.options,s=a.panes,a=a.orientation==u,n=_(i.element);return(e=s&&t<s.length&&(s[t].size||s[t].min)?s[t].size||s[t].min:e)?i._getSize(e,"Invalid pane size")+"px":((a?n.innerWidth():n.innerHeight())-(i._children.length-1)*i._barSize)/i._children.length},_getPaneMin:function(t){var e,i=this.options.panes;return(e=i&&t<i.length&&i[t].min?i[t].min:e)?this._getSize(e,"Invalid min pane size!"):v},_getPaneMax:function(t){var e,i=this.options.panes;return(e=i&&t<i.length&&i[t].max?i[t].max:e)?this._getSize(e,"Invalid max pane size!"):v},_getSize:function(t,e){var i=this.options.orientation==u,a=_(this.element),i=i?a.innerWidth():a.innerHeight();if(h(t)&&"%"==t.charAt(t.length-1)){if(100<=(a=parseInt(t.substring(0,t.length-1),10)))throw e;t=(i-(this._children.length-1)*this._barSize)*a/100}else t=parseInt(t,10);return t},_addPane:function(o,l,r){var t,d,c=this,e=c.options,h=e.orientation,i=h==u,e=e.panes,a=e&&r<e.length&&!1===e[r].resizable,e=e&&r<e.length&&!0===e[r].scrollable;_(c.element);if(l.attr(j)||l.attr(j,w()),l.addClass("sui-splitter-pane sui-splitter-pane-"+h),e&&l.css({overflow:"auto"}),e=c._getPaneSize(r),(t=c._getPaneMin(r))!==v&&e<t)throw"Size less that min pane size!";if((t=c._getPaneMax(r))!==v&&t<e)throw"Size bigger that max pane size!";t={left:(i?c._offset:0)+"px",top:(i?0:c._offset)+"px"},i?(t.width=e,t.height=c._height):t.height=e,l.css(t),r!=o.length-1&&(c._offset+=i?l.outerWidth():l.outerHeight(),e=_("<div>&nbsp;</div>").addClass("sui-unselectable sui-splitter-bar sui-splitter-bar-"+h),t={left:h==u?c._offset:0,top:h==st?c._offset:0},i?(t.width=c._barSize,t.height=c._height):t.height=c._barSize,e.css(t),e.insertAfter(l),a||((d=_("<div>&nbsp;</div>").addClass("sui-unselectable sui-splitter-dragbar sui-splitter-dragbar-"+h).css(t).insertAfter(e)).attr(k,"separator").attr(B,l.attr(j)).attr(O,L(h==u?l.width():l.height())),a=new p.ui.Draggable(d,{iframeFix:!0,direction:i?u:st,stack:!1,events:{start:function(t){var e=l,i=_(o[r+1]);e.addClass("sui-unselectable"),i.addClass("sui-unselectable")},stop:function(t){var e,i=l,a=_(o[r+1]),s=c._bars[r],n=c._navigators[r],n=n?n.navigator:v;i.removeClass("sui-unselectable"),a.removeClass("sui-unselectable"),h==u?(e=t.left-s.position().left,i.width(i.width()+e),a.css({left:t.left+s.outerWidth()}),a.width(a.width()-e),d.attr(O,L(i.width())),n&&n.css({left:n.position().left+e})):(e=t.top-s.position().top,i.height(i.height()+e),a.css({top:t.top+s.outerHeight()}),a.height(a.height()-e),d.attr(O,L(i.height())),n&&n.css({top:n.position().top+e})),s.css({left:t.left,top:t.top}),c._adjustHeights(i,a),c._adjustDraggables(),c.trigger(nt,{paneIndex:r})}}}),c._dragBars[r]=a),c._bars.push(e),c._createCollapseNavigator(e,r),c._offset+=c._barSize)},destroy:function(){var t,e=this;for(e.element.removeClass("sui-splitter-container"),_(S).off(nt+".shieldSplitter"+e.getInstanceId()),t=0;t<e._children.length;t++){var i=e._navigators[t];i&&i.navigator.off(J)}e._children=e._bars=e._dragBars=e._navigators=null,e._offset=e._height=e._barSize=0,f.fn.destroy.call(e)}})).defaults=t,p.ui.plugin("Splitter",gt),t={cls:v,enabled:!0,animation:{enabled:!0,duration:200},mode:K,expanded:v,dataSource:v,titleTemplate:"{title}",contentTemplate:"{content}",width:v,height:v,maxHeight:v,events:{}},(gt=f.extend({init:function(){f.fn.init.apply(this,arguments);var t,e,s,a=this,i=a.options,n=i.cls,o=i.dieOnError,l=i.dataSource,r=(i.expanded,_(a.element));if(a._original=t=_(a.element),a._tagname=e=t.prop("tagName").toLowerCase(),t.wrap("<span/>"),t.hide(),a.element=r=_('<ul class="sui-accordion'+(n?" "+n:"")+'"/>').on(V,function(){a.trigger(V)}).on(Y,function(){a.trigger(Y)}),t.after(r),n=t.attr(ot),r.attr(ot,x(n)?n:"0"),x(i.width)&&r.css("width",i.width),x(i.height)&&r.css("height",i.height),x(i.maxHeight)&&r.css("max-height",i.maxHeight),l)a.dataSource=d.create(l);else{if("ul"!==e)return a.destroy(),void P("shieldAccordion: No dataSource or underlying UL element found.",o);s=function(t){var a=[];return _(t).children("li").each(function(t,e){var i={title:_(this).children("h1, h2, h3, h4, h5, h6").first().html(),content:_(this).children("div, p").first()};0<_(this).children("ul").length&&(i.items=s(_(this).children("ul")[0])),a.push(i)}),a},a.dataSource=d.create({data:t,schema:{parse:s}}),a.options.contentTemplate=function(t,e,i){a._moveElement(t.content,i)},a._fromUL=!0}a.dataSource.on(Z+".shieldAccordion"+a.getInstanceId(),b(a._dsChange,a)),a.dataSource.read()},refresh:function(t){this.refreshWithElement(this._original,t)},_dsChange:function(){var t=this,e=t.options;t._render(),t._dsLoadedOnce||(t._dsLoadedOnce=!0,x(e.expanded)?t.expanded(e.expanded):t.dataSource.view&&0<t.dataSource.view.length&&t.expanded(0),t.enabled(e.enabled))},_moveElement:function(t,e){_(t).data(s,_(t).parent()).data(n,_(t).prev()).addClass("sui-accordion-elm").appendTo(e)},_restoreElement:function(t){var e=_(t).data(n),i=_(t).data(s);0<_(e).length?_(t).insertAfter(e):_(t).prependTo(i),_(t).removeData(s).removeData(n).removeClass("sui-accordion-elm")},_restoreAll:function(){var t=this;_(t.element).find(".sui-accordion-elm").each(function(){t._restoreElement(_(this))})},_render:function(){var n=this,o=n.options,t=n.dataSource.view,l=_(n.element),r=t.length;l.empty(),t&&e(t,function(t,e){var i=w(),a=_('<li class="sui-accordion-item '+(r<=t+1?"sui-accordion-item-last ":"")+'sui-accordion-item-collapsed"/>').data(rt,t).data(dt,e).appendTo(l),s=_('<div class="sui-accordion-item-title"/>').click(function(t){n._enabled&&n._itemClick(_(a))}).appendTo(a),t=m.call(n,o.titleTemplate,e,t,s);x(t)&&!E(t)&&s.html(t),t=_('<div class="sui-accordion-item-body"/>').appendTo(a).hide(),s.attr(k,"button").attr(B,i).attr(q,U),t.attr(j,i),_('<div class="sui-accordion-item-body-content"/>').appendTo(t),c.array(e.items)&&0<e.items.length&&_("<div/>").appendTo(t).shieldAccordion({cls:"sui-accordion-item-body-items "+(o.cls?" "+o.cls:""),enabled:o.enabled,animation:o.animation,mode:o.mode,dataSource:{data:e.items},titleTemplate:o.titleTemplate,contentTemplate:o.contentTemplate,events:o.events})})},_itemClick:function(t){var e=this,i=e.options,a=t.hasClass("sui-accordion-item-collapsed");i.mode==K?a&&(e._collapse(t.siblings(".sui-accordion-item").not(".sui-accordion-item-collapsed").first(),!1,!0),e._expand(t,!1,!1)):a?e._expand(t,!1,!1):e._collapse(t,!1,!1)},_expand:function(t,e,i){var a=this.options,e=a.animation.enabled&&!e,s=a.animation.duration,n=_(t).children(".sui-accordion-item-body").first(),o=t.data(rt),l=t.data(dt);!i&&this.trigger("expand",{item:l,index:o,element:t}).isDefaultPrevented()||(1!==t.data(ct)&&(t.data(ct,1),i=t.children(".sui-accordion-item-body").first().children(".sui-accordion-item-body-content").first(),l=m.call(this,a.contentTemplate,l,o,i),x(l)&&!E(l)&&i.html(l)),t.removeClass("sui-accordion-item-collapsed").addClass("sui-accordion-item-expanded"),(o=_(t).children(".sui-accordion-item-title").first()).attr(q,M),a.mode==K&&o.attr(F,M),e?n.slideDown(s):n.show())},_collapse:function(t,e,i){var a=this.options,e=a.animation.enabled&&!e,a=a.animation.duration,s=_(t).children(".sui-accordion-item-body").first(),n=t.data(rt),o=t.data(dt);!i&&this.trigger("collapse",{item:o,index:n,element:t}).isDefaultPrevented()||(t.removeClass("sui-accordion-item-expanded").addClass("sui-accordion-item-collapsed"),_(t).children(".sui-accordion-item-title").first().attr(q,U).removeAttr(F),e?s.slideUp(a):s.hide())},expanded:function(){var t,e,i,a,s=this,n=_(s.element),o=(s._original,[].slice.call(arguments));if(!(0<o.length))return l(n.children(".sui-accordion-item").not(".sui-accordion-item-collapsed"),function(t){return t.data(rt)});t=r.array(o[0]),e=!x(o[1])||!!o[1],i=!x(o[2])||!!o[2],a=n.children(),l(t,function(t){0<=t&&(e?s._expand(_(a[t]),i,!0):s._collapse(_(a[t]),i,!0))})},enabled:function(){var t=_(this.element),e=this._original,i=[].slice.call(arguments);if(!(0<i.length))return this._enabled;(i=!!i[0])?(t.removeAttr(lt).removeClass("sui-accordion-disabled"),e.removeAttr(lt)):(t.attr(lt,lt).addClass("sui-accordion-disabled"),e.attr(lt,lt)),this._enabled=i},destroy:function(){var t=this;t.dataSource&&t.dataSource.off(".shieldAccordion"+t.getInstanceId()),t._restoreAll(),_(t.element).remove(),t._original&&t._original.unwrap().show(),t._original=t._dsLoadedOnce=t._fromUL=t._currItemEl=v,f.fn.destroy.call(t)}})).defaults=t,p.ui.plugin("Accordion",gt),t={cls:v,active:v,collapsible:!1,animation:{enabled:!0,activateDuration:160,deactivateDuration:60},titleTemplate:"{title}",titleClsTemplate:"{titleCls}",itemClsTemplate:"{itemCls}",hrefTemplate:"{href}",contentTemplate:"{content}",disabledTemplate:"{disabled}",iconUrlTemplate:"{iconUrl}",iconClsTemplate:"{iconCls}",position:it,dataSource:v,readDataSource:!0,trigger:J,events:{}},(gt=f.extend({init:function(){f.fn.init.apply(this,arguments);var t=this,e=_(t.element),i=_(e).children("ul, ol").first(),a=t.options,s=a.position,n=a.dieOnError,o=a.dataSource,l=a.cls,r=t._eventNS=".shieldTabs"+t.getInstanceId();if(i.length<=0?t._noTabList=!(i=null):t._noTabList=!1,t._tabList=i,e.addClass("sui-tabs sui-tabs-"+s+(l?" "+l:"")),e.on("keydown"+r,b(t._keydown,t)),o)t.dataSource=d.create(o);else{if(!i)return t.destroy(),void P("shieldTabs: No dataSource or tabs UL element found.",n);t.dataSource=d.create({data:i,schema:{parse:function(t){var e=[];return _(t).children("li").each(function(){var t=_(this),t={title:t.html(),titleCls:t.attr("data-title-class"),itemCls:t.attr("data-item-class"),href:t.attr("data-href"),disabled:t.attr("data-disabled")?!!t.attr("data-disabled"):x(t.attr(lt))&&null!==t.attr(lt),iconUrl:t.attr("data-icon-url"),iconCls:t.attr("data-icon-cls")};e.push(t)}),e}}})}_(S).on(nt+r,b(t._adjustTabListHeight,t)),_(e).children("div").hide(),t.dataSource.on(Z+r,b(t._dsChange,t)),e.attr(k,"tablist"),s!=g&&s!=C||e.attr("aria-orientation",st),o&&!a.readDataSource||t.dataSource.read()},_dsChange:function(){this._render()},_getItemIcon:function(t){var e=this.options,i=m(e.iconUrlTemplate,t);return i&&"undefined"!==i?_('<span class="sui-tabs-tab-icon"/>').append('<img src="'+i+'"/>'):(i=m(e.iconClsTemplate,t))&&"undefined"!==i?_('<span class="sui-tabs-tab-icon"/>').addClass(i):v},_render:function(){var t,e,i=this,a=_(i.element),s=i.options,n=s.active,o=i._tabList,c=i.dataSource.view||[],h=c.length,u=[];if(i._initialized&&(_(o).remove(),_(a).children("div").remove(),i._tabList=o=i._divs=t=v),!o)for(i._tabList=o=_("<ul/>").prependTo(a),e=0;e<h;e++)l=c[e],o.append(_("<li/>").append(i._getItemIcon(l),'<span class="sui-tabs-tab-text">'+m(s.titleTemplate,l)+"</span>"));if(s.position==at&&o.appendTo(a),o.addClass("sui-tabs-tablist"+(s.collapsible?" sui-tabs-tablist-collapsible":"")),o.children("li").each(function(){_(this).attr(j)||_(this).attr(j,w()),_(this).attr(k,"tab")}),i._initialized||x(a.attr(ot))||a.attr(ot,"0"),i._tabListHeight=o.outerHeight(),_(a).children("div").length<=0)for(e=0;e<h;e++)_(a).append('<div class="sui-tabs-cust"/>');for(i._divs=t=_(a).children("div"),_(t).addClass("sui-tabs-item"),_(t).hide(),e=0;e<h;e++){var l=c[e],r=o.children("li:eq("+e+")"),d=_(t[e]),p=m(s.titleClsTemplate,l),f=m(s.itemClsTemplate,l),g=m(s.disabledTemplate,l);p&&"undefined"!==p&&r.addClass(p),f&&"undefined"!==f&&d.addClass(f),(A(g)&&g||"true"===g||"1"===g||1===g)&&u.push(e),r.on(s.trigger+i._eventNS,b(i._select,i,e,r,d)),d.attr(k,"tabpanel").attr(G,r.attr(j)),d.attr(j)||d.attr(j,w()),r.attr(B,d.attr(j))}if(!(i._initialized=!0)!==n&&(n=N(n)?n:0,n=z(0,y(n,t.length-1)),i._selectedIndex=n,i._activate(n,!0,!1)),0<u.length)for(e=0;e<u.length;e++)i.enabled(u[e],!1)},_select:function(t,e,i){var a,s=this,n=s.options,o=n.collapsible,l=s.dataSource.view||[];s.enabled(t)&&(t===s._selectedIndex&&!o||(e=e||_(s._tabList).children("li:eq("+t+")"),i=i||_(s._divs[t]),o=!((a=_(e).hasClass("sui-tabs-tab-active"))&&o&&n.trigger!==Q),s.trigger("select",{tab:e,content:i,active:a,activate:o,index:t,item:l[t]}).isDefaultPrevented()||(s._selectedIndex=t,s._activate(t,o,!0,e,i))))},_activate:function(a,s,c,n,o){var l,t,e,i,r=this,d=r.options,h=d.animation,u=h.enabled,p=r.dataSource.view||[];r.enabled(a)&&(!s&&a!==r._activeIndex||(n=n||_(r._tabList).children("li:eq("+a+")"),o=o||_(r._divs[a]),l=p[a],_(r._divs).stop(!0,!0),_(r._tabList).children("li").removeClass("sui-tabs-tab-active").attr(R,U),e=function(){i=function(){c&&r.trigger("activate",{tab:n,content:o,active:s,index:a,item:l}),r._adjustTabListHeight()},s?(r._activeIndex=a,_(n).addClass("sui-tabs-tab-active").attr(R,M),(t=m(d.hrefTemplate,l))&&"undefined"!==t?_(o).load(t,v,function(t,e,i){r.trigger("load",{responseText:t,textStatus:e,jqXHR:i,tab:n,content:o,active:s,index:a,item:l}),r._adjustTabListHeight()}):(t=m(d.contentTemplate,l))&&"undefined"!==t&&_(o).html(t),_(o).fadeIn(u?h.activateDuration:0,i)):(r._activeIndex=v,i())},x(r._activeIndex)?_(r._divs).each(function(t){t!==r._activeIndex?_(this).hide():_(this).fadeOut(u?h.deactivateDuration:0,e)}):e()))},_adjustTabListHeight:function(){var t,e=this,i=e.options.position;(i==g||i==C&&e._divs&&e._divs[e._activeIndex])&&(i=_(e._tabList),t=_(e._divs[e._activeIndex]).innerHeight(),i.css("min-height",t),i=_(i.children("li").last()),e._tabListHeight>=t?i.addClass("sui-tabs-tab-last-bottom"):i.removeClass("sui-tabs-tab-last-bottom"))},_keydown:function(t){var e,i=this;if(_(i.element)[0]===_(t.target)[0]){switch(t.keyCode){case a.UP:case a.LEFT:i._selectPrevNext(t,!0),e=!0;break;case a.DOWN:case a.RIGHT:i._selectPrevNext(t,!1),e=!0;break;case a.SPACE:i.options.collapsible&&i._toggleCurrent(t),e=!0}e&&t.preventDefault()}},_toggleCurrent:function(t){var e=this._selectedIndex;x(e)&&this._activate(e,e!==this._activeIndex,!0)},_selectPrevNext:function(t,e){var i=this,a=i._selectedIndex,e=x(a)?e?i._getPrevSelectableIndex():i._getNextSelectableIndex():i._getFirstSelectableIndex();x(e)&&e!==a&&i._select(e)},_getFirstSelectableIndex:function(){var e,i=this;return _(i._tabList).children("li").each(function(t){if(i.enabled(t))return e=t,!1}),e},_getNextSelectableIndex:function(){var t,e=this._selectedIndex,i=_(this._tabList).children("li").length;if(e<i-1)for(t=e+1;t<i;t++)if(this.enabled(t))return t;if(0<e)for(t=0;t<e;t++)if(this.enabled(t))return t;return v},_getPrevSelectableIndex:function(){var t,e=this._selectedIndex,i=_(this._tabList).children("li").length;if(0<e)for(t=e-1;0<=t;t--)if(this.enabled(t))return t;if(e<i-1)for(t=i-1;e<t;t--)if(this.enabled(t))return t;return v},enabled:function(){var t=[].slice.call(arguments),e=t[0],e=_(this._tabList).children("li:eq("+e+")");if(0<e.length){if(!(1<t.length))return!_(e).hasClass("sui-tabs-tab-disabled");t[1]?_(e).removeClass("sui-tabs-tab-disabled"):_(e).addClass("sui-tabs-tab-disabled")}},enabledIndices:function(){var i=[];return _(this._tabList).children("li").each(function(t,e){_(this).hasClass("sui-tabs-tab-disabled")||i.push(t)}),i},active:function(){var t=[].slice.call(arguments);if(!(0<t.length))return this._activeIndex;this._activate(t[0],t[1],!1)},content:function(t){return _(this._divs)[t]},destroy:function(){var t=this,e=_(t.element),i=t.options,a=i.cls,s=t._tabList,n=t._eventNS;t.dataSource&&t.dataSource.off(Z+n),_(S).off(n),_(e).removeClass("sui-tabs sui-tabs-"+i.position+(a?" "+a:"")),_(e).children("div").removeClass("sui-tabs-item"),_(e).children(".sui-tabs-cust").remove(),t._divs=null,_(s).children("li").removeClass("sui-unselectable").off(n),_(s).removeClass("sui-tabs-tablist"),t._noTabList&&_(s).remove(),t._tabList=t._noTabList=t._activeIndex=t._selectedIndex=t._initialized=t._tabListHeight=v,f.fn.destroy.call(t)}})).defaults=t,p.ui.plugin("Tabs",gt)}(jQuery,shield,this);
!function(o,i,e){var a=i.ui.Widget,l=document,d=Math.ceil,t=navigator.userAgent,e=e.opera,m=/msie/i.test(t)&&!e&&7===l.documentMode,t=(o.extend,{show:!1,showImage:!0,text:null,template:null,useSmallImage:!1}),e=a.extend({init:function(e,t){var n=this;a.fn.init.apply(n,arguments),n.refresh(),n.options.show?n.show():n.hide()},destroy:function(){var e=this;o(e.mainElement).remove(),e.options.showImage&&(o(e.loadingImage).remove(),e.loadingImage=null),e.loadingText&&(o(e.loadingText).remove(),e.loadingText=null),o(e.backgroundElement).remove(),e.mainElement=e.backgroundElement=null,a.fn.destroy.call(e)},_render:function(){var e,t,n=this,i=n.options,a=i.template,s=(n.mainElement=e=o("<div/>").appendTo(l.body),e.addClass("sui-loading-panel"),m&&e.addClass("sui-loading-panel-ie7"),a?((a=o(a.replace(/^\s+/,"").replace(/\s+$/,""))).appendTo(l.body),t=d((n.element.height()-a.height())/2),s=d((n.element.width()-a.width())/2),a.css({"z-index":"inherit",position:"relative",dispaly:"block",top:t+"px",left:s+"px"}).appendTo(e),n.template=a):(i.showImage&&(t=o("<span/>").appendTo(e),n.loadingImage=t,i.useSmallImage?t.addClass("sui-loading-image-small"):t.addClass("sui-loading-image")),i.text&&n._generateTextElement()),o("<span/>").appendTo(e));(n.backgroundElement=s).addClass("sui-loading-back"),n._setPosition()},_generateTextElement:function(){var e=this,t=o("<span/>").appendTo(e.mainElement);t.get(0).innerHTML=e.options.text,t.addClass("sui-loading-text"),e.loadingText=t},refresh:function(){var e=this,t=(e.options,!e.mainElement||"none"==e.mainElement.css("display"));e.destroy(),e._render(),t?e.hide():e.show()},_setPosition:function(){var e=this,t=(e.options,e.element.offset()),n=i.ui.Util.GetMaxZIndex("div")+1;e.mainElement.css({left:d(t.left)+"px",top:d(t.top)+"px","z-index":n}),m&&(e.loadingText&&e.loadingText.css({"z-index":n+1}),e.loadingImage&&e.loadingImage.css({"z-index":n+1}),e.template&&e.template.css("z-index",n+1))},_setElementsPosition:function(){var e=this,t=e.element.height(),n=e.loadingImage,i=e.loadingText,a=n?n.height():0,s=i?i.height():0,t=d((t-a-s)/2);n&&e.loadingImage.css("top",t+"px"),i&&e.loadingText.css("top",t+"px")},show:function(){var e=this,t=e.options,n=e.element;e.mainElement.width(n.get(0).offsetWidth),e.mainElement.height(n.get(0).offsetHeight),e._setPosition(),e.mainElement.css("display",""),t.template||e._setElementsPosition()},hide:function(){this.mainElement.css("display","none")},setText:function(e){this.options.text=e,this.refresh()}});e.defaults=t,i.ui.plugin("LoadingPanel",e)}(jQuery,shield,this);
!function(S,M,c){function P(e,r,s,t){return t=(t-90)*Math.PI/180,{x:e+s*Math.cos(t),y:r+s*Math.sin(t)}}var a=M.ui.Widget,e=(M.Class,M.Constants),i=document,B=e.SVG_NS,D=!!i.createElementNS&&!!i.createElementNS(B,"svg").createSVGRect,p=(S.map,S.each,S.proxy),F=M.to.int,o=(M.is.func,M.error,Math.min),d=Math.max,t="disabled",N="px",h="float",l="left",n="right",I="horizontal",R="vertical",z="circular",e={cls:void 0,enabled:!0,min:0,max:100,value:0,layout:I,layoutOptions:{circular:{width:30,color:"#197BB5",colorDisabled:"#C4C4C4",borderColor:"#C4C4C4",borderWidth:1,backgroundColor:"#FFFFFF"}},reversed:!1,text:{enabled:!1,template:"{0}"},events:{}},r=a.extend({init:function(){a.fn.init.apply(this,arguments);var e=this,r=S(e.element),s=e.options,t=s.layout,o=s.cls;e._eventNS=".shieldProgressbar"+e.getInstanceId(),r.addClass("sui-progressbar"),t===R?r.addClass("sui-progressbar-vertical"):t===z&&r.addClass("sui-progressbar-circular"),t!==z&&(e.inner=S("<div/>").addClass("sui-progressbar-value").appendTo(r)),o&&r.addClass(o),t===I?(r=e.inner.css(h)||l,r=s.reversed?r===l?n:l:r===n?n:l,e.inner.css(h,r)):t==z&&(D||i.namespaces.scvprogressbar||i.namespaces.add("scvprogressbar","urn:schemas-microsoft-com:vml","#default#VML")),S(c).on("resize"+e._eventNS,p(e._winResize,e)),e._value=s.value,e._render(),e.enabled(s.enabled)},_winResize:function(){this._render()},_render:function(){var p,d,h,v,g,e=this,r=e.options,s=r.layout,u=r.reversed,t=r.min,b=r.max,f=e._value,x=r.text,m=S(e.element),y=m.width(),o=m.height(),a=e.inner,w=b-t,C=F(100*(f-t)/w);if(s===R)i=F(C*o/100),a.css({width:"100%",height:i+N,"margin-top":(u?"0":o-i)+N});else if(s===I)a.css({width:C+"%",height:o+N});else{if(s!==z)return;var i="",a=r.layoutOptions[s],C=a.width,r=a.borderWidth,s=e._enabled?a.color:a.colorDisabled,_=a.borderColor,a=a.backgroundColor,l=y/2,n=o/2,c=(o<y?n:l)-C/2-1,k=2*c,t=F(360*(f-t)/w),w=u?360-t:0,u=w+t,t=C-2*r;D?(i='<svg xmlns="'+B+'" version="1.1" width="'+y+'" height="'+o+'">',0<r&&(i+='<circle cx="'+l+'" cy="'+n+'" r="'+c+'" stroke="'+_+'" stroke-width="'+C+'" fill="none" />'),b<=f?i+='<circle cx="'+l+'" cy="'+n+'" r="'+c+'" stroke="'+s+'" stroke-width="'+t+'" fill="none" />':i=(i+='<circle cx="'+l+'" cy="'+n+'" r="'+c+'" stroke="'+a+'" stroke-width="'+t+'" fill="none" />')+'<path d="'+(h=w,g=P(p=l,d=n,c=c,v=u),p=P(p,d,c,h),d=v-h<=180?"0":"1",["M",g.x,g.y,"A",c,c,0,d,0,p.x,p.y].join(" "))+'" stroke="'+s+'" stroke-width="'+t+'" fill="none" />',i+="</svg>"):(i+='<scvprogressbar:group style="width:'+y+"px; height:"+o+'px;" coordsize="'+y+","+o+'">',0<r&&(i+='<scvprogressbar:oval style="width:'+k+"px; height:"+k+"px; position:relative; top:"+n+"px; left:"+l+'px;" strokeweight="'+C+'px" strokecolor="'+_+'" fill="false"><scvprogressbar:fill opacity="0%" color="transparent" /></scvprogressbar:oval>'),b<=f?i+='<scvprogressbar:oval style="width:'+k+"px; height:"+k+"px; position:relative; top:"+n+"px; left:"+l+'px;" strokeweight="'+t+'px" strokecolor="'+s+'" fill="false"><scvprogressbar:fill opacity="0%" color="transparent" /></scvprogressbar:oval>':i=i+'<scvprogressbar:oval style="width:'+k+"px; height:"+k+"px; position:relative; top:"+n+"px; left:"+l+'px;" strokeweight="'+t+'px" strokecolor="'+a+'" fill="false"><scvprogressbar:fill opacity="0%" color="transparent" /></scvprogressbar:oval><scvprogressbar:arc style="width:'+k+"px; height:"+k+"px; position:relative; top:"+n+"px; left:"+l+'px;" fill="false" strokeweight="'+t+'px" strokecolor="'+s+'" startangle="'+w+'" endangle="'+u+'"><scvprogressbar:fill opacity="0%" color="transparent" /></scvprogressbar:arc>',i+="</scvprogressbar:group>"),m.html(i)}x.enabled&&(m.find(".sui-progressbar-text").remove(),e.text=S('<div class="sui-progressbar-text" />').appendTo(m).html(M.format.call(e,x.template,e._value)),v=e.text.width(),h=e.text.height(),e.text.css({top:(o-h)/2+N,left:(y-v)/2+N}))},value:function(){var e=this,r=e.options,s=[].slice.call(arguments);if(!(0<s.length))return e._value;e._enabled&&(s=d(o(s[0],r.max),r.min),e.trigger("change",{value:s}).isDefaultPrevented()||(e._value=s,e._render(),s>=r.max&&e.trigger("complete")))},enabled:function(){var e=this,r=S(e.element),s=[].slice.call(arguments);if(!(0<s.length))return e._enabled;(s=!!s[0])?r.removeAttr(t).removeClass("sui-progressbar-disabled"):r.attr(t,t).addClass("sui-progressbar-disabled"),e._enabled=s,e.options.layout==z&&e._render()},destroy:function(){var e=this.options.cls;S(c).off(this._eventNS),S(this.element).removeClass("sui-progressbar sui-progressbar-disabled sui-progressbar-vertical sui-progressbar-circular"+(e?" "+e:"")).empty(),a.fn.destroy.call(this)}});r.defaults=e,M.ui.plugin("ProgressBar",r)}(jQuery,shield,this);
!function(_,v,o){var e,u,c,m=v.ui.Widget,h=(v.Class,v.DataSource),d=v.ui.Position,a=v.Constants.KeyCode,I=v.strid,E=document,g=_.proxy,l=_.each,S=_.grep,p=_.extend,y=v.error,T=v.format,f=v.is.defined,s=v.is.boolean,r=v.is.integer,w=v.is.func,N="role",k="true",D="false",A="aria-expanded",i="aria-activedescendant",b="horizontal",x="vertical",F="focus",P="blur",L="change",R="tabindex",W="disabled",M="sui-menu-item-level",O="sui-menu-item-expanded",H="sui-menu-item-disabled",U="sui-menu-item-selected",B="sui-menu-item-index",z="sui-menu-item-hover",C="sui-menu-item-data-item",G="sui-menu-item-parent",j="sui-menu-item-cc",t={cls:o,width:o,height:o,dataSource:o,readDataSource:!0,orientation:b,delay:100,animation:{enabled:!0,openDelay:100,closeDelay:50},contentTemplate:"{content}",overflow:"flipfit",events:{}},q=m.extend({init:function(){m.fn.init.apply(this,arguments);var e,t,a,n,i=this,s=_(i.element),r=i.options,c=r.dieOnError,l=r.dataSource,o=r.cls,d=r.renderToINTERNAL,u=r.wrapOriginalINTERNAL,u=!f(u)||u;if(i._original=e=_(i.element),i._tagname=t=e.prop("tagName").toLowerCase(),i._isContext=r.isContextINTERNAL,n=i._eventNS=".shieldMenu"+i.getInstanceId(),u?(i.wrapper=e.wrap("<div/>").parent(),i._isWrapped=!0):i._isWrapped=!1,e.hide(),i.element=s=_('<ul class="sui-menu sui-menu-top sui-menu-'+r.orientation+(o?" "+o:"")+'"/>').on(F+n,g(i._focus,i)).on(P+n,g(i._blur,i)).on("keydown"+n,g(i._keydown,i)),0<_(d).length?_(d).append(s):e.after(s),f(r.width)&&s.css("width",r.width),f(r.minWidth)&&s.css("minWidth",r.minWidth),f(r.height)&&s.css("height",r.height),u=e.attr(R),s.attr(R,f(u)?u:"0"),i._isRtl=v.support.isRtl(s),l)i.dataSource=h.create(l);else{if("ul"!==t)return i.destroy(),void y("shieldMenu: No dataSource or underlying UL element found.",c);a=function(e){var i=[];return _(e).children("li").each(function(){var e=_(this),t=0<e.children("ul").length,n={cls:e.attr("data-class"),content:(t?e.children().not("ul").first():e).html(),href:e.attr("data-href")?e.attr("data-href"):e.children().not("ul").first().attr("href"),disabled:e.attr("data-disabled")?e.attr("data-disabled"):f(e.attr(W))&&null!==e.attr(W),separator:"separator"===e.attr("data-role"),iconUrl:e.attr("data-icon-url"),iconCls:e.attr("data-icon-cls")};t&&(n.items=a(e.children("ul")[0])),i.push(n)}),i},i.dataSource=h.create({data:e,schema:{parse:a}})}i.dataSource.on(L+n,g(i._dsChange,i)),s.attr(N,i._isContext?"menu":"menubar").attr("aria-orientation",r.orientation),r.readDataSource&&i.dataSource.read()},refresh:function(e){this.refreshWithElement(this._original,e)},_isFocused:function(){return _(this.element).hasClass("sui-menu-focus")},_focus:function(e){var t=this;t._blurTimeout&&(clearTimeout(t._blurTimeout),t._blurTimeout=null),t._isFocused()||(_(t.element).addClass("sui-menu-focus"),_(t.element).focus(),t.trigger(F))},_blur:function(e){var t=this;t._isFocused()&&(t._blurTimeout&&clearTimeout(t._blurTimeout),t._blurTimeout=setTimeout(function(){_(t.element).removeClass("sui-menu-focus"),t._collapseAll(),t._deselectAll(),t.trigger(P)},100))},_dsChange:function(){this._renderItems(this.dataSource.view,this.element,0,null)},_getItemIcon:function(e){var t=_('<span class="sui-menu-item-icon"/>');return e.iconUrl?t.append('<img src="'+e.iconUrl+'"/>'):e.iconCls&&t.addClass(e.iconCls),t},_renderItems:function(e,c,t,d){for(var n,i,a,m,s,r,l,o=this,f=o.options,h=(e||[]).length,p=0<S(e||[],function(e){return e.iconUrl||e.iconCls}).length,u=0;u<h;u++)r=!!(n=e[u]).disabled,a=n.href,s=!(l=n.separator)&&n.items&&0<n.items.length,m=n.iconUrl||n.iconCls,i=l?"&nbsp;":T.call(o,f.contentTemplate,n),a=_('<a class="sui-menu-item-link" '+(a?'href="'+a+'"':"")+' tabindex="-1"/>').append('<span class="sui-menu-item-text'+(s?" sui-menu-item-text-hc":"")+'">'+i+"</span>"),i=_('<li class="sui-menu-item sui-unselectable'+(r?" sui-menu-item-disabled":"")+(l?" sui-menu-item-separator":"")+(n.cls?" "+n.cls:"")+'"/>').on("selectstart",function(){return!1}).appendTo(c).data(C,n).data(G,d).data(M,t).data(H,r).data(B,u).attr(N,l?"separator":"menuitem").attr("id",I()).append(a),l?i.attr("aria-orientation",0<t||f.orientation===x?b:x):r&&i.attr("aria-disabled",k),a.click(g(o._itemClicked,o,i)).on(F,g(o.focus,o)),!l&&p&&(0<t||m||f.orientation===x)&&a.prepend(o._getItemIcon(n)),s&&(a.append('<span class="sui-menu-item-children-caret"/>'),(r=_('<div class="sui-menu-submenu"/>').hide().data("sui-menu-item-cc-parent",i).appendTo(i)).css("z-index",v.ui.Util.GetMaxZIndex(".sui-menu, .sui-menu-submenu",E.body)+1),l=_('<ul class="sui-menu sui-menu-vertical"/>').attr(N,"menu").appendTo(r),o._renderItems(n.items,l,t+1,i),i.data(j,r).attr("aria-haspopup","true").hover(g(o._itemMouseEnter,o,i,!0),g(o._itemMouseLeave,o,i,!0)))},_itemMouseEnter:function(e,t){var n=this;e.addClass(z),setTimeout(function(){e.hasClass(z)&&n._itemExpand(e,t)},n.options.delay)},_itemMouseLeave:function(e,t){e.removeClass(z),this._itemCollapse(e,!0,t)},_itemExpand:function(e,t,n){var i=this,a=i.options,s=a.animation,r=e.data(M),l=e.data(j),r=0===r&&a.orientation===b,o=e.data(C),u=e.data(G);i._isExpandable(e)&&i._canHaveFocus(e)&&l&&(l.stop(!0,!0),u&&!i._isExpanded(u)&&i._itemExpand(u,!1,!0,!0),t&&i.trigger("expand",{element:e,item:o}),r&&l.css("min-width",e.outerWidth()),l.show(),d.Set(l,e,{source:"left top",target:r?"left bottom":"right top",overflow:a.overflow}),!n&&s&&s.enabled?l.hide().slideDown(s.openDelay,function(){e.data(O,!0).attr(A,k)}):e.data(O,!0).attr(A,k))},_itemCollapse:function(e,t,n,i){var a=this,s=a.options.animation,r=e.data(j),l=e.data(C),o=e.data(G);r&&(r.stop(!0,!0),n&&a.trigger("collapse",{element:e,item:l}),t=!f(t)||!!t,_(r).find("ul").first().children().each(function(){var e=_(this);a._isExpanded(e)&&a._itemCollapse(e,t,!1,!0)}),!i&&s&&s.enabled?r.slideUp(s.closeDelay,function(){e.data(O,!1).attr(A,D),t&&o&&!o.hasClass(z)&&a._itemCollapse(o,!0,!1,!0)}):(r.hide(),e.data(O,!1).attr(A,D),t&&o&&!o.hasClass(z)&&a._itemCollapse(o,!0,!1,!0)))},_collapseAll:function(){var t=this;_(t.element).children("li").each(function(){var e=_(this);t._isExpanded(e)&&t._itemCollapse(e,!1,!1,!0)})},_isExpandable:function(e){return!!e.data(j)},_isExpanded:function(e){return!0===e.data(O)},_hasExpanded:function(e){var t=this,n=e.data(j);return!0===e.data(O)&&0<S(_(n).find("ul").first().children(),function(e){return t._isExpanded(_(e))||t._hasExpanded(_(e))}).length},_canHaveFocus:function(e){return!e.data(H)&&!e.data(C).separator},_keydown:function(e){var t,n=this,i=!0;switch(e.keyCode){case a.UP:n._move("up",e);break;case a.DOWN:n._move("down",e);break;case a.LEFT:n._move("left",e);break;case a.RIGHT:n._move("right",e);break;case a.SPACE:case a.ENTER:t=n._getSelected(),f(t)&&(n._isExpanded(t)||n._itemExpand(t,!0),n._itemClicked(t));break;default:i=!1}i&&e.preventDefault()},_getFirstSelectableItem:function(e){var t,n=this;return _(e).children("li").each(function(){var e=_(this);if(n._canHaveFocus(e))return t=e,!1}),t},_getNextSelectableItem:function(e){var t,n,i=e.parent(),a=e.index(),s=i.children("li"),r=s.length;if(a<r-1)for(n=a+1;n<r;n++)if(t=_(s[n]),this._canHaveFocus(t))return t;if(0<a)for(n=0;n<a;n++)if(t=_(s[n]),this._canHaveFocus(t))return t;return e},_getPrevSelectableItem:function(e){var t,n,i=e.parent(),a=e.index(),s=i.children("li"),i=s.length;if(0<a)for(n=a-1;0<=n;n--)if(t=_(s[n]),this._canHaveFocus(t))return t;if(a<i-1)for(n=i-1;a<n;n--)if(t=_(s[n]),this._canHaveFocus(t))return t;return e},_move:function(e,t){var n,i,a,s,r=this,l=r._getSelected();r._isRtl;if(f(l))if(n=l.parent().hasClass("sui-menu-vertical")?x:b,a=(i=l.data(G))?i.parent().hasClass("sui-menu-vertical")?x:b:o,n==b){if("up"===e)return void r._itemCollapse(l,!1,!0);if("down"===e){if(!r._isExpandable(l))return;r._itemExpand(l,!0),s=r._getFirstSelectableItem(l.find(".sui-menu-submenu > .sui-menu").first())}else if("left"===e){if((s=r._getPrevSelectableItem(l))===l)return}else{if("right"!==e)return;if((s=r._getNextSelectableItem(l))===l)return}}else if("up"===e){if(0===l.index()){if(i&&a===b)s=i,r._itemCollapse(s,!1,!0);else if((s=r._getPrevSelectableItem(l))===l)return}else if((s=r._getPrevSelectableItem(l))===l)return}else if("down"===e){if((s=r._getNextSelectableItem(l))===l)return}else if("left"===e){if(!i||a!==x)return;s=i,r._itemCollapse(s,!1,!0)}else{if("right"!==e)return;if(!r._isExpandable(l))return;r._itemExpand(l,!0),s=r._getFirstSelectableItem(l.find(".sui-menu-submenu > .sui-menu").first())}else s=r._getFirstSelectableItem(r.element);f(s)&&(r._setSelected(s,!0),r.trigger("select",{element:s,item:s.data(C)}))},_deselectAll:function(){var e=this.element;_(e).find("."+U).each(function(){_(this).removeClass(U)}),e.removeAttr(i)},_setSelected:function(e,t){var n=this.element;this._canHaveFocus(e)&&(t?(this._deselectAll(),_(e).addClass(U),n.attr(i,e.attr("id"))):(_(e).removeClass(U),n.removeAttr(i)))},_getSelected:function(){var e=_(this.element).find("."+U).first();return 0<_(e).length?e:o},_isSelected:function(e){return _(e).hasClass(U)},_itemClicked:function(e,t){var n=e.data(C);t&&t.isPropagationStopped()||(this._focus(),this._canHaveFocus(e)&&(e={item:n},this._isContext&&(e.element=c),n=this.trigger("click",e),t&&(t.stopPropagation(),n.isDefaultPrevented()&&t.preventDefault())))},_getItemByIndex:function(){var e,t,n=[].slice.call(arguments),i=o;if(0<n.length)for(t=0;t<n.length;t++){if(e=n[t],!r(e))return o;if(i=(0===t?_(this.element):_(_(i).data(j)).children("ul").first()).children("li:eq("+e+")"),_(i).length<=0)return o}return i},_getItemIndex:function(e){for(var t=[];t.unshift(e.data(B)),e=e.data(G););return t},enabled:function(){var e=[].slice.call(arguments),t=s(e[0])?e.shift():o,e=this._getItemByIndex.apply(this,e);if(f(e)){if(!f(t))return!e.data(H);e.data(H,!t),_(e)[t?"removeClass":"addClass"]("sui-menu-item-disabled")}},expanded:function(){var e=this,t=[].slice.call(arguments),n=s(t[0])?t.shift():o,i=e._getItemByIndex.apply(this,t);if(f(i)){if(!f(n))return e._isExpanded(i);n?(e._collapseAll(),e._itemExpand(i,!1)):e._itemCollapse(i,!1,!1)}f(n)&&!1===n&&0===t.length&&e._collapseAll()},selected:function(){var e=[].slice.call(arguments),t=s(e[0])?e.shift():o,n=this._getItemByIndex.apply(this,e);if(f(n)){if(!f(t))return this._isSelected(n);this._setSelected(n,t)}f(t)&&!1===t&&0===e.length&&this._deselectAll()},selectedIndex:function(){var e=this._getSelected();if(f(e))return this._getItemIndex(e)},selectedData:function(){var e=this._getSelected();if(f(e))return _(e).data(C)},selectedItem:function(){return this._getSelected()},destroy:function(){var e=this,t=e._eventNS;e.dataSource&&e.dataSource.off(L+t),e._blurTimeout&&(clearTimeout(e._blurTimeout),e._blurTimeout=null),_(e.element).off(t).remove(),e._isWrapped&&e._original.unwrap(),e._original.show(),e._original=null,m.fn.destroy.call(e)}});q.defaults=t,v.ui.plugin("Menu",q),t=p({},t,{orientation:x,target:o,filter:o,focusOnOpen:!0,minWidth:o}),(e=m.extend({init:function(){m.fn.init.apply(this,arguments);var e,i=this,t=_(i.element),n=i.options,a=n.events,s={},r=i._eventNS=".shieldContextMenu"+i.getInstanceId();i.menuElement=e=_('<div class="sui-context-menu"/>').hide().appendTo(E.body),n.minWidth&&i.menuElement.css("min-width",n.minWidth),l(["focus","blur","expand","collapse","click","select"],function(e,t){var n=a[t];w(n)&&(s[t]=g(n,i))}),i._menu=new q(t,p({},n,{renderToINTERNAL:e,wrapOriginalINTERNAL:!1,isContextINTERNAL:!0,events:s})),i._mouseTracker=new v.MouseTracker,_(n.target).on("contextmenu"+r,n.filter,function(e){return e.preventDefault(),i._open(i._mouseTracker.getPosition(e),_(e.currentTarget),!0,!1),!1}),_(E).on("mousedown"+r,function(e){_(e.target).closest(".sui-context-menu").length<=0&&i._closeOpen(!0)})},_open:function(e,t,n,i){var a=this,s=a.menuElement,r=a.options,l=r.animation,o=r.focusOnOpen;a._closeOpen(!1),n&&a.trigger("open",{element:t}).isDefaultPrevented()||(s.stop(!0,!0),s.show(),d.Set(s,new v.Event({pageX:e.x,pageY:e.y}),{source:"left top",target:"left top",overflow:r.overflow}),l&&l.enabled?s.hide().slideDown(l.openDelay,function(){c=t,(u=a)._visible=!0,o&&a.focus()}):(c=t,(u=a)._visible=!0,o&&a.focus()))},_close:function(e){var t=this,n=t.menuElement,i=t.options.animation;e&&t.trigger("close").isDefaultPrevented()||(u=c=null,n.stop(!0,!0),i&&i.enabled?n.slideUp(i.closeDelay,function(){t._visible=!1}):(n.hide(),t._visible=!1))},_closeOpen:function(e){u&&u.closeINTERNAL(!0)},closeINTERNAL:function(e){this._close(e)},focus:function(){_(this.menuElement).find(".sui-menu").first().focus()},visible:function(){var e,t,n=this,i=[].slice.call(arguments);if(!(0<i.length))return n._visible;e=!!i[0],t=i[1]||n._mouseTracker.getPosition(),e?n._open(t,i[2],!1,!1):n._close(!1),n._visible=e},enabled:function(){return this._menu.enabled.apply(this._menu,arguments)},expanded:function(){return this._menu.expanded.apply(this._menu,arguments)},selected:function(){return this._menu.selected.apply(this._menu,arguments)},selectedIndex:function(){return this._menu.selectedIndex.apply(this._menu,arguments)},selectedData:function(){return this._menu.selectedData.apply(this._menu,arguments)},selectedItem:function(){return this._menu.selectedItem.apply(this._menu,arguments)},destroy:function(){var e=this,t=e._eventNS;_(E).off(t),_(e.options.target).off(t),e._mouseTracker&&(e._mouseTracker.destroy(),e._mouseTracker=null),e._close(),e._menu&&(e._menu.destroy(),e._menu=null),_(e.menuElement).remove(),m.fn.destroy.call(e)}})).defaults=t,v.ui.plugin("ContextMenu",e)}(jQuery,shield);
!function(n,e,a){var s=e.ui.Widget,l=(n.extend,e.is[void 0]),r={min:0,max:5,step:1,symbolWidth:16,symbolHeight:16,enabled:!0,markPreset:!1,value:0,events:{}},i=s.extend({init:function(e,i){var t=this;s.fn.init.apply(t,arguments),t._enabled=t.options.enabled,t._renderRating(e,i,!1)},_setSelection:function(e){var i=this;if(i._enabled)return i._value=e,i._markPreset&&(i._markPreset=!1),i._range.find(".sui-rating-hover").hide(),i._range.find(".sui-rating-selected").width(e*i._symbolWidth-i._min*i._symbolWidth).show(),i.trigger("change"),!0},_calcRawScore:function(e,i){var t=this,i=(i.changedTouches?i.changedTouches[0]:i).pageX-n(e).offset().left;return(i=(i=t._ltr?i:t._range.width()-i)>t._range.width()?t._range.width():i)<0&&(i=0),Math.ceil(i/t._symbolWidth*(1/t._step))},_setHover:function(e){var i,t=this;t._enabled&&(e=e*t._symbolWidth*t._step,(i=t._range.find(".sui-rating-hover")).width()!=e&&(t._range.find(".sui-rating-selected").hide(),i.width(e).show()))},_touchHandler:function(e){var i=e.originalEvent.changedTouches[0],t="";switch(e.type){case"touchmove":t="mousemove";break;case"touchend":t="mouseup";break;default:return}var n=document.createEvent("MouseEvent");n.initMouseEvent(t,!0,!0,a,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(n),e.preventDefault()},_renderRating:function(e,i,t){var n,a=this,i=(a._item=a.element,a._item.hasClass("sui-rating")||a._item.addClass("sui-rating"),a._ltr=!a.element.parent().hasClass("sui-rtl"),t&&(n=null,l(a._value)?(n=(isNaN(i.value)?r:i).value,a._value=n):n=a._value,a._enabled&&(a._wired=!1)),a._initialized||(a._min=(isNaN(i.min)?r:i).min,a._max=(isNaN(i.max)?r:i).max,a._step=(isNaN(i.step)?r:i).step,a._symbolWidth=(isNaN(i.symbolWidth)?r:i).symbolWidth,a._symbolHeight=(isNaN(i.symbolHeight)?r:i).symbolHeight,a._value=(isNaN(i.value)?r:i).value,a._markPreset=(isNaN(i.markPreset)?r:i).markPreset,e="DIV"==a._item[0].nodeName?"div":"span",n=('<{{element}} id="shieldRating-range-{{index}}" class="sui-rating-range" tabindex="0"><{{element}} class="sui-rating-selected" style="height:'+a._symbolHeight+'px"></{{element}}><{{element}} class="sui-rating-hover" style="height:'+a._symbolHeight+'px"></{{element}}></{{element}}>').replace(/{{index}}/gi,2).replace(/{{element}}/gi,e),this.element.append(n),a._initialized=!0),a._item.find(".sui-rating-selected, .sui-rating-hover").height(a._symbolHeight),a._range=a._item.find(".sui-rating-range"),a._range.width(a._symbolWidth*(a._max-a._min)).height(a._symbolHeight),"sui-rating-preset"+(a._ltr?"":"-rtl"));a._markPreset?a._item.find(".sui-rating-selected").addClass(i):a._item.find(".sui-rating-selected").removeClass(i),null!=a._value&&(e=(a._value-a._min)*a._symbolWidth,a._item.find(".sui-rating-selected").width(e)),a._wired||(a._enabled&&(t||(a._range.on("touchmove touchend",a._touchHandler),a._range.mousemove(function(e){e=a._calcRawScore(this,e);a._setHover(e)}),a._range.mouseleave(function(e){a._range.find(".sui-rating-hover").hide().width(0),a._item.trigger("hover",[null]).trigger("over",[null]),a._range.find(".sui-rating-selected").show()}),a._range.mouseup(function(e){e=a._calcRawScore(this,e)*a._step+a._min;a._setSelection(e),a._range.blur()}),a._range.keyup(function(e){38!=e.which&&e.which!=(a._ltr?39:37)||a._setSelection(Math.min(a._value+a._step,a._max)),40!=e.which&&e.which!=(a._ltr?37:39)||a._setSelection(Math.max(a._value-a._step,a._min))}))),a._wired=!0)},value:function(){var e=this,i=e.options,t=[].slice.call(arguments);if(!(0<t.length))return!l(e._value)||l(i.value)?e._value:i.value;t=t[0];t<e._min||t>e._max||(e.options.value=t,e._value=t,e._renderRating(e,i,!0))},enabled:function(){var e=this,i=e.options,t=e.element,n=[].slice.call(arguments);if(!(0<n.length))return e._enabled;e._enabled=n[0],e._renderRating(e,i,!0),e._enabled?t.removeClass("sui-rating-disabled"):t.addClass("sui-rating-disabled")},destroy:function(){var e=this;n(e.element).removeClass("sui-rating-hover sui-rating-selected sui-rating-disabled sui-rating-preset-rtl sui-rating-preset sui-rating").empty(),e._range.off("touchmove touchend",e._touchHandler),e._markPreset=e._enabled=e._min=e._max=e._value=e._ltr=e._item=e._symbolWidth=e._symbolHeight=e._step=e._wired=e._initialized=e._range=null,s.fn.destroy.call(e)}});i.defaults=r,e.ui.plugin("Rating",i)}(jQuery,shield,this);
!function(P,i,e){var n=i.ui.Widget,o=(i.Class,i.DataSource),a=document,r=i.is,k=(i.get,i.format),S=i.to.int,l=(Math.abs,P.each,P.proxy),e=(P.extend,P.map,e.opera),t=navigator.userAgent,s=/msie/i.test(t)&&!e,T=s&&7===a.documentMode,b="width",I="sui-disabled",u="click",t=n.extend({init:function(e,t){n.fn.init.apply(this,arguments);var a=this,i=a.options;a.currentPage=i.currentPage,a._createWrappers(),a._createPagerElements(),s&&a.element.on("selectstart",a._selectStart=function(){return!1}),a.element.on(u,"a",a._click=l(a._clickHandler,a)),i.dataSource?((a.dataSource=o.create(i.dataSource)).on("change.shieldPager"+a.getInstanceId(),l(a._dataChange,a)),a._updateDataSource()):a.refresh(!0)},destroy:function(){var e=this;e.dataSource&&e.dataSource.off("change.shieldPager"+e.getInstanceId()),e.pagination=null,e.infoBox=null,e.element.off("selectstart",e._selectStart),e._selectStart=null,e.element.off(u,"a",e._click),e._click=null,e.startLinkIndex=null,e.endLinkIndex=null,e.element.remove(),n.fn.destroy.call(e)},_clickHandler:function(e){var t=P(e.currentTarget),a=this;a.options;e.preventDefault(),t.parent().hasClass(I)||(e=S(t.attr("data-page")),a.currentPage=e,a.refresh())},_createWrappers:function(){var e=this,t=e.element,a=(t.addClass("sui-pager sui-pager-core"),P("<ul/>").appendTo(t)),t=(T?a.addClass("sui-pagination sui-pagination-ie7"):a.addClass("sui-pagination"),P("<div/>").appendTo(t));s&&!T?t.addClass("sui-pager-info-box-ie"):t.addClass("sui-pager-info-box"),e.pagination=a,e.infoBox=t},_updateInfoBox:function(){var e=this,t=e.options,a=t.messages,i=t.pageSize*(e.currentPage-1)+1,n=i-1+t.pageSize,r=Math.ceil(t.totalItems/t.pageSize),a=(n>t.totalItems&&(n=t.totalItems),0===t.totalItems&&(i=0),k.call(e,a.infoBarTemplate,i,n,t.totalItems,e.currentPage,r));P(e.infoBox).empty().html(a)},_createPagerElements:function(){var e=this,t=e.options,a=t.messages,i=e.currentPage,n=e.pagination,r=Math.ceil(t.totalItems/t.pageSize),s=Math.min(t.pageLinksCount,r),o="",l="",g="",p="",c="",d=S((i-1)/t.pageLinksCount),h=d*t.pageLinksCount+1,f=(1==i&&(g=" "+I),i!=r&&t.totalItems||(p=" "+I),t.imageLinks&&(a.previousText="&nbsp;",a.nextText="&nbsp;",a.firstText="&nbsp;",a.lastText="&nbsp;",l="sui-navigation-links "),Math.min(h+s,r+1));e.startLinkIndex=h,e.endLinkIndex=f-1,0<d&&(o+="<li class='sui-pager-element'><a data-page='"+(e.startLinkIndex-1)+"'>...</a></li>");for(var u=h;u<f;u++)o+="<li class='sui-pager-element'><a data-page='"+u+"' class='sui-pager-number"+(c=u==i?" sui-selected":c)+"'>"+k.call(e,a.pageLabelTemplate,u)+"</a></li>",c="";e.endLinkIndex<r&&(o+="<li class='sui-pager-element'><a data-page='"+(e.endLinkIndex+1)+"'>...</a></li>"),t.directionLinks&&(o=(o="<li class='sui-pager-element"+g+"'><a title='"+a.previousTooltip+"' data-page='"+(i-1)+"' class='"+l+"sui-prev'>"+a.previousText+"</a></li>"+o)+"<li class='sui-pager-element"+p+"'><a title='"+a.nextTooltip+"' data-page='"+(i+1)+"' class='"+l+"sui-next'>"+a.nextText+"</a></li>"),t.boundaryLinks&&(o=(o="<li class='sui-pager-element"+g+"'><a title='"+a.firstTooltip+"' data-page='1' class='"+l+"'>"+a.firstText+"</a></li>"+o)+"<li class='sui-pager-element"+p+"'><a title='"+a.lastTooltip+"' data-page='"+r+"' class='"+l+"'>"+a.lastText+"</a></li>"),n.html(o);s=n.find("a");if(0<s.length&&(P(s[0]).addClass("sui-first"),P(s[s.length-1]).addClass("sui-last")),T){var m=n.find("li");if(0<m.length){for(var x=0,u=0;u<m.length;u++){var v=m[u].clientWidth;x+=v,P(m[u]).css(b,v+"px")}n.css(b,x+"px")}}},_dataChange:function(){var e=this.options,t=this.dataSource,a=t.take,i=Math.ceil(t.skip/a)+1;this.currentPage=i,e.pageSize=a,e.totalItems=t.total,this.refresh(!0)},refresh:function(e){var t=this;t.pagination.empty(),t._createPagerElements(),t._updateInfoBox(),e||(t._updateDataSource(),t.trigger("change",{currentPage:t.currentPage,pageSize:t.options.pageSize}))},_updateDataSource:function(){var e=this.dataSource,t=this.options;e&&(e.skip=(this.currentPage-1)*t.pageSize,e.take=t.pageSize,e.read())},page:function(e){if(!e)return this.currentPage;e=S(e);this._isValidPage(e)&&(this.currentPage=e,this.refresh())},first:function(){this.currentPage=1,this.refresh()},last:function(){var e=this.options,e=Math.ceil(e.totalItems/e.pageSize);this.currentPage=e,this.refresh()},hasNext:function(){var e=this.options,e=Math.ceil(e.totalItems/e.pageSize);return this.currentPage<e},hasPrev:function(){return 1<this.currentPage},next:function(){var e=this,t=e.options,t=Math.ceil(t.totalItems/t.pageSize);e.currentPage==t||(e.currentPage=e.currentPage+1,e.refresh())},prev:function(){var e=this;e.options;1==e.currentPage||(e.currentPage=e.currentPage-1,e.refresh())},pageSize:function(e){var t=this.options;if(!e)return t.pageSize;e=S(e);this._isValidPageSize(e)&&(this.currentPage=1,t.pageSize=e,this.refresh())},_isValidPage:function(e){var t=this.options,a=Math.ceil(t.totalItems/t.pageSize);return r.integer(e)?!(a<e||e<1)||(i.error("Invalid page number. The page number must be greater than 0 and less than "+a+".",t.dieOnError),!1):(i.error("Invalid page number. The page number must integer.",t.dieOnError),!1)},_isValidPageSize:function(e){var t=this.options;return r.integer(e)?!(e<1)||(i.error("Invalid page number. The page number must be greater than 0 (zero).",t.dieOnError),!1):(i.error("Invalid page size number. The page size number must be integer.",t.dieOnError),!1)}});t.defaults={currentPage:1,totalItems:null,pageSize:10,pageLinksCount:5,directionLinks:!0,boundaryLinks:!0,imageLinks:!1,messages:{pageLabelTemplate:"{0}",infoBarTemplate:"{0} - {1} of {2} items",previousText:"&lsaquo;",nextText:"&rsaquo;",firstText:"&laquo;",lastText:"&raquo;",firstTooltip:"Go to the first page",previousTooltip:"Go to the previous page",nextTooltip:"Go to the next page",lastTooltip:"Go to the last page"}},i.ui.plugin("Pager",t),i.ui.Pager=t}(jQuery,shield,this);
!function(v,l,g,p){function x(e){return(e=v(e).prop("tagName").toLowerCase())==ge?Ne:"input"==e?Ee:"textarea"==e?Be:"uto"}function c(e){return v("<div/>").text(e).html()}function d(e){var t;(e=v(e)).focus(),e.get(0).setSelectionRange?(t=2*e.val().length,e.get(0).setSelectionRange(t,t)):e.val(e.val())}function _(e){var t=(e+="").lastIndexOf(".");return-1<t?e.length-t-1:0}function a(e,t){if(e&&!S(e))if(y(e))for(var n=0;n<e.length;n++)a(e[n],t);else if(e.or||e.and)for(var i in e)e.hasOwnProperty(i)&&a(e[i],t);else e.value=t}var r,n,u,e,m=l.ui.Widget,h=(l.Class,l.DataSource),i=l.ui.Position,s=l.Constants.KeyCode,k=l.error,S=l.is.func,y=l.is.array,f=l.is.defined,C=(l.is.number,l.is.string),w=(l.is.object,l.to.array),A=l.to.int,D=l.to.number,T=l.support.browser,N=l.format,E=l.strid,B=document,I=Math.min,L=Math.max,M=Math.pow,V=v.extend,U=(v.map,v.each),b=v.proxy,R=v.inArray,P="id",W="role",O="true",H="false",F="textbox",K="aria",$=K+"-selected",z=K+"-autocomplete",G=K+"-activedescendant",Z=K+"-multiline",j=K+"-valuenow",q=K+"-disabled",Q=K+"-haspopup",X=K+"-checked",J=K+"-label",Y=K+"-labelledby",ee=K+"-controls",te=K+"-expanded",ne="title",o="disabled",ie="checked",ae="selected",le="itemclick",se="tabindex",oe="mousedown",re="mouseup",ue="mouseout",ce="click",de="keydown",he="dragstart",pe="dragenter",_e="dragover",ve="change",me="focus",fe="blur",be="resize",ge="select",xe="value",ke="placeholder",Se="selectstart",ye="unselectable",Ce="height",we="suilbitemdata",Ae="suilbitemindex",De="suilbitemvalue",Te="suilbitemtext",Ne="uts",Ee="uti",Be="utta",t={enabled:!0,cls:p,dataSource:p,readDataSource:!0,valueTemplate:p,textTemplate:p,multiple:p,selected:p,values:p,width:p,height:p,maxHeight:p,events:{}},Ie=m.extend({init:function(){m.fn.init.apply(this,arguments);var e,t,n=this,i=n.options,a=i.dieOnError,c=i.dataSource,l=i.selected,s=i.values,o=i.renderToINTERNAL,r=i.wrapOriginalINTERNAL,d=i.tabindexINTERNAL,u=i.filterINTERNAL,u=f(u)?{filter:u}:{},r=!f(r)||r;if(n._original=e=v(n.element),n._utype=t=x(e),t==Ee&&i.multiple)return n.destroy(),void k("shieldListBox: Cannot initialize a multi-selection ListBox from an input element.",a);if(n._eventNS=".shieldListBox"+n.getInstanceId(),f(s)||f(l)||t!=Ne&&t!=Ee||(s=e.val()),r?(n.wrapper=e.wrap("<span/>").parent(),n._isWrapped=!0):n._isWrapped=!1,e.hide(),n.element=r=v('<ul id="'+E()+'"/>').on(me+n._eventNS,b(n._focus,n)).on(fe+n._eventNS,b(n._blur,n)),f(i.width)&&r.css("width",i.width),f(i.height)&&r.css(Ce,i.height),f(i.maxHeight)&&r.css("max-height",i.maxHeight),0<v(o).length?v(o).append(r):e.after(r),c)n.dataSource=h.create(c,u),i.valueTemplate||(i.valueTemplate="{0}"),i.textTemplate||(i.textTemplate="{0}");else{if(t!=Ne)return n.destroy(),void k("shieldListBox: No dataSource or underlying SELECT element found.",a);n.dataSource=h.create(V({},{data:e,schema:{type:ge}},u)),i.valueTemplate||(i.valueTemplate="{value}"),i.textTemplate||(i.textTemplate="{text}"),f(i.multiple)||(i.multiple=e.not("[multiple]").length<=0)}r.addClass("sui-listbox"),i.cls&&r.addClass(i.cls),o=f(d)?d:e.attr(se),r.attr(se,f(o)?o:"0"),r.on(de+n._eventNS,b(n._keydown,n)),n.dataSource.on(ve+n._eventNS,b(n._dsChange,n)),f(s)?n._initValues=s:f(l)&&(n._initSelected=l),r.attr(W,"listbox"),i.multiple&&r.attr("aria-multiselectable",O),i.readDataSource&&n.dataSource.read(),n.enabled(i.enabled)},refresh:function(e){this.refreshWithElement(this._original,e)},_focus:function(e){this._oldSelection=this.selected(),this.trigger(me)},_blur:function(e){var t=this,n=t._oldSelection,i=t.selected();0===v(n).not(i).length&&0===v(i).not(n).length||t.trigger(ve),t._oldSelection=i,t.trigger(fe)},_dsChange:function(e){var t=this;t._render(),t._dsLoadedOnce||(t._dsLoadedOnce=!0,f(t._initValues)?t.values(t._initValues):f(t._initSelected)&&t.selected(t._initSelected))},_render:function(){var l=this,s=l.options,e=l.dataSource.view,o=v(l.element),r=l._utype,u=l._original,c=o.attr(P)+"_opt";r==Ee&&l._original.val();o.empty(),r==Ne?u.empty():r==Ee&&u.removeAttr(xe),e&&U(e,function(t,n){var e=N.call(l,s.valueTemplate,n),i=N.call(l,s.textTemplate,n),a=v('<li id="'+c+t+'" role="option">'+i+"</li>").addClass("sui-listbox-item sui-unselectable").click(function(e){l._enabled&&(l._setActive(v(this)),l._toggleActive(e)),l.trigger(le,{index:t,item:n})}).on(Se,function(){return!1}).data(we,n).data(Ae,t).data(De,e).data(Te,i);s.multiple&&a.attr($,H),o.append(a),r==Ne&&u.append(v("<option/>").attr(xe,e).text(i))})},_keydown:function(e){var t=this,n=!0;switch(e.keyCode){case s.UP:t._move("up",e);break;case s.DOWN:t._move("down",e);break;case s.HOME:t._move("first",e),n=!1;break;case s.END:t._move("last",e),n=!1;break;case s.SPACE:case s.ENTER:t._toggleActive(e);break;default:n=!1}n&&e.preventDefault()},_move:function(e,t){var n=this,i=v(n.element),a=i.find(".sui-listbox-item-active").first(),l=i.find(":first");n._enabled&&("up"==e?0<a.prev().length?l=a.prev():0<a.length&&(l=a):"down"==e?0<a.next().length?l=a.next():0<a.length&&(l=a):"first"==e?l=i.find(".sui-listbox-item").first():"last"==e&&(l=i.find(".sui-listbox-item").last()),l.length<=0||(n.options.multiple?(n._setActive(l),n._ensureInScrollableArea(l)):n._select(l)))},_ensureInScrollableArea:function(e){var t=v(this.element),n=t.height(),i=t.scrollTop(),a=e.outerHeight(),e=e.position().top,a=e+a;e<0?t.scrollTop(i+e):n<a&&t.scrollTop(i+(a-n))},ensureActiveViewableINTERNAL:function(){var e=this._getActive();0<e.length&&this._ensureInScrollableArea(e)},_getActive:function(){return v(this.element).find(".sui-listbox-item-active").first()},_setActive:function(e){e.addClass("sui-listbox-item-active").siblings().removeClass("sui-listbox-item-active"),v(this.element).attr(G,e.attr(P))},_setSelected:function(e){e.addClass("sui-listbox-item-selected").attr($,O)},_unsetSelected:function(e){e.removeClass("sui-listbox-item-selected"),this.options.multiple?e.attr($,H):e.removeAttr($)},_toggleActive:function(e){this._toggle(e,this._getActive())},_toggle:function(e,t){var n=this;n._enabled&&(!t||t.length<=0||(n.options.multiple&&t.hasClass("sui-listbox-item-selected")?n._deselect(t):n._select(t)))},_select:function(e,t){var n=this,i=n._original,a=n._utype;n.options.multiple||n.clearSelection(),n._setActive(e),n._ensureInScrollableArea(e),n._setSelected(e),a==Ne?i.find("option:eq("+e.data(Ae)+")").attr(ae,ae):a==Ee&&i.attr(xe,e.data(De)),t||n.trigger(ge,{index:e.data(Ae),item:e.data(we),value:e.data(De),text:e.data(Te),selected:!0})},_deselect:function(e,t){var n=this,i=n._original,a=n._utype;n._setActive(e),n._unsetSelected(e),a==Ne?i.find("option:eq("+e.data(Ae)+")").removeAttr(ae):a==Ee&&i.removeAttr(xe),t||n.trigger(ge,{index:e.data(Ae),item:e.data(we),value:e.data(De),text:e.data(Te),selected:!1})},enabled:function(){var e=v(this.element),t=this._original,n=[].slice.call(arguments);if(!(0<n.length))return this._enabled;(n=!!n[0])?(e.removeAttr(o).removeClass("sui-listbox-disabled"),t.removeAttr(o)):(e.attr(o,o).addClass("sui-listbox-disabled"),t.attr(o,o)),this._enabled=n},selected:function(){var t,n,e,i=this,a=v(i.element),l=[].slice.call(arguments);if(!(0<l.length))return e=[],a.find(".sui-listbox-item-selected").each(function(){e.push(v(this).data(Ae))}),e;t=w(l[0]),n=!f(l[1])||!!l[1],a.find(".sui-listbox-item").each(function(e){-1<R(e,t)&&(n?i._select(v(this),!0):i._deselect(v(this),!0))})},selectedItems:function(){var e=[];return v(this.element).find(".sui-listbox-item-selected").each(function(){e.push(v(this).data(we))}),e},values:function(){var e,t,n=this,i=v(n.element),a=[].slice.call(arguments);if(!(0<a.length))return t=[],i.find(".sui-listbox-item-selected").each(function(){t.push(v(this).data(De))}),t;e=w(a[0]),i.find(".sui-listbox-item").each(function(){if(-1<R(v(this).data(De),e))return n._select(v(this),!0),!!n.options.multiple})},texts:function(){var e=[];return v(this.element).find(".sui-listbox-item-selected").each(function(){e.push(v(this).data(Te))}),e},clearSelection:function(){var e=this._original,t=this.options.multiple,n=this._utype;n==Ne?e.find("option").removeAttr(ae):n==Ee&&e.removeAttr(xe),v(this.element).find(".sui-listbox-item-selected").each(function(){v(this).removeClass("sui-listbox-item-selected sui-listbox-item-active"),t?v(this).attr($,H):v(this).removeAttr($)})},destroy:function(){var e=this,t=e._eventNS;e._dsLoadedOnce=!1,v(e.element).off(t).remove(),e.dataSource&&e.dataSource.off(ve+t),e._isWrapped&&e._original.unwrap(),e._original.show(),m.fn.destroy.call(e)}});Ie.defaults=t,l.ui.plugin("ListBox",Ie),t={enabled:!0,cls:p,autoComplete:p,value:p,events:{}},(e=m.extend({init:function(){m.fn.init.apply(this,arguments);var e=this,t=e.options,n=t.autoComplete,i=t.cls,a=t.value,l=v(e.element);e._eventNS=".shieldTextBox"+e.getInstanceId(),l.addClass("sui-input"),n&&(e.autoComplete=new r(l,n)),i&&l.addClass(i),l.on(me+e._eventNS,b(e._focus,e)).on(fe+e._eventNS,b(e._blur,e)),l.attr(W,F),x(l)==Be&&l.attr(Z,O),e.enabled(t.enabled),f(a)&&e.value(a)},focus:function(){v(this.element).focus(),d(v(this.element))},_focus:function(e){var t=this;t.oldValue=t._value(),t.interval=setInterval(b(t._detectChanges,t),1),t.trigger(me)},_blur:function(e){clearInterval(this.interval),this.trigger(fe)},_detectChanges:function(){var e=this;e._enabled&&e.oldValue!==e._value()&&(e.trigger(ve,{value:e._value(),old:e.oldValue}).isDefaultPrevented()?e._value(e.oldValue):e.oldValue=e._value())},_value:function(){return this.element.val.apply(this.element,arguments)},value:function(){return this._value.apply(this,arguments)},enabled:function(){var e=v(this.element),t=[].slice.call(arguments);if(!(0<t.length))return this._enabled;(t=!!t[0])?e.removeAttr(o).removeClass("sui-input-disabled"):e.attr(o,o).addClass("sui-input-disabled"),this._enabled=t},destroy:function(){var e=this,t=e.autoComplete,n=e.options.cls;clearInterval(e.interval),e.element.off(e._eventNS).removeClass("sui-input"+(n?" "+n:"")),t&&t.destroy(),m.fn.destroy.call(e)}})).defaults=t,l.ui.plugin("TextBox",e),t={dataSource:p,valueTemplate:"{0}",textTemplate:"{0}",open:!1,delay:200,minLength:2,dropDownWidth:p,appendListBoxTo:"body",animation:{enabled:!0,openDelay:200,closeDelay:100},events:{}},(r=m.extend({init:function(){m.fn.init.apply(this,arguments);var t=this,n=v(t.element),i=t.options,e=i.dataSource,a=i.dieOnError,l=i.appendListBoxTo;if(t.pending=0,t.oldValue=n.val(),!e)return t.destroy(),void k("shieldAutoComplete: No dataSource set",a);e.filter||(e.filter={and:[{path:"",filter:"contains",value:""}]}),t._eventNS=".shieldAutoComplete"+t.getInstanceId(),n.addClass("sui-input"),t.listElement=v("<span/>").appendTo(v(l)),t.listBox=new Ie(t.listElement,{cls:"sui-autocomplete",dataSource:e,readDataSource:!1,textTemplate:i.textTemplate,multiple:!1,width:i.dropDownWidth||n.innerWidth(),events:{select:function(e){t._value(N.call(t,i.valueTemplate,e.item)),t.trigger(ge,{item:e.item})},itemclick:function(e){n.focus(),t._inputBlur(e,0)},blur:function(e){t._inputBlur(e,0)}}}),t.listBox.element.hide(),t.dataSource=t.listBox.dataSource,n.on(de+t._eventNS,b(t._inputKeydown,t)).on(fe+t._eventNS,b(t._inputBlur,t,100)),n.attr(z,"list").attr(ee,t.listBox.element.attr(P)).attr(Q,t.listBox.element.attr(W)),n.attr(W,F),x(n)==Be&&n.attr(Z,O),t.listBox.dataSource.on(ve+t._eventNS,b(t._dsChange,t)),v(g).on(be+t._eventNS,b(t._position,t)),t._open=!1,i.open&&t._searchTimeout()},_checkValueUpdated:function(){var e=this,t=e.element.val();e.oldValue!==t&&(e.trigger(ve,{value:e._value()}),e.oldValue=t)},_restoreOldValue:function(){this._value(this.oldValue)},_inputKeydown:function(e){var t=this;switch(e.keyCode){case s.TAB:break;case s.UP:case s.DOWN:t._inputUpDown(e);break;case s.ENTER:e.preventDefault(),t.cancelSearch=!0,t._hideItemList(),t._checkValueUpdated();break;case s.ESC:e.preventDefault(),t.cancelSearch=!0,t._hideItemList(),t._restoreOldValue();break;default:t._searchTimeout(e)}},_inputUpDown:function(e){var t=this;t._open?t._hasData()&&v(t.listBox.element).trigger(e):t._hasData()&&t._showItemList()},_inputBlur:function(e,t){var n=this;setTimeout(function(){v(n.listBox.element).is(":focus")||(n._hideItemList(),n._checkValueUpdated())},t)},_searchTimeout:function(e){var t=this;clearTimeout(t.searchTimeout),t.searchTimeout=setTimeout(function(){t.term!==t._value()&&(t.trigger("search",{value:t._value()}),t._search())},t.options.delay)},_search:function(){var e=this;e.term=e._value(),e.term.length<e.options.minLength?e._hideItemList():(e.cancelSearch=!1,e.pending++,v(e.element).addClass("sui-autocomplete-loading"),a(e.listBox.dataSource.filter,e.term),e.listBox.dataSource.read())},_dsChange:function(){var e=this;e.pending--,e.pending||v(e.element).removeClass("sui-autocomplete-loading"),!e.cancelSearch&&e._hasData()?e._showItemList():e._hideItemList()},_hasData:function(){var e=this.listBox.dataSource.view;return e&&0<e.length},_position:function(){var e=v(this.element),t=v(this.listBox.element);t.width(this.options.dropDownWidth||e.innerWidth()),i.Set(t,e,{source:"left top",target:"left bottom",overflow:"none"})},_showItemList:function(){var e=this,t=e.listBox,n=v(t.element),i=e.options.animation;n.css({top:0,left:0}),n.show(),e._position(),!e._open&&i&&i.enabled?n.hide().slideDown(i.openDelay,b(t.ensureActiveViewableINTERNAL,t)):t.ensureActiveViewableINTERNAL(),e._open=!0},_hideItemList:function(){var e=v(this.listBox.element),t=this.options.animation;t&&t.enabled?e.slideUp(t.closeDelay):e.hide(),this._open=!1},_value:function(){return this.element.val.apply(this.element,arguments)},hide:function(){v(this.listBox.element).hide()},show:function(){v(this.listBox.element).show()},isVisible:function(){return v(this.listBox.element).is(":visible")},destroy:function(){var e=this;e.dataSource=null,e.listBox&&(e.listBox.dataSource.off(ve+e._eventNS),e.listBox.destroy(),e.listBox=null),e.element.off(e._eventNS).removeClass("sui-input"),v(g).off(be+e._eventNS),e.listElement&&e.listElement.remove(),m.fn.destroy.call(e)}})).defaults=t,l.ui.plugin("AutoComplete",r),e={enabled:!0,cls:"",min:0,max:100,value:p,step:p,editable:!0,spinners:!0,valueTemplate:p,textTemplate:p,labels:{increase:"Increase value",decrease:"Decrease value"},events:{}},(t=m.extend({init:function(){m.fn.init.apply(this,arguments);var e,t,n,i=this,a=i.options,c=a.cls,l=a.value,s=a.step,o=a.editable,d=a.spinners,r=a.labels,u=r.increase,r=r.decrease,h=a.dieOnError;i._original=t=v(i.element),x(t)==Ee?(f(s)?a.step=s=D(s):(n=_(f(l)?l:i._value()),a.step=s=0<n?1/M(10,n):1),s?(i._eventNS=".shieldNumericTextBox"+i.getInstanceId(),i.element=n=t.wrap("<span/>").parent(),t.hide(),f(l)||(l=i._value()),o?(e=v('<input type="text" class="sui-input" />'),o=t.attr(ke),f(o)&&e.attr(ke,o)):e=v('<span class="sui-input">&nbsp;</span>').attr(se,"0"),(i.textElement=e).appendTo(n),e.on(me+i._eventNS,b(i._focus,i)).on(fe+i._eventNS,b(i._blur,i)),d&&(i._onSpinUpMDProxy=b(i._spinUpMD,i),i._onSpinDownMDProxy=b(i._spinDownMD,i),i._onSpinnerMUProxy=b(i._spinnerMU,i),i.spinUp=t=v('<span class="sui-spinner sui-spinner-up sui-unselectable"/>').html('<span class="sui-caret-up sui-unselectable" unselectable="on"/>').attr(ye,"on").attr("alt",u).attr(ne,u).on(oe+i._eventNS,i._onSpinUpMDProxy).on(re+i._eventNS,i._onSpinnerMUProxy).on(ue+i._eventNS,i._onSpinnerMUProxy).on(Se+i._eventNS,function(){return!1}),i.spinDown=o=v('<span class="sui-spinner sui-spinner-down sui-unselectable"/>').html('<span class="sui-caret-down sui-unselectable" unselectable="on"/>').attr(ye,"on").attr("alt",r).attr(ne,r).on(oe+i._eventNS,i._onSpinDownMDProxy).on(re+i._eventNS,i._onSpinnerMUProxy).on(ue+i._eventNS,i._onSpinnerMUProxy).on(Se+i._eventNS,function(){return!1}),n.append(v('<span class="sui-spinners"/>').append(t,o))),e.on(de+i._eventNS,b(i._keydown,i)),n.addClass("sui-numeric-textbox"+(d?"":" sui-numeric-textbox-nosp")+(c?" "+c:"")),u=_(s),f(a.textTemplate)||(a.textTemplate="{0:n"+u+"}"),f(a.valueTemplate)||(a.valueTemplate="{0:n"+u+"}"),n.attr(W,"spinbutton").attr("aria-valuemin",a.min).attr("aria-valuemax",a.max),i.enabled(a.enabled),f(l)&&i.value(l),i._destroyed=!1):k("shieldNumericTextBox: Invalid step",h)):k("shieldNumericTextBox: Underlying element is not INPUT",h)},refresh:function(e){this.refreshWithElement(this._original,e)},_focus:function(e){var t=this;t._hasFocus||(t._hasFocus=!0,v(t.element).addClass("sui-numeric-textbox-focus"),t.value(t.value()),t.trigger(me))},_blur:function(e){var t,n,i=this,a=v(i.element),l=v(i.textElement);i.options.editable&&(t=i.value(),i._updateIfDirty(),(n=i.value())!==t&&i.trigger(ve,{value:n})),setTimeout(function(){var e,t;a.is(":focus")||l.is(":focus")||i._destroyed||(i._hasFocus=!1,a.removeClass("sui-numeric-textbox-focus"),i.options.editable?(e=i.value(),i.value(l.val()),(t=i.value())!==e&&i.trigger(ve,{value:t})):i.value(i.value()),i.trigger(fe))},100)},_keydown:function(e){var t=this,n=e.keyCode,i=t._enabled;switch(n){case s.TAB:case s.LEFT:case s.RIGHT:break;case s.END:t._updateValue("max",!1),e.preventDefault();break;case s.HOME:t._updateValue("min",!1),e.preventDefault();break;case s.ESC:i&&t.value(t.value()),e.preventDefault();break;case s.UP:t._updateValue("inc",!1),e.preventDefault();break;case s.DOWN:t._updateValue("dec",!1),e.preventDefault();break;default:t.options.editable&&i&&(48<=n&&n<=57||96<=n&&n<=105||190==n||110==n||173==n||109==n||189==n||n==s.DEL||n==s.BACK||n==s.ENTER||e.ctrlKey&&(118==n||86==n))?t._dirty=!0:e.preventDefault()}},_spinUpMD:function(e){var t=this;e.preventDefault(),t._updateValue("inc",!1),t._spinUpCancel=!1,setTimeout(function(){t._spinUpInt||t._spinUpCancel||(t._spinUpInt=setInterval(b(t._updateValue,t,"inc",!1),20))},100)},_spinDownMD:function(e){var t=this;e.preventDefault(),t._updateValue("dec",!1),t._spinDownCancel=!1,setTimeout(function(){t._spinDownInt||t._spinDownCancel||(t._spinDownInt=setInterval(b(t._updateValue,t,"dec",!1),20))},100)},_spinnerMU:function(e){var t=this;t._spinUpCancel=t._spinDownCancel=!0,clearInterval(t._spinUpInt),clearInterval(t._spinDownInt),t._spinUpInt=t._spinDownInt=null},_updateIfDirty:function(){var e=v(this.textElement);this._dirty&&(this.value(e.val()),this._dirty=!1)},_updateValue:function(e,t,n){var i,a=this,l=a.options,s=l.min,o=l.max,r=l.step,c=v(a.textElement),u=!1;a._enabled&&(a._updateIfDirty(),i=a.value(),f(i)||(i=0),t=!f(t)||!!t,n=!f(n)||!!n,"inc"==e?i<o&&(a.value(i+r),u=!0):"dec"==e?s<i&&(a.value(i-r),u=!0):"min"==e?(a.value(s),u=!0):"max"==e&&(a.value(o),u=!0),n&&(c.focus(),l.editable&&d(c)),u&&!t&&a.trigger(ve,{value:a.value()}))},increment:function(){this._updateValue("inc",!0,!1)},decrement:function(){this._updateValue("dec",!0,!1)},value:function(){var e,t=this,n=t.options,i=[].slice.call(arguments),a=t.element,l=v(t.textElement);if(!(0<i.length))return D(t._value());i=f(i[0])&&null!==i[0]&&""!==i[0]?(e=L(I(i[0],n.max),n.min),e=N.call(t,n.valueTemplate,e),e=D(e),N.call(t,n.textTemplate,e)+""):(e=null,""),n.editable?t._hasFocus&&t._enabled?l.val(e):l.val(i):l.html(i),t._value(e),null!==e?a.attr(j,e):a.removeAttr(j),a.attr("aria-valuetext",c(i))},_value:function(){return this._original.attr.apply(this._original,[xe].concat([].slice.call(arguments)))},enabled:function(){var e=v(this.element),t=[].slice.call(arguments);if(!(0<t.length))return this._enabled;(t=!!t[0])?e.removeAttr(o).removeClass("sui-numeric-textbox-disabled"):e.attr(o,o).addClass("sui-numeric-textbox-disabled"),this._enabled=t},focus:function(){v(this.textElement).focus(),d(v(this.textElement))},destroy:function(){var e=this;e._destroyed=!0,e.options.spinners&&(v(e.spinUp).off(e._eventNS).remove(),v(e.spinDown).off(e._eventNS).remove(),e.spinUp=e.spinDown=null),v(e.textElement).off(e._eventNS).remove(),e.textElement=null,e._original.unwrap().show(),e._original=null,m.fn.destroy.call(e)}})).defaults=e,l.ui.plugin("NumericTextBox",t),e={enabled:!0,mask:"00-00-0000",promptChar:"_",value:"",rules:{0:function(e){return/^[0-9]$/.test(e)},9:function(e){return/^[0-9 ]$/.test(e)},"#":function(e){return/^[0-9 \+\-]$/.test(e)},L:function(e){return/^[a-zA-Z]$/.test(e)},"?":function(e){return/^[a-zA-Z ]$/.test(e)},"&":function(e){return/^[\S]$/.test(e)},C:function(e){return/^[.]$/.test(e)},A:function(e){return/^[0-9a-zA-Z]$/.test(e)},a:function(e){return/^[0-9a-zA-Z ]$/.test(e)}},cultureSpecific:[".",",","$"],separators:["/","-"," ","(",")"],cls:p,events:{}},(t=m.extend({init:function(){m.fn.init.apply(this,arguments);var e=this,t=e.options,n=t.dieOnError,i=t.value,a=v(e.element);x(a)==Ee?e._verifyMask()?(e._eventNS=".shieldMaskedTextBox"+e.getInstanceId(),a.addClass("sui-input"),t.cls&&a.addClass(t.cls),f(i)&&e.value(i),a.on(me+e._eventNS,b(e._focus,e)).on(fe+e._eventNS,b(e._blur,e)).on(de+e._eventNS,b(e._keydown,e)).on("keypress"+e._eventNS,b(e._keypress,e)).on("cut"+e._eventNS,b(e._cut,e)).on("paste"+e._eventNS,b(e._paste,e)).on(he+e._eventNS,b(e._dragstart,e)).on(pe+e._eventNS,b(e._dragenter,e)).on(_e+e._eventNS,b(e._dragover,e)).on("drop"+e._eventNS,b(e._drop,e)),a.attr(W,F),e.enabled(t.enabled)):k("shieldMaskedTextBox: Invalid mask",n):k("shieldMaskedTextBox: Underlying element is not INPUT",n)},_getMask:function(){for(var e,t=this.options.mask,n="",i=0;i<t.length;i++)e=t.charAt(i),n+=this._isCultureSpecific(e)?this._getCultureSpecific(e):e;return n},_isCultureSpecific:function(e){return-1!==R(e,this.options.cultureSpecific)},_getCultureSpecific:function(e){var t=l.getCurrencyInfo();return"$"==e?t.symbol:t[e]},_skipSymbol:function(e){var t=this.options.separators;return-1!==R(e,t)||this._isCultureSpecific(e)},_insertAt:function(e,t,n){return e.substr(0,n)+t+e.substr(n)},_removeAt:function(e,t){return e.substr(0,t)+e.substr(t+1)},_caret:function(e,t){var n,i=v(this.element);if(0!==i.length&&!i.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,i.each(function(){i.setSelectionRange?i.setSelectionRange(e,t):i.createTextRange&&((n=i.createTextRange()).collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())})):(i[0].setSelectionRange?(e=i[0].selectionStart,t=i[0].selectionEnd):B.selection&&B.selection.createRange&&(n=B.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},_caretTo:function(e){var t=v(this.element);t.prop("selectionStart")!==p?(t.prop("selectionStart",e),t.prop("selectionEnd",e)):B.selection&&(t.focus(),(t=B.selection.createRange()).moveStart("character",-this.value().length),t.moveEnd("character",-this.value().length),t.moveStart("character",e),t.select())},_isValid:function(e,t){var n=this._getMask(),i=this.options.rules;return!(t>=n.length)&&(n=n.charAt(t),S(i[n])&&i[n].call(this,e))},_removeRegion:function(e){var t,n,i=this,a=i.options,l=i._getMask(),s=i._value(),o=i._caret(),r=a.promptChar,u=o.begin;if(u==o.end)e?(t=l.charAt(--u),i._skipSymbol(t)||(0<=u?(s=i._removeAt(s,u),s=i._insertAt(s,r,u),i._value(s)):u=0)):u<s.length&&(t=l.charAt(u),i._skipSymbol(t)?u++:(s=i._shiftLeft(s,u),i._value(s)));else{for(n=u;n<o.end;n++)i._skipSymbol(l.charAt(n))||(s=i._removeAt(s,n),s=i._insertAt(s,r,n));for(;i._skipSymbol(l.charAt(u));)++u;for(n=u;n<o.end;n++)i._skipSymbol(l.charAt(n))||(s=i._shiftLeft(s,u));i._value(s)}i._caretTo(u)},_shiftLeft:function(e,t){for(var n,i,a,l=this,s=l.options,o=l._getMask(),r=s.promptChar,u=t;u<e.length-1;){for(a=u+1;l._skipSymbol(o.charAt(a));)a++;if(a>e.length-1)break;n=e.charAt(a),e=l._removeAt(e,u),i=l._isValid(n,u),e=l._insertAt(e,i?n:r,u),u=a}return e=l._removeAt(e,u),e=l._insertAt(e,r,u)},_shiftRightKey:function(e,t){var n,i,a,l=this,c=l.options,d=l._getMask(),h=e.charAt(t),s=c.promptChar;if(h!=s&&t<e.length-1){for(var o=t+1,r=e.charAt(o);r!=s&&o<=e.length;)r=e.charAt(++o);if(r==s)for(var u=o;t<u;){if(!l._skipSymbol(d.charAt(u))){for(n=e.charAt(i=u-1);l._skipSymbol(d.charAt(i));)n=e.charAt(--i);e=l._removeAt(e,u),a=l._isValid(n,u),e=l._insertAt(e,a?n:s,u)}u--}}return e},_shiftRightPaste:function(e,t){for(var n,i,a,l=this,s=l.options,o=l._getMask(),c=s.promptChar,r=t,u=e.charAt(r);r<e.length-1;){for(i=r+1;l._skipSymbol(o.charAt(i));)i++;if(i>e.length-1)break;n=e.charAt(i),e=l._removeAt(e,i),a=l._isValid(u,i),e=l._insertAt(e,a?u:c,i),u=n,r=i}return e},_commit:function(e){for(var t=this,n=t._getMask(),i=t._caret(),a=i.begin;t._skipSymbol(n.charAt(a));)++a;if(t._isValid(e,a)){for(i.end>i.begin&&t._removeRegion(!1),i=t._value(),i=t._shiftRightKey(i,a),i=t._removeAt(i,a),i=t._insertAt(i,e,a),t._value(i),a++;t._skipSymbol(n.charAt(a));)a++;t._caretTo(a)}},_verifyValue:function(e){var t=this._getMask();if(e.length!=t.length)return!1;for(var n=0;n<t.length;n++)if(this._skipSymbol(t.charAt(n))){if(t.charAt(n)!==e.charAt(n))return!1}else if(!this._isValid(e.charAt(n),n))return!1;return!0},_verifyMask:function(){for(var e,t=this._getMask(),n=this.options.rules,i=0;i<t.length;i++)if(!this._skipSymbol(t.charAt(i))&&(e=t.charAt(i),!S(n[e])))return!1;return!0},_applyMask:function(){for(var e=this.options,t=this._getMask(),n=e.promptChar,i="",a=0;a<t.length;a++)i+=this._skipSymbol(t.charAt(a))?t.charAt(a):n;this._value(i)},_isEmptyMask:function(){for(var e=this._value(),t=this.options,n=this._getMask(),i=t.promptChar,a=0;a<n.length;a++)if(!this._skipSymbol(n.charAt(a))&&e.charAt(a)!==i)return!1;return!0},_clearMaskOnBlur:function(){this._isEmptyMask()&&this._value("")},_focus:function(e){var t;v(this.element).addClass("sui-input-focus"),(t=this._value())&&""!==t||this._applyMask(),this.trigger(me)},_blur:function(e){this._clearMaskOnBlur(),this.trigger(fe)},_preventDrag:function(e){var t;if(e.type==he||e.type==pe||e.type==_e||"drop"==e.type)return t=e.originalEvent.dataTransfer,e.type==he?t.effectAllowed="none":t.dropEffect="none",e.stopPropagation&&(e.preventDefault(),e.stopPropagation()),!1},_triggerChange:function(e){var t=this;e!==t._value()&&t.trigger(ve,{value:t._value(),old:e}).isDefaultPrevented()&&t._value(t.oldValue),clearInterval(t.changeInterval),t.changeInterval=p},_dragstart:function(e){return this._preventDrag(e)},_dragenter:function(e){return this._preventDrag(e)},_dragover:function(e){return this._preventDrag(e)},_drop:function(e){return this._preventDrag(e)},_keydown:function(e){var t=this,n=e.keyCode,i=t._enabled,a=t._value();switch(i||e.preventDefault(),n){case s.BACK:case s.DEL:t._removeRegion(n==s.BACK),t.changeInterval===p&&(t.changeInterval=setInterval(b(t._triggerChange,t,a),20)),e.preventDefault();break;default:if(e.ctrlKey)switch(n){case 118:case 86:case 122:case 90:case 121:case 89:118==n||86==n?t._paste(e):122!=n&&90!=n||(t._undo(),t.changeInterval===p&&(t.changeInterval=setInterval(b(t._triggerChange,t,a),20))),e.preventDefault()}}},_keypress:function(e){var t,n=this,i=e.keyCode,a=e.which,l=(n._enabled,n._value());if(!e.ctrlKey){switch(i){case s.HOME:case s.END:case s.LEFT:case s.RIGHT:case s.TAB:if(!T.ie)return;break;default:t=String.fromCharCode(a),n._commit(t)}e.preventDefault(),n.changeInterval===p&&l!=n._value()&&(n.changeInterval=setInterval(b(n._triggerChange,n,l),20))}},_cut:function(e){var t=this,n=t._caret();t.cutInterval===p&&(t.cutInterval=setInterval(b(t._aftercut,t,n),20))},_aftercut:function(e){for(var t=this,n=t._getMask(),i=t.value(),a=i,l=t.options.promptChar,s=e.begin,o=s;o<e.end;o++)i=t._insertAt(i,t._skipSymbol(n.charAt(o))?n.charAt(o):l,o);for(t._value(i),t._caretTo(s);t._skipSymbol(n.charAt(s));)++s;for(var r=s;r<e.end;r++)t._skipSymbol(n.charAt(r))||(i=t._shiftLeft(i,s));t._value(i),t._caretTo(s),clearInterval(t.cutInterval),t.cutInterval=p,t._triggerChange(a)},_paste:function(e){var t,n,i,a,l=this,s=l._getMask(),o=l._value(),c=o,r=l._caret(),u=r.begin,d=l.options.promptChar,h=e.originalEvent||e;if(u!=o.length)if(h.clipboardData?t=h.clipboardData.getData("text/plain"):g.clipboardData&&(t=g.clipboardData.getData("Text")),null!=t){if(u==r.end){for(;l._skipSymbol(s.charAt(u));)u++;for(a=t.length-1;0<=a;a--)o=l._shiftRightPaste(o,u),o=l._removeAt(o,u),n=l._isValid(t.charAt(a),u),o=l._insertAt(o,n?t.charAt(a):d,u);u+=t.length}else{for(i=u;i<r.end;i++)l._skipSymbol(s.charAt(i))||(o=l._removeAt(o,i),o=l._insertAt(o,d,i));for(a=0;a<t.length;a++){for(;l._skipSymbol(s.charAt(u));)u++;o=l._removeAt(o,u),n=l._isValid(t.charAt(a),u),o=l._insertAt(o,n?t.charAt(a):d,u),u++}}l._value(o),l._caretTo(u),e.preventDefault(),l.changeInterval===p&&(l.changeInterval=setInterval(b(l._triggerChange,l,c),20))}else e.preventDefault();else e.preventDefault()},_undo:function(){this._applyMask()},_value:function(){return this.element.val.apply(this.element,arguments)},value:function(){if(0<arguments.length){var e=[].slice.call(arguments);if(!this._verifyValue(e[0]))return!1}return this._value.apply(this,arguments)},enabled:function(){var e=v(this.element),t=[].slice.call(arguments);if(!(0<t.length))return this._enabled;(t=!!t[0])?e.removeAttr(o).removeClass("sui-input-disabled"):e.attr(o,o).addClass("sui-input-disabled"),this._enabled=t},destroy:function(){var e=this.options.cls;this.element.off(this._eventNS).removeClass("sui-input"+(e?" "+e:"")),m.fn.destroy.call(this)}})).defaults=e,l.ui.plugin("MaskedTextBox",t),e={editable:!0,enabled:!0,open:!1,cls:p,dataSource:p,autoComplete:{enabled:!1,delay:200,minLength:0,filter:p},valueTemplate:p,textTemplate:p,inputTemplate:p,selected:p,value:p,width:p,height:p,dropDownWidth:p,dropDownHeight:200,appendListBoxTo:"body",animation:{enabled:!0,openDelay:200,closeDelay:100},events:{}},(n=m.extend({init:function(){m.fn.init.apply(this,arguments);var e,t,n,i,c,a=this,l=a.options,s=l.editable,o=l.dieOnError,r=l.dataSource,d=l.autoComplete,u=l.selected,h=l.value,p=l.appendListBoxTo,_=l.tooltip||v(a.element).attr(ne)||"";if(a._original=e=v(a.element),a._utype=x(e),!r&&a._utype!=Ne)return a.destroy(),void k((s?"shieldComboBox":"shieldDropDown")+": No dataSource or underlying SELECT element found.",o);a._eventNS=".shieldComboBox"+a.getInstanceId(),a.pending=0,a.element=n=e.wrap("<span/>").parent(),e.hide(),a._onDDHandler=b(a._onDD,a),s?(i=v('<input type="text" class="sui-input"/>').focus(function(){v(this).parent().addClass("sui-combobox-focus")}).blur(function(){v(this).parent().removeClass("sui-combobox-focus"),a._blur()}).attr(W,F).attr(Z,H),o=e.attr(ke),f(o)&&i.attr(ke,o)):i=v('<span class="sui-input sui-unselectable">&nbsp;</span>').attr(ye,"on").on(ce+a._eventNS,a._onDDHandler).on(Se+a._eventNS,function(){return!1}),(a.textElement=i).appendTo(n),a.ddElement=o=v('<span class="sui-caret-container sui-unselectable"/>').html('<span class="sui-caret sui-unselectable" unselectable="on"/>').attr(ye,"on").on(ce+a._eventNS,a._onDDHandler).appendTo(n),n.addClass(s?"sui-combobox":"sui-dropdown"),l.cls&&n.addClass(l.cls),t=e.attr(se),(s?i:n).attr(se,f(t)?t:"0"),f(l.width)&&n.css("width",l.width),f(l.height)&&(n.css(Ce,l.height),i.css(Ce,l.height),o.css(Ce,l.height)),n.on(de+a._eventNS,b(a._keydown,a)).on("keyup"+a._eventNS,b(a._keyup,a)),a._focusHandler=b(a._focus,a),(s?i:n).on(me+a._eventNS,a._focusHandler),n.on(fe+a._eventNS,b(a._blur,a)),a.listElement=v("<span/>").appendTo(v(p)),d&&(c=f(d.filter)?d.filter:r&&r.filter?r.filter:a._utype==Ne?{and:[{path:"text",filter:"contains",value:""}]}:{and:[{path:"",filter:"contains",value:""}]}),a.listBox=new Ie(e,{cls:"sui-autocomplete",dataSource:r,readDataSource:!1,valueTemplate:l.valueTemplate,textTemplate:l.textTemplate,multiple:!1,selected:f(u)&&y(u)?u[0]:u,values:h,width:l.dropDownWidth||n.innerWidth(),maxHeight:l.dropDownHeight,renderToINTERNAL:a.listElement,wrapOriginalINTERNAL:!1,tabindexINTERNAL:T.ie&&T.version<=8?0:-1,filterINTERNAL:c,events:{select:function(e){a._onLBSelChanged(),a.trigger(ge,{index:e.index,item:e.item,text:e.text,value:e.value})},itemclick:function(e){(s?i:n).focus(),a._hideDD(),a.trigger(le,{index:e.index,item:e.item,text:e.text,value:e.value})},blur:function(e){setTimeout(b(a._blur,a),20)}}}),a.listBox.element.hide(),a.dataSource=a.listBox.dataSource,a.listBox.dataSource.on(ve+a._eventNS,b(a._dsChange,a)),l.textTemplate=a.listBox.options.textTemplate,l.valueTemplate=a.listBox.options.valueTemplate,n.attr(W,"combobox"),s&&(i.attr(z,"list"),i.attr(ee,a.listBox.element.attr(P)),i.attr(Q,a.listBox.element.attr(W))),a.listBox.dataSource.read(),v(g).on(be+a._eventNS,b(a._position,a)),_&&C(_)&&n.attr(ne,_),a.enabled(l.enabled),a._open=!1,l.enabled&&l.open&&a._showDD(!0),a._destroyed=!1},refresh:function(e){this.refreshWithElement(this._original,e)},focus:function(){this.options.editable?(v(this.textElement).focus(),d(v(this.textElement))):v(this.element).focus()},_focus:function(e){var t=this;t._hasFocus||(t._hasFocus=!0,t._oldValue=t.value(),t.trigger(me))},_blur:function(e){var t=this;setTimeout(function(){t._destroyed||null==t.listBox||v(t.listBox.element).is(":focus")||v(t.element).is(":focus")||v(t.textElement).is(":focus")||(t._hideDD(),t._oldValue!==t.value()&&t.trigger(ve),t.trigger(fe),t._hasFocus=!1)},100)},_keydown:function(e){switch(e.keyCode){case s.TAB:break;case s.UP:case s.DOWN:this._keydownUpDown(e),e.preventDefault();break;case s.ESC:case s.ENTER:e.preventDefault(),this.cancelSearch=!0,this._hideDD();break;default:this._keydownDefault(e)}},_keyup:function(e){e=e.keyCode;this.options.editable&&this._utype==Ee&&e!=s.UP&&e!=s.DOWN&&e!=s.ENTER&&e!=s.TAB&&v(this._original).attr(xe,v(this.textElement).val())},_keydownUpDown:function(e){this._enabled&&v(this.listBox.element).trigger(e)},_keydownDefault:function(e){this.listBox.clearSelection(),this._searchTimeout(e)},_searchTimeout:function(e){var t=this,n=t.options.autoComplete;n&&n.enabled&&(clearTimeout(t.searchTimeout),t.searchTimeout=setTimeout(function(){t.term!==v(t.textElement).val()&&t._search()},n.delay))},_search:function(){var e=this;e.listBox.dataSource;e.term=v(e.textElement).val(),e.term.length<e.options.autoComplete.minLength?e._hideDD():(e.cancelSearch=!1,e.pending++,v(e.textElement).addClass("sui-autocomplete-loading"),a(e.listBox.dataSource.filter,e.term),e.listBox.dataSource.read())},_dsChange:function(){var e=this,t=e._original,n=e._utype,i=e.textElement.val();if(!e._dsLoaded)return e._dsLoaded=!0,!e.options.editable&&e.listBox.selected().length<=0&&e.listBox.selected(0),void e._onLBSelChanged();e.pending--,e.pending||v(e.textElement).removeClass("sui-autocomplete-loading"),!e.cancelSearch&&e._hasData()?e._showDD(!0):e._hideDD(),n==Ne?t.val(i):n==Ee&&t.attr(xe,i),e.trigger(ge,{index:-1,item:i})},_hasData:function(){var e=this.listBox.dataSource.view;return e&&0<e.length},_onLBSelChanged:function(){var e,t=this,n=t.options,i=n.editable,a=t.listBox,l=a.selectedItems();l&&0<l.length?(N.call(t,n.valueTemplate,l[0]),e=N.call(t,n.textTemplate,l[0]),n=f(n.inputTemplate)?N.call(t,n.inputTemplate,l[0]):e,i?(t.textElement.val(n),t.textElement.attr(G,a.element.attr(G))):t.textElement.html(n)):i?(t.textElement.val(""),t.textElement.removeAttr(G)):t.textElement.html("&nbsp;")},_onDD:function(e){var t=this,n=t.textElement;t.options.editable?(n.focus(),d(n)):t.element.focus(),t._open?t._hideDD():t._hasData()&&t._showDD(!1)},_position:function(){var e=v(this.element),t=v(this.listBox.element);t.width(this.options.dropDownWidth||e.innerWidth()),i.Set(t,e,{source:"left top",target:"left bottom",overflow:"none"})},_showDD:function(e){var t=this,n=t.listBox,i=v(n.element),a=t.options.animation;t._enabled&&(i.css({top:0,left:0}),i.show(),t._position(),!e&&a&&a.enabled?i.hide().slideDown(a.openDelay,b(n.ensureActiveViewableINTERNAL,n)):n.ensureActiveViewableINTERNAL(),t._open=!0,v(t.element).attr(te,O))},_hideDD:function(){var e=v(this.listBox.element),t=this.options.animation;t&&t.enabled?e.slideUp(t.closeDelay):e.hide(),this._open=!1,v(this.element).attr(te,H)},enabled:function(){var e=this,t=e.options.editable,n=v(e.element),i=e.textElement,a=e.ddElement,l=e._original,s=[].slice.call(arguments);if(!(0<s.length))return e._enabled;(s=!!s[0])?(n.removeAttr(o).removeClass(t?"sui-combobox-disabled":"sui-dropdown-disabled"),i.removeAttr(o),a.removeAttr(o),l.removeAttr(o)):(e._open&&e._hideDD(),n.attr(o,o).addClass(t?"sui-combobox-disabled":"sui-dropdown-disabled"),i.attr(o,o),a.attr(o,o),l.attr(o,o)),e._enabled=s},selected:function(){var e,t=this.listBox,n=[].slice.call(arguments);if(!(0<n.length))return(e=t.selected())&&0<e.length?e[0]:-1;e=n[0],t.clearSelection(),f(e)&&(-1<(e=A(e))?t.selected(e):this.options.editable||t.selected(0)),this._onLBSelChanged()},selectedItem:function(){var e=this.listBox.selectedItems();return e&&0<e.length?e[0]:null},value:function(){var e,t=this.listBox,n=[].slice.call(arguments);if(!(0<n.length))return(e=t.values())&&0<e.length?e[0]:this.options.editable?v(this.textElement).val():null;t.clearSelection(),t.values(n[0]),this._onLBSelChanged()},text:function(){var e=this.listBox.texts();return e&&0<e.length?e[0]:this.options.editable?v(this.textElement).val():null},destroy:function(){var e=this,t=v(e.element),n=v(e.textElement),i=v(e.ddElement);e._destroyed||(e._destroyed=!0,e._dsLoaded=!1,n.off(e._eventNS),i.off(e._eventNS),e._onDDHandler=null,v(g).off(be+e._eventNS),t.off(e._eventNS),e.dataSource=null,e.listBox&&(e.listBox.dataSource.off(ve+e._eventNS),e.listBox.destroy(),e.listBox=null),v(e.listElement).remove(),n.remove(),i.remove(),e._original.unwrap().show(),e._original=null,m.fn.destroy.call(e))}})).defaults=e,l.ui.plugin("ComboBox",n),t=V({},e,{editable:!1,autoComplete:p}),(e=n.extend({init:function(e,t){t&&(t.editable=!1,t.autoComplete=p),n.prototype.init.call(this,e,t)}})).defaults=t,l.ui.plugin("DropDown",e),t={enabled:!0,cls:p,toggle:!1,checked:!1,events:{}},(u=m.extend({init:function(){m.fn.init.apply(this,arguments);var e=this,t=v(e.element),n=e.options,i=n.cls;e._eventNS=".shieldButton"+e.getInstanceId(),t.addClass("sui-button"),i&&t.addClass(i),t.on(ce+e._eventNS,b(e._click,e)),t.attr(W,"button"),e.enabled(n.enabled),n.toggle&&(e._checked=!!n.checked,e._checked?t.addClass("sui-button-checked"):t.removeClass("sui-button-checked"),t.attr(K+"-pressed",e._checked?O:H))},_click:function(e){var t=this,n=v(t.element);t._enabled&&(t.options.toggle&&(t._checked=!t._checked,t._checked?n.addClass("sui-button-checked"):n.removeClass("sui-button-checked"),n.attr(K+"-pressed",t._checked?O:H)),t.trigger(ce,e))},checked:function(){var e=this,t=v(e.element),n=[].slice.call(arguments);if(!(0<n.length))return e._checked;e.options.toggle&&(e._checked=!!n[0],e._checked?t.addClass("sui-button-checked"):t.removeClass("sui-button-checked"),t.attr(K+"-pressed",e._checked?O:H))},enabled:function(){var e=v(this.element),t=[].slice.call(arguments);if(!(0<t.length))return this._enabled;(t=!!t[0])?e.removeAttr(o).removeClass("sui-button-disabled").removeAttr(q):e.attr(o,o).addClass("sui-button-disabled").attr(q,O),this._enabled=t},destroy:function(){var e=this.options.cls;this.element.off(ce+this._eventNS).removeClass("sui-button sui-button-checked sui-button-disabled"+(e?" "+e:"")),m.fn.destroy.call(this)}})).defaults=t,l.ui.plugin("Button",u),e=V({},t,{menu:p,dataSource:p,events:{}}),(t=u.extend({init:function(){var n,i,e,t,a;u.fn.init.apply(this,arguments),l.ui.ContextMenu&&(i=v((n=this).element),t=(e=n.options).menu,a=e.cls,n._handle=v('<button type="button"><span class="sui-caret-down"/></button>'),i.after(n._handle),n._handleButton=new u(n._handle,{cls:"sui-button-split-handle"+(a?" "+a:""),events:{click:function(e){var t;n.menu.visible()?n.menu.visible(!1):(t=v(i).offset(),n.menu.visible(!0,{x:t.left,y:t.top+v(i).outerHeight()}))}}}),f(t)?n._menuElement=v(t):(n._menuElement=v("<ul/>"),n._customMenuElement=!0,n._handle.after(n._menuElement)),n._menuElement.attr(P)||n._menuElement.attr(P,E()),n.menu=new l.ui.ContextMenu(n._menuElement,{cls:"sui-button-split-menu",dataSource:e.dataSource,minWidth:i.outerWidth()+n._handle.outerWidth()-2,events:{click:b(n.trigger,n,"menuClick")}}),v(n._handle).attr(Q,O).attr(ee,n._menuElement.attr(P)))},enabled:function(){var e=this;if(!(arguments&&0<arguments.length))return u.fn.enabled.apply(e,arguments);u.fn.enabled.apply(e,arguments),e._handleButton&&e._handleButton.enabled.apply(e._handleButton,arguments),e.menu&&!arguments[0]&&e.menu.visible(!1)},visible:function(){var e=this;if(!(arguments&&0<arguments.length))return u.fn.visible.apply(e,arguments);u.fn.visible.apply(e,arguments),e._handleButton&&e._handleButton.visible.apply(e._handleButton,arguments),e.menu&&!arguments[0]&&e.menu.visible(!1)},destroy:function(){var e=this;e.menu&&(e.menu.destroy(),e.menu=p),e._menuElement&&(e._customMenuElement&&(v(e._menuElement).remove(),e._customMenuElement=p),e._menuElement=p),e._handleButton&&(e._handleButton.destroy(),e._handleButton=p),e._handle&&(v(e._handle).remove(),e._handle=p),u.fn.destroy.call(e)}})).defaults=e,l.ui.plugin("SplitButton",t),e={enabled:!0,enableThreeStates:!1,enableLabelClick:!0,checked:!1,label:"",events:{}},(t=m.extend({init:function(){var e,t,n=this,i=(m.fn.init.apply(this,arguments),n._eventNS=".shieldCheckBox"+n.getInstanceId(),e=n.options,v(n.element).addClass("sui-checkbox-input")),a=i.attr(P),l=(a||i.attr(P,a=E()),i.attr(se)),l=n.wrapper=i.wrap('<span class="sui-checkbox"/>').parent().attr(se,f(l)?l:0),s=v('<span class="sui-checkbox-element sui-checkbox-unchecked"/>');s.appendTo(l),n.checkBoxElement=s,v('<span class="sui-checkmark"/>').appendTo(s),e.label?((t=v('<label class="sui-checkbox-label"/>')).appendTo(l),t.attr("for",a),t.get(0).innerHTML=e.label,e.enableLabelClick&&t.addClass("sui-checkbox-label-hover")):(t=(t=i.parent().parent())&&!t.is("label")?v('label[for="'+a+'"]'):t)&&e.enableLabelClick&&t.addClass("sui-checkbox-label-hover"),l.attr(W,"checkbox"),t&&((s=t.attr(P))||t.attr(P,s=E()),l.attr(Y,s)),i.attr(ie)&&(e.checked=!0),n.enabled(e.enabled),n.checked(e.checked),l.on(ce+n._eventNS,b(n._click,n)).on(de+n._eventNS,b(n._keydown,n)),t&&e.enableLabelClick&&t.on(ce+n._eventNS,b(n._click,n)).on(de+n._eventNS,b(n._keydown,n)),l.onselectstart=function(){return!1},l.onmousedown=function(){return!1}},_click:function(e){var t=this;v(t.element);t._enabled&&(t._checked?t.options.enableThreeStates?t._checked=null:t._checked=!1:!1===t._checked?t._checked=!0:null===t._checked&&(t._checked=!1),t.checked(t._checked),t.trigger(ce,e),e.preventDefault(),e.stopPropagation())},_keydown:function(e){e.keyCode==s.SPACE&&this._click(e)},hide:function(){v(this.wrapper).hide()},show:function(){v(this.wrapper).show()},isVisible:function(){return v(this.wrapper).is(":visible")},checked:function(){var e=this,t=[].slice.call(arguments),n=v(e.element),i=e.wrapper,a=i.find(".sui-checkmark");if(!(0<t.length))return e._checked;e._checked=t=t[0],t?(i.find(".sui-checkbox-element").removeClass("sui-checkbox-unchecked sui-checkbox-indeterminate").addClass("sui-checkbox-checked"),i.attr(X,O),n.attr(ie,ie),n.data("1"),T.ie&&T.version<=8&&a.css("filter","progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=0.7071067811865475, M21=-0.7071067811865475, M22=0.7071067811865476)")):!1===t?(i.find(".sui-checkbox-element").removeClass("sui-checkbox-checked sui-checkbox-indeterminate").addClass("sui-checkbox-unchecked"),i.attr(X,H),n.removeAttr(ie),n.data("0"),a.css("filter","")):null===t&&e.options.enableThreeStates&&(i.find(".sui-checkbox-element").removeClass("sui-checkbox-checked sui-checkbox-unchecked").addClass("sui-checkbox-indeterminate"),i.attr(X,"mixed"),n.removeAttr(ie),n.data("2"),a.css("filter",""))},enabled:function(){var e=this,t=[].slice.call(arguments),n=v(e.element);if(!(0<t.length))return e._enabled;t=!!t[0];t?(e.wrapper.removeAttr(o).removeClass("sui-checkbox-disabled"),n.removeAttr(o)):(e.wrapper.attr(o,o).addClass("sui-checkbox-disabled"),n.attr(o,o)),e._enabled=t},destroy:function(){var e=this;e.element.removeClass("sui-checkbox-input").removeAttr(se),e.checkBoxElement&&e.checkBoxElement.off(e._eventNS),e.wrapper&&(e.wrapper.find(".sui-checkbox-label").off(e._eventNS).end().removeAttr(o).removeClass("sui-checkbox-disabled").replaceWith(e.element),e.wrapper=null),m.fn.destroy.call(e)}})).defaults=e,l.ui.plugin("CheckBox",t),e={enabled:!0,enableLabelClick:!0,checked:!1,label:"",events:{}},(t=m.extend({init:function(){m.fn.init.apply(this,arguments);var e,t,n,i=this,a=v(i.element),l=i.options,s=(i._eventNS=".shieldRadioButton"+i.getInstanceId(),a.addClass("sui-radiobutton-input"),(n=a.attr(P))||a.attr(P,n=E()),s=a.attr(se),(t=i.wrapper=a.wrap('<span class="sui-radiobutton"/>').parent()).attr(se,f(s)?s:0),v('<span class="sui-radiobutton-element"/>'));s.appendTo(t),i.radioButtonElement=s,v('<span class="sui-checkmark"/>').appendTo(s),l.label?((e=v('<label class="sui-radiobutton-label"/>')).appendTo(t),e.attr("for",n),e.get(0).innerHTML=l.label,l.enableLabelClick&&e.addClass("sui-radiobutton-label-hover")):(e=(e=a.parent().parent())&&!e.is("label")?v('label[for="'+n+'"]'):e)&&l.enableLabelClick&&e.addClass("sui-radiobutton-label-hover"),t.attr(W,"radio"),e&&((s=e.attr(P))||e.attr(P,s=E()),t.attr(Y,s)),a.attr(ie)&&(l.checked=!0),i.enabled(l.enabled),l.checked?i.checked(l.checked):i._checked=!1,t.on(ce+i._eventNS,b(i._click,i)).on(de+i._eventNS,b(i._keydown,i)),e&&l.enableLabelClick&&e.on(ce+i._eventNS,b(i._click,i)).on(de+i._eventNS,b(i._keydown,i)),t.onselectstart=function(){return!1},t.onmousedown=function(){return!1}},_click:function(e){this._enabled&&(this.checked(!0),this.trigger(ce,e),e.preventDefault(),e.stopPropagation())},_keydown:function(e){e.keyCode==s.SPACE&&this._click(e)},hide:function(){v(this.wrapper).hide()},show:function(){v(this.wrapper).show()},isVisible:function(){return v(this.wrapper).is(":visible")},checked:function(){var e=[].slice.call(arguments);if(!(0<e.length))return this._checked;this._uncheckAllFromSameGroup(),this._checkInternal(e[0])},_checkInternal:function(e){var t=v(this.element),n=this.wrapper;(this._checked=e)?(n.find(".sui-radiobutton-element").removeClass("sui-radiobutton-unchecked sui-radiobutton-indeterminate").addClass("sui-radiobutton-checked"),n.attr(X,O),t.attr(ie,ie)):(n.find(".sui-radiobutton-element").removeClass("sui-radiobutton-checked"),n.attr(X,H),t.removeAttr(ie))},_uncheckAllFromSameGroup:function(){var e=v(this.element);v('input[type="radio"][name="'+e.attr("name")+'"]').not(e).each(function(){var e=v(this).swidget();e&&(e._checkInternal(!1),e.trigger(ve))})},enabled:function(){var e=this,t=[].slice.call(arguments),n=v(e.element);if(!(0<t.length))return e._enabled;t=!!t[0];t?(e.wrapper.removeAttr(o).removeClass("sui-radiobutton-disabled"),n.removeAttr(o)):(e.wrapper.attr(o,o).addClass("sui-radiobutton-disabled"),n.attr(o,o)),e._enabled=t},destroy:function(){var e=this;e.element.removeClass("sui-radiobutton-input").removeAttr(se),e.radioButtonElement&&(e.radioButtonElement.off(e._eventNS),e.radioButtonElement=null),e.wrapper&&(e.label&&(e.label.off(e._eventNS),e.label=null),e.wrapper.removeAttr(o).removeClass("sui-radiobutton-disabled"),e.wrapper.replaceWith(e.element),e.wrapper=null),m.fn.destroy.call(e)}})).defaults=e,l.ui.plugin("RadioButton",t),e={cls:p,enabled:!0,checked:p,onText:p,offText:p,events:{}},(t=m.extend({init:function(){m.fn.init.apply(this,arguments);var e,t,n=this,i=n.options,a=i.dieOnError,l=i.cls,s=i.checked;n._original=e=v(n.element),x(e)===Ee&&"checkbox"===e.attr("type")?(n._eventNS=".shieldSwitch"+n.getInstanceId(),n.element=l=e.wrap('<div class="sui-switch sui-unselectable'+(l?" "+l:"")+'" />').parent(),t=v('<div class="sui-switch-inner sui-unselectable" />').appendTo(l),n._text=v('<span class="sui-switch-text sui-unselectable" />').appendTo(t),n._handle=t=v('<div class="sui-switch-handle sui-unselectable" />').appendTo(l),t.height(l.height()),e.hide(),t=e.attr(se),l.attr(se,f(t)?t:"0"),l.on(ce+n._eventNS,b(n._click,n)).on(de+n._eventNS,b(n._keydown,n)),s=f(s)?!!s:!!e.attr(ie),l.attr(W,"switch"),n.checked(s,!1),n.enabled(i.enabled)):k("shieldSwitch: Underlying element must ne an input of type checkbox.",a)},refresh:function(e){this.refreshWithElement(this._original,e)},_keydown:function(e){e.keyCode===s.SPACE&&(this._click(e),e.preventDefault())},_click:function(e){this._enabled&&(this.checked(!this._checked),this.trigger(ce,e),e.preventDefault(),e.stopPropagation())},checked:function(){var e,t=this,n=t.options,i=n.onText,a=n.offText,l=v(t.element),n=v(t._handle),s=v(t._text),o=t._original,r=[].slice.call(arguments),u=100;if(!(0<r.length))return t._checked;e=!!r[0],f(r[1])&&!r[1]&&(u=0),e?(o.attr(ie,ie),n.animate({left:l.width()-n.width()-2},u,function(){l.addClass("sui-switch-checked").attr(X,O),f(i)&&(s.html(i),l.attr(J,c(i)))})):(o.removeAttr(ie),n.animate({left:-2},u,function(){l.removeClass("sui-switch-checked").attr(X,H),f(a)&&(s.html(a),l.attr(J,c(a)))})),t._checked=e},enabled:function(){var e=v(this.element),t=this._original,n=[].slice.call(arguments);if(!(0<n.length))return this._enabled;(n=!!n[0])?(e.removeAttr(o).removeClass("sui-switch-disabled"),t.removeAttr(o)):(e.attr(o,o).addClass("sui-switch-disabled"),t.attr(o,o)),this._enabled=n},destroy:function(){var e=this;v(e.element).off(e._eventNS),v(e._inner).remove(),v(e._handle).remove(),e._original.unwrap().show(),e._original=e._inner=e._handle=null,m.fn.destroy.call(e)}})).defaults=e,l.ui.plugin("Switch",t)}(jQuery,shield,this);
!function(A,O,p){function n(e){var t=!1,a="Webkit Moz ms O".split(" "),i=o.createElement("div");if(e=e.toLowerCase(),!1===(t=i.style[e]?!0:t))for(var n=e.charAt(0).toUpperCase()+e.substr(1),l=0;l<a.length;l++)if(void 0!==i.style[a[l]+n]){t=!0;break}return t}var a,_=O.ui.Widget,t=O.Class,z=O.format,s=O.parseDate,o=document,U=O.is.func,h=O.is,r=A.proxy,i=navigator.userAgent,e=p.opera,m=/msie/i.test(i)&&!e,g=m&&8===o.documentMode,v=A.extend,f=h[void 0],b=h.string,w="month",D="year",T="decade",x="century",l="click",y="mousedown",P="focus",M="selectstart",d="change",C="viewChange",I="depthChange",k="close",B="blur",u="display",c="none",i={enabled:!0,readOnly:!1,hover:!0,footer:{enabled:!0,footerTemlpate:"Today"},min:new Date(1900,0,1),max:new Date(2099,11,31),value:void 0,focused:new Date,labels:{previous:"Previous",next:"Next"},view:{depth:w,start:w,minDepth:x},dayTemplate:"{day}",otherMonthDayTemplate:"{day}",outOfRangeDayTemplate:"&nbsp;",dateTooltipTemplate:"{date:MM/dd/yyyy}",events:{}},F=t.extend({init:function(e){var t=e.listbox,a=e.min,i=e.max,n=e.interval,l=e.parent,e=e.textTemplate;O.ui.ListBox&&(h.object(t)&&t instanceof O.ui.ListBox?l.listBox=t:(l._listBoxWrapper=A("<div style='display: none;' />").appendTo(o.body),a=this._populateDataSource(a,i,n),l.listBox=new O.ui.ListBox(l._listBoxWrapper,v({},t,{dataSource:{data:a},multiple:!1,textTemplate:e,width:l._wrapper.innerWidth(),maxHeight:200})),l._wrapper.parent().hasClass("sui-rtl")?l.listBox.element.parent().addClass("sui-rtl"):l.listBox.element.parent().css(u,c)),l._shouldShowPopup=!0)},_populateDataSource:function(e,t,a){var i,n,l=[];for((t<=e||(t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())).getTime()==e.getTime())&&(t=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1,t.getHours(),t.getMinutes(),t.getSeconds())),i=e.getTime(),n=t.getTime();i<n;)l.push(new Date(i)),i+=60*a*1e3;return l},destroy:function(){this.listBox;this.listBox&&(this.listBox.destroy(),this.listBox=null)}}),e=_.extend({init:function(){_.fn.init.apply(this,arguments);var e=this,t=A(e.element),a=e.options,i=a.cls,n=a.value;t.addClass("sui-calendar"+(i?" "+i:"")),e._focusedDate=a.focused,e._view=a.view.start,e._enabled=a.enabled,n&&(b(n)&&(n=new Date(n)),e._focusedDate=e._selectedDate=new Date(n.getFullYear(),n.getMonth(),n.getDate())),e._initializeHeader(),e._render(),a.footer.enabled&&e._initializeFooter(),!a.readOnly&&a.enabled?(t.find(".sui-prev").on(l,e._movePrev=r(e._movePrevHandler,e)),t.find(".sui-next").on(l,e._moveNext=r(e._moveNextHandler,e)),t.find(".sui-text").on(l,e._changeViewDepth=r(e._changeViewDepthHandler,e)),t.find(".sui-footer").on(l,e._selectToday=r(e._selectTodayHandler,e))):a.readOnly?t.addClass("sui-read-only"):t.addClass("sui-calendar-disabled"),m&&t.on(M,e._selectStart=function(){return!1})},_calendarSelectionHandler:function(e){var t,a=this,i=A(e.target).closest("td"),n=a._focusedDate,l=a.options.view.depth;if(i.length&&!i.hasClass("sui-out-of-range")&&!i.hasClass("sui-no-hover")&&a._enabled)switch(A(a._calendarTable).find(".sui-focused").removeClass("sui-focused"),a._view){case w:var s=new Date(i.attr("data-value")),r=a._shouldChangeView(s),o=!1;s.getTime()>a._focusedDate&&(o=!0),a._focusedDate=s,a._selectedDate=s,r&&(a._animationBegins(o),a._renderView(),a._animationEnds(o),a.trigger(C)),a._selectDateCell(s),a.trigger(d);break;case D:r=parseInt(i.attr("data-value"),10);(s=new Date(n.getFullYear(),r,n.getDate())).getDate()!=n.getDate()&&(s=new Date(n.getFullYear(),r+1,0)),a._focusedDate=s,l==D?(a._selectedDate=s,a._selectDateCell(s),a.trigger(d)):(a._view=w,a._viewDepthAnimationBegins(),a._renderView(),a._viewDepthAnimationEnds(),a.trigger(I));break;case T:t=parseInt(i.attr("data-value"),10),(s=new Date(t,n.getMonth(),n.getDate())).getDate()!=n.getDate()&&(s=new Date(t,n.getMonth()+1,0)),a._focusedDate=s,l==T?(a._selectedDate=s,a._selectDateCell(s),a.trigger(d)):(a._view=D,a._viewDepthAnimationBegins(),a._renderView(),a._viewDepthAnimationEnds(),a.trigger(I));break;case x:t=parseInt(i.attr("data-value"),10),(s=new Date(t,n.getMonth(),n.getDate())).getDate()!=n.getDate()&&(s=new Date(t,n.getMonth()+1,0)),a._focusedDate=s,l==x?(a._selectedDate=s,a._selectDateCell(s),a.trigger(d)):(a._view=T,a._viewDepthAnimationBegins(),a._renderView(),a._viewDepthAnimationEnds(),a.trigger(I))}},_shouldChangeView:function(e){var t,a,i=this._focusedDate,n=!1,l=i.getFullYear(),s=e.getFullYear();switch(this._view){case w:s==l&&e.getMonth()==i.getMonth()||(n=!0);break;case D:s!=l&&(n=!0);break;case T:a=(t=l-l%10)+10,(s<t||a<s)&&(n=!0);break;case x:a=(t=l-l%100)+100,(s<t||a<s)&&(n=!0)}return n},_selectTodayHandler:function(){var e=this,t=new Date,a=e._shouldChangeView(t),i=!1,n=e.options.view.depth;e._enabled&&((t=new Date(t.getFullYear(),t.getMonth(),t.getDate())).getTime()>e._focusedDate&&(i=!0),e._selectedDate=e._focusedDate=t,e._view!=n?(e._view=n,e._viewDepthAnimationBegins(),e._renderView(),e._viewDepthAnimationEnds(),e.trigger(I)):a?(e._animationBegins(i),e._renderView(),e._animationEnds(i),e.trigger(C)):e._selectDateCell(e._focusedDate),e.trigger(d))},_selectDateCell:function(t){var e=this,a=null;switch(e._view){case w:a=e._calendarTable.find(".sui-date:not('.sui-other-month')").filter(function(){var e=A(this).attr("data-value"),e=new Date(e);return e.getDate()==t.getDate()&&e.getMonth()==t.getMonth()&&e.getFullYear()==t.getFullYear()});break;case D:a=e._calendarTable.find(".sui-month").filter(function(){return A(this).attr("data-value")==t.getMonth()});break;case T:a=e._calendarTable.find(".sui-year").filter(function(){return A(this).attr("data-value")==t.getFullYear()});break;case x:a=e._calendarTable.find(".sui-years").filter(function(){var e=parseInt(A(this).attr("data-value"),10);return t.getFullYear()>=e&&t.getFullYear()<e+10})}e._calendarTable.find(".sui-selected").removeClass("sui-selected"),a.addClass("sui-selected")},_viewDepthAnimationBegins:function(){var t,a,i=this;n("transition")?(i._enabled=!1,t=i._calendarTable,a=!1,t.bind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(e){a=i._removeOldTable(t,i)}),setTimeout(function(){a||i._removeOldTable(t,i)},1e3),t.addClass("sui-fade-in"),i._renderTable()):i._calendarTable.empty()},_removeOldTable:function(e,t){return e.unbind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"),e.remove(),t._enabled=!0},_viewDepthAnimationEnds:function(){n("transition")&&this._calendarTable.addClass("sui-scaling")},_changeViewDepthHandler:function(e){var t=this,a=[w,D,T,x],i=A.inArray(t._view,a),n=A.inArray(t.options.view.minDepth,a);t._enabled&&i<n&&(t._view=a[i+1],t._viewDepthAnimationBegins(),t._renderView(),t._viewDepthAnimationEnds())},_movePrevMonth:function(){var e=this._focusedDate,t=(this._view,new Date(e.getFullYear(),e.getMonth()-1,e.getDate()));t.getDate()!=e.getDate()&&(t=new Date(e.getFullYear(),e.getMonth(),0)),this._focusedDate=t},_moveNextMonth:function(){var e=this._focusedDate,t=(this._view,new Date(e.getFullYear(),e.getMonth()+1,e.getDate()));t.getDate()!=e.getDate()&&(t=new Date(e.getFullYear(),e.getMonth()+2,0)),this._focusedDate=t},_movePrevYears:function(e){var t=this._focusedDate,a=(this._view,new Date(t.getFullYear()-e,t.getMonth(),t.getDate()));a.getMonth()!=t.getMonth()&&(a=new Date(t.getFullYear()-e,t.getMonth()+1,0)),this._focusedDate=a,this._calendarTable.empty()},_moveNextYears:function(e){var t=this._focusedDate,a=(this._view,new Date(t.getFullYear()+e,t.getMonth(),t.getDate()));a.getMonth()!=t.getMonth()&&(a=new Date(t.getFullYear()+e,t.getMonth()+1,0)),this._focusedDate=a,this._calendarTable.empty()},_animationBegins:function(e){var t,a=this,i="-";n("transition")?(a._calendarTable.removeClass("sui-scaling"),a._tableWrapper=A("<div>").insertAfter(a.element.find(".sui-header")),a._tableWrapper.width(2*a.element.width()),a.element.find(".sui-calendar-view").appendTo(a._tableWrapper),a.element.parent().hasClass("sui-rtl")&&(e=!e,i="+"),a._renderTable(e),e||(a._tableWrapper.css("position","relative"),a._tableWrapper.css("left",i+a.element.width()+"px")),a._tableWrapper.addClass("sui-calendar-animation"),t=a._enabled=!1,a._tableWrapper.bind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(e){t=a._removeTempTables(a)}),setTimeout(function(){t||a._removeTempTables(a)},1e3)):a._calendarTable.empty()},_removeTempTables:function(e){return e._tempTable.remove(),e._calendarTable.insertAfter(e.element.find(".sui-header")),e._tableWrapper.unbind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"),e._tableWrapper.remove(),e._tableWrapper=null,e._enabled=!0},_animationEnds:function(e){var t;n("transition")&&(t=this.element.width(),e&&(t*=-1),this._tableWrapper.css("transform","translateX("+t+"px)"))},_moveView:function(e){var t=this;switch(t._animationBegins(e),t._view){case w:e?t._moveNextMonth():t._movePrevMonth(),t._createMonthView();break;case D:e?t._moveNextYears(1):t._movePrevYears(1),t._createYearsView();break;case T:e?t._moveNextYears(10):t._movePrevYears(10),t._createDecadeView();break;case x:e?t._moveNextYears(100):t._movePrevYears(100),t._createcenturyView()}t._animationEnds(e),t.trigger(C)},_disablePrev:function(e){var t=this.element.find(".sui-prev");e?(this.preventPrevNavigation=!0,t.addClass("sui-calendar-disabled")):(this.preventPrevNavigation=!1,t.removeClass("sui-calendar-disabled"))},_disableNext:function(e){var t=this.element.find(".sui-next");e?(this.preventNextNavigation=!0,t.addClass("sui-calendar-disabled")):(this.preventNextNavigation=!1,t.removeClass("sui-calendar-disabled"))},_movePrevHandler:function(){!this.preventPrevNavigation&&this._enabled&&this._moveView(!1)},_moveNextHandler:function(){!this.preventNextNavigation&&this._enabled&&this._moveView(!0)},_initializeHeader:function(){var e=this.options.labels;this._header=A('<div class="sui-header"><span unselectable="on"  title="'+e.previous+'" class="sui-prev"><span unselectable="on" class="sui-left-arrow"></span></span><span class="sui-text"></span><span unselectable="on" title="'+e.next+'" class="sui-next"><span unselectable="on" class="sui-right-arrow"></span></span></div>').appendTo(this.element)},_renderTable:function(e){var t=this,a=t.options,i="sui-calendar-view";a.hover&&a.enabled&&(i+=" sui-hoverable"),t._calendarTable?(t.element.find(".sui-calendar-view").off(l,t._calendarSelection),t._calendarSelection=null,e?(t._tempTable=t.element.find(".sui-calendar-view"),t._calendarTable=A("<table />").width(t.element.width()).addClass(i).insertAfter(t._tempTable)):(t._tempTable=t.element.find(".sui-calendar-view"),t._calendarTable=A("<table />").width(t.element.width()).addClass(i).insertBefore(t._tempTable))):t._calendarTable=A("<table />").width(t.element.width()).addClass(i).insertAfter(t.element.find(".sui-header")),!a.readOnly&&a.enabled&&t.element.find(".sui-calendar-view").on(l,t._calendarSelection=r(t._calendarSelectionHandler,t))},_render:function(){this._renderTable(),this._renderView()},_renderView:function(){var e=this;switch(e._view){case w:e._createMonthView();break;case D:e._createYearsView();break;case T:e._createDecadeView();break;case x:e._createcenturyView();break;default:e._createMonthView()}},_initializeFooter:function(){var t=this.options.footer.footerTemlpate,e=U(t)?t:function(e){return z(t,e)};A('<div class="sui-footer"><span class="sui-footer-text">'+e.call(this,new Date)+"</span></div>").appendTo(this.element)},_createMonthView:function(){for(var e=this,t=e.options,u=e._focusedDate,c=e._calendarTable,a=O.getCalendarInfo(),i=a.days,p=a.firstDay,a=a.months,_=i.namesShort,h=[],m=i.namesAbbr,g=i.names,v=t.min,f=t.max,b=t.dayTemplate,D=t.otherMonthDayTemplate,w=t.dateTooltipTemplate,T=t.outOfRangeDayTemplate,x=U(b)?b:function(e){return z(b,e)},y=U(D)?D:function(e){return z(D,e)},P=U(w)?w:function(e){return z(w,e)},M=U(T)?T:function(e){return z(T,e)},i=A("<thead/>").appendTo(c),t=A("<tr/>").addClass("sui-week-header").appendTo(i),C="",n=0,n=p;n<_.length;n++)h.push(_[n]);for(var I=0;I<p;I++)h.push(_[I]);for(var l=0;l<h.length;l++){h[l];C+="<th scope='col' abbr='"+m[l]+"' title='"+g[l]+"'>"+h[l]+"</th>"}t.html(C);var k=A('<tbody class="sui-days"/>').appendTo(c),s=u.getFullYear(),r=u.getMonth(),i=new Date(s,r,1).getDay()-p,t=new Date(s,r+1,0).getDay()-p,B=new Date(s,r+1,0).getDate(),c=7,a=(e._header.find(".sui-text").text(a.names[r]+" "+s),i<=0&&(i=7-(0===i?0:p),c=0),-1*i+1),F=6-t+B+c,Y=0,V="";for(42<F-a&&(F-=7),F-a<35&&(F+=7),n=a;n<=F;n++){var o=new Date(s,r,n,0,0,0,0),W="sui-date",H=o.getTime()<v.getTime()||o.getTime()>f.getTime()?" sui-out-of-range":"",d=n<1||B<n?" sui-other-month":"",S=6==o.getDay()||0===o.getDay()?" sui-weekend":"",E=H||u.getDate()!=n||d?"":" sui-focused",N=e._selectedDate&&o.getTime()==e._selectedDate.getTime()&&!d?" sui-selected":"",L=null;H?(L=M.call(e,{date:o,day:o.getDate()}),W=N=E=S=d=""):d?""===(L=y.call(e,{date:o,day:o.getDate()}))&&(d+=" sui-no-hover"):L=x.call(e,{date:o,day:o.getDate()}),V+='<td title="'+P.call(e,{date:o,day:o.getDate()})+'" data-value="'+o.getFullYear()+"/"+(o.getMonth()+1)+"/"+o.getDate()+'" class="'+W+d+S+E+N+H+'">'+L+"</td>",7==++Y&&(A('<tr role="row"/>').appendTo(k).html(V),Y=0,V="")}i=new Date(s,r,1,0,0,0,0),t=new Date(s,r+1,0);i.getTime()<=v.getTime()?e._disablePrev(!0):e.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&e._disablePrev(!1),t.getTime()>=f.getTime()?e._disableNext(!0):e.element.find(".sui-next").hasClass("sui-calendar-disabled")&&e._disableNext(!1)},_createYearsView:function(){var e=this,t=e.options,u=e._calendarTable,a=e._focusedDate,c=O.getCalendarInfo().months,p=c.names,_=c.namesAbbr,h=A('<tbody class="sui-months"/>').appendTo(u),i="",n=t.min,l=t.max,s="",m=0;e._header.find(".sui-text").text(a.getFullYear());for(var r=0;r<_.length;r++){var o=new Date(a.getFullYear(),r,a.getDate(),0,0,0,0),g=a.getMonth()==r?" sui-focused":"",d=(t.view.depth==D&&(s=e._selectedDate&&o.getTime()==e._selectedDate.getTime()?" sui-selected":""),""),v=p[r],f=_[r],b="sui-month";(d=o.getFullYear()<=n.getFullYear()&&o.getMonth()<n.getMonth()||o.getFullYear()>=l.getFullYear()&&o.getMonth()>l.getMonth()?" sui-out-of-range":d)&&(v=f="&nbsp;",b=s=g=""),i+="<td data-value='"+r+"' class='"+b+g+s+d+"' title='"+v+"'>"+f+"</td>",4==++m&&(A("<tr/>").appendTo(h).html(i),m=0,i="")}a.getFullYear()<=n.getFullYear()?e._disablePrev(!0):e.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&e._disablePrev(!1),a.getFullYear()>=l.getFullYear()?e._disableNext(!0):e.element.find(".sui-next").hasClass("sui-calendar-disabled")&&e._disableNext(!1)},_createDecadeView:function(){var e=this,t=e.options,u=e._calendarTable,a=e._focusedDate,i=a.getFullYear(),c=i%10,p=A('<tbody class="sui-decade"/>').appendTo(u),n="",_=0,h=t.min,m=t.max,l=i-c-1,s="",r=i+(10-c);e._header.find(".sui-text").text(1+l+"-"+(r-1));for(var o=l;o<=r;o++){var g=new Date(o,a.getMonth(),a.getDate(),0,0,0,0),v=o==l||o==r?" sui-other-year":"",f=i==o?" sui-focused":"",b="",d=o,D="sui-year";(g.getFullYear()<h.getFullYear()||g.getFullYear()>m.getFullYear())&&(b=" sui-out-of-range"),t.view.depth==T&&(s=e._selectedDate&&g.getTime()==e._selectedDate.getTime()?" sui-selected":""),b&&(D=s=f=v="",d="&nbsp;"),n+="<td data-value='"+d+"' class='"+D+v+f+s+b+"' title='"+d+"'>"+d+"</td>",4==++_&&(A("<tr />").appendTo(p).html(n),_=0,n="")}l<h.getFullYear()?e._disablePrev(!0):e.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&e._disablePrev(!1),r>m.getFullYear()?e._disableNext(!0):e.element.find(".sui-next").hasClass("sui-calendar-disabled")&&e._disableNext(!1)},_createcenturyView:function(){var e=this,t=e.options,u=e._calendarTable,a=e._focusedDate,i=a.getFullYear(),c=i%100,p=A('<tbody class="sui-decade"/>').appendTo(u),n="",l="",_=t.min,h=t.max,m=0,s=i-c-10,r=99+s+10+2;e._header.find(".sui-text").text(10+s+"-"+(r-2));for(var o=s;o<r;o+=10){var g=o==s||o==r-1?" sui-other-years":"",d=new Date(o,a.getMonth(),a.getDate(),0,0,0,0),v=new Date(o+10,a.getMonth(),a.getDate(),0,0,0,0),f="",b=o<=i&&i<o+10?" sui-focused":"",D="sui-years",w=o+" - "+(o+9),T=o;(d.getFullYear()<_.getFullYear()&&v.getFullYear()<=_.getFullYear()||d.getFullYear()>h.getFullYear())&&(f=" sui-out-of-range"),t.view.depth==x&&(l=e._selectedDate&&e._selectedDate.getFullYear()>=d.getFullYear()&&e._selectedDate.getFullYear()<d.getFullYear()+10?" sui-selected":""),f&&(D=l=b=g="",T=w="&nbsp;"),n+="<td data-value='"+T+"' class='"+D+g+b+l+f+"' title='"+w+"'>"+w+"</td>",4==++m&&(A("<tr />").appendTo(p).html(n),m=0,n="")}s<_.getFullYear()?e._disablePrev(!0):e.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&e._disablePrev(!1),r>h.getFullYear()?e._disableNext(!0):e.element.find(".sui-next").hasClass("sui-calendar-disabled")&&e._disableNext(!1)},value:function(){var e=this,t=e.options,a=t.min,i=t.max,n=[].slice.call(arguments);if(!(0<n.length))return e._selectedDate;n=n[0];if(null==n||""===n||f(n))e._selectedDate=null,e._focusedDate=t.focused;else{if(n.getTime()<a.getTime()||n.getTime()>i.getTime())return;e._focusedDate=e._selectedDate=new Date(n.getFullYear(),n.getMonth(),n.getDate())}e._calendarTable.empty(),e._renderView()},enabled:function(){var e=this,t=e.options,a=[].slice.call(arguments);if(!(0<a.length))return e._enabled;a=a[0];a?(t.hover&&e._calendarTable.addClass("sui-hoverable"),e.element.removeClass("sui-calendar-disabled")):(e._calendarTable.removeClass("sui-hoverable"),e.element.addClass("sui-calendar-disabled")),e._enabled=a},previous:function(){this.preventPrevNavigation||this._moveView(!1)},next:function(){this.preventNextNavigation||this._moveView(!0)},view:function(){var e=this,t=[].slice.call(arguments);if(!(0<t.length))return e._view;t=t[0];t!=e._view&&(e._view=t,e._calendarTable.empty(),e._renderView())},focused:function(){var e=this,t=[].slice.call(arguments);if(!(0<t.length))return e._focusedDate;e._focusedDate=t[0];1<t.length&&e._view!=t[1]&&(e._view=t[1]),e._calendarTable.empty(),e._renderView()},visible:function(){var e=this,t=(e.options,[].slice.call(arguments));if(!(0<t.length))return!e.element.hasClass("sui-hidden")&&"none"!=e.element.css("display");t[0]?e.element.removeClass("sui-hidden"):e.element.addClass("sui-hidden")},destroy:function(){var e=this,t=e.options.cls,a=A(e.element);a.removeClass("sui-calendar sui-read-only sui-calendar-disabled"+(t?" "+t:"")),e._focusedDate=null,e._header=null,e._calendarTable=null,e._view=null,e._enabled=null,e._selectedDate=null,e._tempTable=null,e._tableWrapper=null,a.find(".sui-prev").off(l,e._movePrev),e._movePrev=null,a.find(".sui-next").off(l,e._moveNext),e._moveNext=null,a.find(".sui-text").off(l,e._changeViewDepth),e._changeViewDepth=null,a.find(".sui-footer").off(l,e._selectToday),e._selectToday=null,a.find(".sui-calendar-view").off(l,e._calendarSelection),e._calendarSelection=null,a.off(M,e._selectStart),e._selectStart=null,a.empty(),_.fn.destroy.call(e)}});e.defaults=i,O.ui.plugin("Calendar",e),t={calendar:null,format:"{0:MM/dd/yyyy}",textTemplate:"{0:MM/dd/yyyy}",value:null,parseFormats:["MM/dd/yyyy"],openOnFocus:!1,showButton:!0,editable:!0,enabled:!0,messages:{calendarIconTooltip:"",buttonText:"select"},min:new Date(1900,0,1),max:new Date(2099,11,31),events:{}},(a=_.extend({init:function(e,t){_.fn.init.apply(this,arguments);var a,i=this,n=i.options,l=n.value,s=n.showButton?"":" sui-no-button",s=(g&&(s+=" sui-ie8"),n.isMonthYearPicker?A("<span class='sui-monthyearpicker"+s+"' />"):n.isTimePicker?A("<span class='sui-timepicker"+s+"' />"):n.isDateTimePicker?A("<span class='sui-datetimepicker"+s+"' />"):A("<span class='sui-datepicker"+s+"' />"));i._selectedDate=null,A(e).after(s),i._wrapper=s,i._visibleInput=A("<input class='sui-picker-input' type='text' />").appendTo(s),n.showButton&&(a=n.messages.calendarIconTooltip,n.isTimePicker&&(a=n.messages.timeIconTooltip),i._iconWrapper=A("<span class='sui-icon-wrapper' unselectable='on' title='"+a+"' />").appendTo(s),A('<span class="sui-sprite sui-calendar-icon" unselectable="on">'+n.messages.buttonText+"</span>").appendTo(i._iconWrapper),n.isDateTimePicker&&(i._timeIconWrapper=A("<span class='sui-time-icon-wrapper' unselectable='on' title='"+n.messages.timeIconTooltip+"' />").appendTo(s),A('<span class="sui-sprite sui-time-icon" unselectable="on">'+n.messages.buttonText+"</span>").appendTo(i._timeIconWrapper))),A(e).css(u,c).appendTo(s),i._enabled=n.enabled,n.enabled||(s.addClass("sui-disabled"),i._visibleInput.on(P,i._visibleInputFocused=r(i._visibleInputFocusedHandler,i))),i._attachEvents(),l||(a=i._value())&&(l=a),l&&(b(l)&&(l=new Date(l)),n.isMonthYearPicker?i._selectedDate=new Date(l.getFullYear(),l.getMonth(),1):i._selectedDate=l,i._changeInputsValues(l))},_changeInputsValues:function(e){var t=this,a=t.options,i=a.format,n=a.textTemplate,l=U(i)?i:function(e){return z(i,e.date)},l=(t._value(l.call(t,{date:e})),U(n)?n:function(e){return z(n,e.date)});t._visibleInput.get(0).value=l.call(t,{date:e}),a.isMonthYearPicker?t._selectedDate=new Date(e.getFullYear(),e.getMonth(),1):t._selectedDate=e},_attachEvents:function(){var e=this,t=e.options;t.showButton&&(t.isTimePicker?e._iconWrapper.on(l,e._toggleListBoxVisibility=r(e._toggleListBoxVisibilityHandler,e)):(t.isDateTimePicker&&e._timeIconWrapper.on(l,e._toggleListBoxVisibility=r(e._toggleListBoxVisibilityHandler,e)),e._iconWrapper.on(l,e._toggleCalendarVisibility=r(e._toggleCalendarVisibilityHandler,e)))),e._visibleInput.on("keypress",e._visibleInputKeyPress=r(e._visibleInputKeyPressHandler,e)),A(o).on(y+".shieldDatePicker"+e.getInstanceId(),r(e._hidePopupHandler,e)),e._visibleInput.on(P,e._visibleInputFocused=r(e._visibleInputFocusedHandler,e)),e._visibleInput.on(B,e._visibleInputBlured=r(e._visibleInputBluredHandler,e)),e._visibleInput.on(d,e._visibleInputChanged=r(e._visibleInputChangedHandler,e))},_visibleInputChangedHandler:function(){var e=this,t=e.options,a=t.format,i=t.min,n=t.max;e._enabled&&(e._selectedDate=s(e._visibleInput.get(0).value,t.parseFormats),e._selectedDate&&(e._selectedDate.getTime()>n||e._selectedDate.getTime()<i)&&(t.isTimePicker?e._selectedDate=new Date(i.getFullYear(),i.getMonth(),i.getDate(),e._selectedDate.getHours(),e._selectedDate.getMinutes(),e._selectedDate.getSeconds()):e._selectedDate=null),null!=e._selectedDate&&(e._selectedDate&&e.calendar&&e.calendar.value(e._selectedDate),e._selectedDate&&e.listBox&&e._selectValueInListBox(e._selectedDate)),n=U(a)?a:function(e){return z(a,e.date)},e.element.get(0).value=n.call(e,{date:e._selectedDate}),e.trigger(d))},_visibleInputFocusedHandler:function(e){var t=this,a=t.options;t._enabled?(a.isMonthYearPicker?t._wrapper.addClass("sui-monthyearpicker-focus"):a.isTimePicker?t._wrapper.addClass("sui-timepicker-focus"):a.isDateTimePicker?t._wrapper.addClass("sui-datetimepicker-focus"):t._wrapper.addClass("sui-datepicker-focus"),a.openOnFocus&&(!t._shouldShowPopup&&t.calendar||(t._toggleCalendarVisibilityHandler(),t._shouldShowPopup=!1))):e.target.blur()},_visibleInputBluredHandler:function(){var e=this.options,t=this._wrapper;e.isMonthYearPicker?t.removeClass("sui-monthyearpicker-focus"):e.isTimePicker?t.removeClass("sui-timepicker-focus"):e.isDateTimePicker?t.removeClass("sui-datetimepicker-focus"):t.removeClass("sui-datepicker-focus")},_visibleInputKeyPressHandler:function(e){var t=this,a=t.options;if(t._enabled){if(!1===a.editable)return e.preventDefault(),void e.stopPropagation();a=e.keyCode||e.charCode;13!=a&&9!=a&&27!=a||(t._shouldShowPopup=!0,t.calendar&&t.calendar.element.css(u)!=c&&(t.calendar.element.css(u,c),t.trigger(k)))}},_hidePopupHandler:function(e){var t,a=this;if(a.listBox){if(a._visibleInput.get(0)==e.target||a._iconWrapper&&a._iconWrapper.get(0)==e.target||a._iconWrapper&&a._iconWrapper.children(0).get(0)==e.target||a._timeIconWrapper&&a._timeIconWrapper.get(0)==e.target||a._timeIconWrapper&&a._timeIconWrapper.children(0).get(0)==e.target)return;a._popupIsOver?(t=a.listBox.element.parent().height(),a.listBox.element.parent().animate({height:0,top:a._visibleInput.offset().top},150,function(){A(this).css(u,c),A(this).css("height",t)})):a.listBox.element.parent().slideUp(150,function(){}),a._shouldShowPopup=!0}a.calendar&&(a._visibleInput.get(0)==e.target||a._iconWrapper&&a._iconWrapper.get(0)==e.target||a._iconWrapper&&a._iconWrapper.children(0).get(0)==e.target||(a._popupIsOver?(t=a.calendar.element.height(),a.calendar.element.animate({height:0,top:a._visibleInput.offset().top},150,function(){A(this).css(u,c),A(this).css("height",t)})):a.calendar.element.slideUp(150,function(){}),a._shouldShowPopup=!0))},_toggleListBoxVisibilityHandler:function(){var e=this,t=e.options,a=t.listBox;e._enabled&&(e.listBox||(new F({listbox:a,parent:e,min:t.min,max:t.max,interval:t.interval,textTemplate:t.isDateTimePicker?t.timeFormat:t.textTemplate}),e.listBox.on("select",e._listBoxChange=r(e._listBoxChangeHandler,e)),e.listBox.element.on(y,e._popupMouseDown=r(e._popupMouseDownHandler,e)),e._selectedDate&&e._selectValueInListBox(e._selectedDate)),t.isDateTimePicker&&(e.calendar&&e.calendar.element.css(u)!=c&&(e.calendar.element.slideUp(150,function(){}),e._shouldShowPopup=!0),e._toggleTimePopup=!0),e._shouldShowPopup?e._showPopup():e._hidePopup(),e._shouldShowPopup?e._shouldShowPopup=!1:e._shouldShowPopup=!0)},_listBoxChangeHandler:function(e){for(var t,a=this,i=(a.options.isDateTimePicker?(i=a._selectedDate,t=e.item,i=i||new Date,a._selectedDate=new Date(i.getFullYear(),i.getMonth(),i.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())):a._selectedDate=e.item,a.options),n=i.isDateTimePicker?O.format(i.timeFormat,a._selectedDate):O.format(i.textTemplate,a._selectedDate),l=a.listBox.element.find(".sui-listbox-item"),s=0;s<l.length;s++)if(l[s].innerHTML==n){a._selectedElement=A(l[s]);break}a._changeInputsValues(a._selectedDate),a._hidePopup(),a._shouldShowPopup=!0,a.trigger(d)},_toggleCalendarVisibilityHandler:function(){var e=this,t=e.options,a=t.calendar;e._enabled&&(e.calendar||(O.ui.Calendar&&(h.object(a)&&a instanceof O.ui.Calendar?e.calendar=a:(e._wrapper.parent().hasClass("sui-rtl")?(e._calendarWrapper=A("<div style='display: none;' />").appendTo(o.body),e._calendarWrapper.wrap("<span class='sui-rtl'></span>")):e._calendarWrapper=A("<div style='display: none;' />").appendTo(o.body),e.calendar=new O.ui.Calendar(e._calendarWrapper,v({},a,{min:t.min,max:t.max}))),e._shouldShowPopup=!0),e.calendar.on(d,e._calendarChange=r(e._calendarChangeHandler,e)),e.calendar.element.on(y,e._popupMouseDown=r(e._popupMouseDownHandler,e)),e._selectedDate&&e.calendar.value(e._selectedDate)),t.isDateTimePicker&&(e.listBox&&e.listBox.element.parent().css(u)!=c&&(e.listBox.element.parent().slideUp(150,function(){}),e._shouldShowPopup=!0),e._toggleTimePopup=!1),e._shouldShowPopup?e._showPopup():e._hidePopup(),e._shouldShowPopup?e._shouldShowPopup=!1:e._shouldShowPopup=!0)},_calendarChangeHandler:function(){var e,t=this,a=t.options;a.isMonthYearPicker?(e=t.calendar.value(),t._selectedDate=new Date(e.getFullYear(),e.getMonth(),1)):a.isDateTimePicker?(e=t.calendar.value(),t._selectedDate?t._selectedDate=new Date(e.getFullYear(),e.getMonth(),e.getDate(),t._selectedDate.getHours(),t._selectedDate.getMinutes(),t._selectedDate.getSeconds()):t._selectedDate=t.calendar.value()):t._selectedDate=t.calendar.value(),t._changeInputsValues(t._selectedDate),t._hidePopup(),t._shouldShowPopup=!0,t.trigger(d)},_calculateLeftOffsetWhenRtl:function(){var e,t=this,a=t.options,i=(t._wrapper.offset(),0);return a.isTimePicker||a.isDateTimePicker&&t._toggleTimePopup?0<(e=t._visibleInput.offset().left-(t.listBox.element.parent().width()-t._visibleInput.width()))&&(i=e):0<(e=t._visibleInput.offset().left-(t.calendar.element.width()-t._visibleInput.width()))&&(i=e),i},_showPopup:function(){var a=this,e=a.options,t=a._wrapper.offset(),i=t.top-A(o).scrollTop(),n=a._wrapper.height(),l=A(p).height(),s=t.top+n,r=t.left;a._wrapper.parent().hasClass("sui-rtl")&&(r=a._calculateLeftOffsetWhenRtl()),l<(l=(e.isTimePicker||e.isDateTimePicker&&a._toggleTimePopup?a.listBox.element.parent():a.calendar.element).height())+i+n?s=t.top-l-1:s++,(s<0||A(o).scrollTop()>s)&&(s=t.top+n+1),a._visibleInput.offset().top>s?a._popupIsOver=!0:a._popupIsOver=!1,e.isTimePicker||e.isDateTimePicker&&a._toggleTimePopup?a._popupIsOver?(a.listBox.element.parent().css({position:"absolute",zIndex:10002,top:s+l,left:r,height:0,display:""}),a.listBox.element.parent().animate({height:l,top:s+2},150)):(a.listBox.element.parent().css({position:"absolute",top:s,left:r,zIndex:10002}),a.listBox.element.parent().slideDown(150,function(){var e,t;a._selectedElement&&(e=Math.abs(a._selectedElement.get(0).offsetTop),t=a._selectedElement.parent().scrollTop(),e>a._selectedElement.parent().get(0).scrollTopMax&&(e=a._selectedElement.parent().get(0).scrollTopMax),t+a.listBox.element.height()>e&&t<e||a.listBox.element.scrollTop(e))})):a._popupIsOver?(a.calendar.element.css({position:"absolute",zIndex:10002,top:s+l,left:r,height:0,display:""}),a.calendar.element.animate({height:l,top:s},150)):(a.calendar.element.css({position:"absolute",zIndex:10002,top:s,left:r}),a.calendar.element.slideDown(150,function(){})),a.trigger("open")},_hidePopup:function(){var e,t=this,a=t.options;a.isTimePicker||a.isDateTimePicker&&t._toggleTimePopup?t.listBox&&t.listBox.element.parent().css(u)!=c&&(t._popupIsOver?(e=t.listBox.element.parent().height(),t.listBox.element.parent().animate({height:0,top:t._visibleInput.offset().top},150,function(){A(this).css(u,c),A(this).css("height",e)})):t.listBox.element.parent().slideUp(150,function(){})):t.calendar&&t.calendar.element.css(u)!=c&&(t._popupIsOver?(e=t.calendar.element.height(),t.calendar.element.animate({height:0,top:t._visibleInput.offset().top},150,function(){A(this).css(u,c),A(this).css("height",e)})):t.calendar.element.slideUp(150,function(){})),t.trigger(k)},_popupMouseDownHandler:function(e){e.preventDefault(),e.stopPropagation()},_selectValueInListBox:function(e){var t=this;if(t.listBox){for(var a=t.options,i=a.isDateTimePicker?O.format(a.timeFormat,e):O.format(a.textTemplate,e),n=t.listBox.element.find(".sui-listbox-item"),l=0;l<n.length;l++)if(n[l].innerHTML==i){t._selectedElement=A(n[l]);break}t.listBox.selected(l,!0)}},enabled:function(){var e=this,t=(e.options,[].slice.call(arguments));if(!(0<t.length))return e._enabled;t=t[0];(e._enabled=t)?(e._visibleInputFocused&&(e._visibleInput.off(P,e._visibleInputFocused),e._visibleInputFocused=null),e._wrapper.removeClass("sui-disabled")):(e._wrapper.addClass("sui-disabled"),e._visibleInput.on(P,e._visibleInputFocused=r(e._visibleInputFocusedHandler,e)))},visible:function(){var e=this,t=(e.options,[].slice.call(arguments));if(!(0<t.length))return!e._wrapper.hasClass("sui-hidden")&&"none"!=e._wrapper.css("display");t[0]?e._wrapper.removeClass("sui-hidden"):e._wrapper.addClass("sui-hidden")},focus:function(){A(this._visibleInput).focus()},_value:function(){return this.element.attr.apply(this.element,["value"].concat([].slice.call(arguments)))},value:function(){var e=this,t=e.options,a=t.min,i=t.max,n=[].slice.call(arguments);return 0<n.length?null==(n=n[0])||""===n||f(n)?(e._visibleInput.get(0).value="",e._selectedDate=null,e.calendar&&e.calendar.value(null),void((t.isTimePicker||t.isDateTimePicker)&&e.listBox&&e.listBox.clearSelection())):void(!t.isTimePicker&&(n.getTime()<a.getTime()||n.getTime()>i.getTime())||(e._changeInputsValues(n),e.calendar&&e.calendar.value(n),e._selectedDate=n,(t.isTimePicker||t.isDateTimePicker)&&e._selectValueInListBox(n))):e._selectedDate},close:function(){var e=this,t=[].slice.call(arguments);e.options.isDateTimePicker?0<t.length&&("calendar"==t[0]&&(e._shouldShowPopup=!1,e._toggleCalendarVisibilityHandler()),"timeview"==t[0]&&(e._shouldShowPopup=!1,e._toggleListBoxVisibilityHandler())):(e._shouldShowPopup=!1,e._toggleCalendarVisibilityHandler())},open:function(){var e=this,t=[].slice.call(arguments);e.options.isDateTimePicker?0<t.length&&("calendar"==t[0]&&(e._shouldShowPopup=!0,e._toggleCalendarVisibilityHandler()),"timeview"==t[0]&&(e._shouldShowPopup=!0,e._toggleListBoxVisibilityHandler())):(e._shouldShowPopup=!0,e._toggleCalendarVisibilityHandler())},destroy:function(){var e=this;e.options.isTimePicker?(e._iconWrapper.off(l,e._toggleListBoxVisibility),e._toggleListBoxVisibility=null):(e.options.isDateTimePicker&&(e._iconWrapper.off(l,e._toggleListBoxVisibility),e._toggleListBoxVisibility=null,e._timeIconWrapper=null),e._iconWrapper.off(l,e._toggleCalendarVisibility),e._toggleCalendarVisibility=null),e._iconWrapper=null,e._popupIsOver=null,A(o).off(y+".shieldDatePicker"+e.getInstanceId()),A(e.element).css(u,"").insertAfter(e._wrapper),e._wrapper.remove(),e._wrapper=null,e._destroyCalendar(),e._destroyListBox(),e._shouldShowPopup=null,e._visibleInput.off(P,e._visibleInputFocused),e._visibleInput.off(d,e._visibleInputChanged),e._visibleInput.off(B,e._visibleInputBlured),e._visibleInputFocused=null,e._visibleInputChanged=null,e._visibleInputBlured=null,e._visibleInput=null,e._selectedDate=null,e._enabled=null,_.fn.destroy.call(e)},_destroyCalendar:function(){var e=this;e.calendar&&(e.calendar.off(d,e._calendarChange),e._calendarChange=null,e.calendar.element.off(y,e._popupMouseDown),e._popupMouseDown=null,e.calendar.destroy(),e.calendar=null,e._calendarWrapper&&e._calendarWrapper.remove())},_destroyListBox:function(){var e=this;e.listBox&&(e._selectedElement=null,e.listBox.off(d,e._listBoxChange),e._listBoxChange=null,e.listBox.destroy(),e.listBox=null,e._listBoxWrapper&&(e._listBoxWrapper.remove(),e._listBoxWrapper=null))}})).defaults=t,O.ui.plugin("DatePicker",a),i=v({},t,{isMonthYearPicker:!0,calendar:{view:{depth:D,start:D}},format:"{0:MMMM yyyy}",textTemplate:"{0:MMMM yyyy}",parseFormats:["MMMM yyyy"]}),(e=a.extend({init:function(e,t){t&&(t.isMonthYearPicker=!0),a.prototype.init.call(this,e,t)}})).defaults=i,O.ui.plugin("MonthYearPicker",e),i=v({},t,{isTimePicker:!0,listBox:null,format:"{0:h:mm tt}",textTemplate:"{0:h:mm tt}",parseFormats:["h:mm tt"],interval:30,min:new Date(1900,0,1,0,0,0),max:new Date(1900,0,1,0,0,0),messages:{timeIconTooltip:"",buttonText:"select"}}),(e=a.extend({init:function(e,t){t&&(t.isTimePicker=!0),a.prototype.init.call(this,e,t)}})).defaults=i,O.ui.plugin("TimePicker",e),i=v({},t,{isDateTimePicker:!0,listBox:null,format:"{0:MM/dd/yyyy h:mm tt}",textTemplate:"{0:MM/dd/yyyy h:mm tt}",parseFormats:["MM/dd/yyyy h:mm tt"],interval:30,min:new Date(1900,0,1,0,0,0),max:new Date(2099,11,31,0,0,0),messages:{calendarIconTooltip:"",timeIconTooltip:"",buttonText:"select"},timeFormat:"{0:h:mm tt}"}),(e=a.extend({init:function(e,t){t&&(t.isDateTimePicker=!0),a.prototype.init.call(this,e,t)}})).defaults=i,O.ui.plugin("DateTimePicker",e)}(jQuery,shield,this);
!function(s,l,a,e){var v=l.ui.Widget,t=l.Class,u=document,c=l.is,f=(l.get,l.format,l.to.int),p=(Math.abs,s.each,s.proxy),d=(s.extend,s.map,c[void 0]),o=a.opera,r=navigator.userAgent,_=(/msie/i.test(r)&&!o&&u.documentMode,"keydown"),C="click",b="mousedown",n="change",i="select",y="cancel",h="display",I="none",r={cls:e,palette:"basic",basicPalette:{columns:10,tileSize:{width:16,height:16},tileBorderWidth:0,palette:["#FFFFFF","#FFCCCC","#FFCC99","#FFFF99","#FFFFCC","#99FF99","#99FFFF","#CCFFFF","#CCCCFF","#FFCCFF","#CCCCCC","#FF6666","#FF9966","#FFFF66","#FFFF33","#66FF99","#33FFFF","#66FFFF","#9999FF","#FF99FF","#BBBBBB","#FF0000","#FF9900","#FFCC66","#FFFF00","#33FF33","#66CCCC","#33CCFF","#6666CC","#CC66CC","#999999","#CC0000","#FF6600","#FFCC33","#FFCC00","#33CC00","#00CCCC","#3366FF","#6633FF","#CC33CC","#666666","#990000","#CC6600","#CC9933","#999900","#009900","#339999","#3333FF","#6600CC","#993399","#333333","#660000","#993300","#996633","#666600","#006600","#336666","#000099","#333399","#663366","#000000","#330000","#663300","#663333","#333300","#003300","#003333","#000066","#330099","#330033"]},advancedPalette:{type:"hex",buttons:!0,messages:{apply:"Apply",cancel:"Cancel"}},displayInline:!1,showLetter:!1,value:e,valueTemplate:function(e){return e?(e.hex?e:e.toRGB()).hex():null}},o=v.extend({init:function(e,t){v.fn.init.apply(this,arguments);var o=this,r=o.options,n=r.tooltip||s(o.element).attr("title")||"",l=r.cls,i=c.defined(r.value)?r.value:o._value();1<arguments.length&&(t=arguments[1]).basicPalette&&t.basicPalette.palette&&(r.basicPalette.palette=t.basicPalette.palette),o.element.css(h,I),o._enabled=!0,o.currentColor=new g({color:i}),r.displayInline?(o._buildPalette(),l&&o._picker.addClass(l)):(o._picker=i=s('<span class="sui-color-picker-dropdown" tabindex="0"><span class="sui-color-cell sui-unselectable" unselectable="on">&nbsp;</span><span class="sui-caret-container sui-unselectable" unselectable="on"><span class="sui-caret" unselectable="on"></span></span></span>').insertAfter(o.element),l&&o._picker.addClass(l),r.showLetter?(l=i.find(".sui-color-cell"),s('<span class="sui-tool-letter">A<span class="sui-selected-color"></span></span>').appendTo(l),i.find(".sui-selected-color").css("background-color",o.currentColor.color.cssa())):i.find(".sui-color-cell").css("background-color",o.currentColor.color.cssa()),i.on(C,o._pickerClicked=p(o._pickerClickedHandler,o)),s(u).on(b+".shieldColorPicker"+o.getInstanceId(),p(o._hidePopup,o))),o.currentColor.color.cssa?o._oldColor=o.currentColor.color.cssa():o._oldColor=o.currentColor.color.toRGB().cssa(),n&&c.string(n)&&o._picker.attr("title",n),o._changed()},hidePalette:function(){this._hidePopup({})},hide:function(){var e=this;e.options.displayInline?s(e.wrapperDiv).hide():(s(e._picker).hide(),e._hidePopup({}))},show:function(){var e=this;e.options.displayInline?s(e.wrapperDiv).hide():s(e._picker).show()},isVisible:function(){var e=this;return(e.options.displayInline?s(e.wrapperDiv):s(e._picker)).is(":visible")},_changed:function(){var e=this;e._value(l.format.call(e,e.options.valueTemplate,e.currentColor.color))},_value:function(){return this.element.attr.apply(this.element,["value"].concat([].slice.call(arguments)))},_buildPalette:function(){var e=this;"basic"==e.options.palette?e._buildBasicPalette():(e._buildAdvancedPalette(),e._changeAdvancedPaletteColor())},_changeAdvancedPaletteColor:function(){var e=this,t=e.currentColor.color.toHSV();e.wrapperDiv&&(e._hue=t.hue,e._isHsl?(t=e.currentColor.color.toHSL(),e._XY(e,{pointer:e.wrapperDiv.find(".sui-color-palette .pointer").get(0),x:t.hue,y:1-t.saturation}),e._Z(e,1-t.lightness,e.wrapperDiv.find(".sui-color-scale .pointer").get(0))):(e._XY(e,{pointer:e.wrapperDiv.find(".sui-color-palette .pointer").get(0),x:t.saturation,y:1-t.value}),e._Z(e,t.hue,e.wrapperDiv.find(".sui-color-scale .pointer").get(0))))},_pickerClickedHandler:function(){var e=this;e.wrapperDiv||e._buildPalette(),e._showPopup()},_showPopup:function(){var e,t,o=this,r=o._picker.offset(),n=r.top-s(u).scrollTop(),l=o._picker.height(),i=s(a).height();"advanced"===o.options.palette&&(o.currentColor.color.cssa?o._oldColor=o.currentColor.color.cssa():o._oldColor=o.currentColor.color.toRGB().cssa()),o.wrapperDiv&&o.wrapperDiv.css(h)!=I||(o._popupIsOver=!1,e=r.top+l+1,t=r.left,i<(i=o.wrapperDiv.height())+n+l?e=r.top-i-1:e++,(e<0||s(u).scrollTop()>e)&&(e=r.top+l+1),r.top>e?o._popupIsOver=!0:o._popupIsOver=!1,o.wrapperDiv||this._buildPalette(),o._popupIsOver?(o.wrapperDiv.css({position:"absolute",zIndex:10002,top:e+i,left:t,height:0,display:""}),o.wrapperDiv.animate({height:i,top:e},150)):(o.wrapperDiv.css({position:"absolute",zIndex:10002,top:e-1,left:t}),o.wrapperDiv.slideDown(150,function(){})))},_hidePopup:function(e){var t,o=this,r=o.options,e=s(e.target);"basic"!=r.palette&&(e.hasClass("sui-colorpicker")||0<e.parents(".sui-colorpicker").length)||o.wrapperDiv&&o.wrapperDiv.css(h)!=I&&("basic"===r.palette&&(e=0===(e=o._picker.find(".sui-tool-letter > .sui-selected-color")).length?o._picker.find(".sui-color-cell"):e).css("background-color",o.currentColor.color.css()),o._popupIsOver?(t=o.wrapperDiv.height(),o.wrapperDiv.animate({height:0,top:o._picker.offset().top},150,function(){s(this).css(h,I).css("height",t)})):o.wrapperDiv.slideUp(150,function(){}),e=(o.currentColor.color.cssa?o.currentColor.color:o.currentColor.color.toRGB()).cssa(),"basic"!=r.palette&&(r.advancedPalette.buttons?e!==o._oldColor?(o.currentColor=new g({color:o._oldColor}),setTimeout(function(){o._update(),o.trigger(y)},200)):o._changed():(o._changeSelectedColorCell(),o._changed(),o.trigger(n))))},_buildBasicPalette:function(){for(var e=this,t=e.options,o=t.basicPalette,r=o.palette,n=o.tileSize,l=s("<div class='sui-colorpicker sui-colorpicker-basic-palette'/>"),i=t.displayInline?l.insertAfter(e.element):l.appendTo(u.body).css(h,I),a=0;a<r.length;a++)s("<div class='sui-palette-tile'/>").css({backgroundColor:r[a],width:n.width,height:n.height,borderWidth:o.tileBorderWidth,margin:"0 "+o.tileBorderWidth+"px "+o.tileBorderWidth+"px 0"}).on(b,e._tileClicked=p(e._tileClickedHandler,e)).appendTo(i).addClass(e.currentColor.color.hex().toUpperCase()==r[a].toUpperCase()?"sui-palette-tile-selected":"");t=o.columns*f(n.width)+o.columns*o.tileBorderWidth,i.css("width",t+"px"),e.wrapperDiv=i},_tileClickedHandler:function(e){var t=this;t._enabled&&(t.wrapperDiv.find(".sui-palette-tile-selected").removeClass("sui-palette-tile-selected"),s(e.target).addClass("sui-palette-tile-selected"),e=s(e.target).css("background-color"),t.currentColor=new g({color:e}),t.trigger(i),t._changed())},_buildAdvancedPalette:function(){var e,t=this,o=t.options,r=o.displayInline?s("<div/>").insertAfter(t.element).addClass("sui-colorpicker"):s("<div/>").appendTo(u.body).addClass("sui-colorpicker").css(h,I),n=(t.wrapperDiv=r,n=s("<div class='sui-hex-wrapper'/>").appendTo(r),t.colorDiv=s("<div class='sui-color-div'/>").appendTo(n),"hsl"==o.advancedPalette.type?t.colorInput=s("<input class='sui-alpha-input'/>").appendTo(n):t.colorInput=s("<input class='sui-hex-input'/>").appendTo(n),t.colorInput.on(_,t._colorInputKeyDown=p(t._colorInputKeyDownHandler,t)),s("<div class='sui-color-palette'><div class='pointer'><div class='shape shape1'></div><div class='shape shape2'></div></div><div class='bg bg1'></div><div class='bg bg2'></div></div><div class='sui-color-scale'><div class='pointer'><div class='shape'></div></div><div class='bg'></div></div>").appendTo(r),new w({twod:r.find(".sui-color-palette").get(0),pointer:r.find(".sui-color-palette .pointer").get(0),oned:r.find(".sui-color-scale").get(0),isXYslider:!0,cbs:{begin:t._changeXY,change:t._changeXY,end:t._done}},t)),n=(t.xy=n,new w({twod:r.find(".sui-color-palette").get(0),pointer:r.find(".sui-color-scale .pointer").get(0),oned:r.find(".sui-color-scale").get(0),isXYslider:!1,cbs:{begin:t._changeZ,change:t._changeZ,end:t._done}},t));t.z=n,"rgb"==o.advancedPalette.type&&(n=s(e="<div class='extras'/>").appendTo(r),s("<span class='sui-r-text'>R:</span>").appendTo(n),t.rInput=s("<input class='sui-r-input'/>").appendTo(n),t._rInputKeyDown=p(t._rInputKeyDownHandler,t),s("<span class='sui-g-text'>G:</span>").appendTo(n),t.gInput=s("<input class='sui-g-input'/>").appendTo(n),t._gInputKeyDown=p(t._gInputKeyDownHandler,t),s("<span class='sui-b-text'>B:</span>").appendTo(n),t.bInput=s("<input class='sui-b-input'/>").appendTo(n),t._bInputKeyDown=p(t._bInputKeyDownHandler,t),l.ui.NumericTextBox&&(t.rInput=new l.ui.NumericTextBox(t.rInput,{min:0,max:255,step:.01,spinners:!1,cls:"rgbInputs",events:{change:t._rInputKeyDown}}),t.gInput=new l.ui.NumericTextBox(t.gInput,{min:0,max:255,step:.01,spinners:!1,cls:"rgbInputs",events:{change:t._gInputKeyDown}}),t.bInput=new l.ui.NumericTextBox(t.bInput,{min:0,max:255,step:.01,spinners:!1,cls:"rgbInputs",events:{change:t._bInputKeyDown}}))),"hsl"==o.advancedPalette.type&&(t._isHsl=!0,e="<div class='sui-transparent-slider'><div class='sui-color-scale alpha'><div class='pointer' style='top: 0%;'><div class='shape'></div></div><div class='bg'></div></div></div>",r.addClass("sui-hsl"),s(e).appendTo(r),n=new w({twod:r.find(".alpha").get(0),pointer:r.find(".alpha .pointer").get(0),oned:r.find(".alpha").get(0),isXYslider:!1,cbs:{begin:t._changeA,change:t._changeA,end:t._done}},t),t.a=n),o.advancedPalette.buttons&&t._buildButtons()},_buildButtons:function(){var e,t=this.options.advancedPalette.messages,o=s("<div class='sui-buttons-wrapper'/>").appendTo(this.wrapperDiv);l.ui.Button&&(e=s("<button type='button'>"+t.apply+"</button>").appendTo(o),e=new l.ui.Button(e,{cls:"sui-apply",events:{click:p(this._applyHandler,this)}}),this._applyButton=e,e=s("<button type='button'>"+t.cancel+"</button>").appendTo(o),t=new l.ui.Button(e,{cls:"sui-cancel",events:{click:p(this._cancelHandler,this)}}),this._cancelButton=t)},_applyHandler:function(e){var t=this;t.currentColor.color.cssa?t._oldColor=t.currentColor.color.cssa():t._oldColor=t.currentColor.color.toRGB().cssa(),t._changeSelectedColorCell(),t.options.displayInline||t._hidePopup(e),t._changed(),t.trigger(n)},_changeSelectedColorCell:function(){var e=this,t=e.options,o=e._picker,e=(e.currentColor.color.cssa?e.currentColor.color:e.currentColor.color.toRGB()).cssa();t.displayInline||(t.showLetter?o.find(".sui-selected-color"):o.find(".sui-color-cell")).css("background-color",e)},_cancelHandler:function(e){var t=this;t.options.displayInline?(t.currentColor=new g({color:t._oldColor}),setTimeout(function(){t._update(),t.trigger(y)},200)):t._hidePopup(e)},_update:function(){var e,t=this,o=t._shouldUpdateMainInput,r=t._shouldUpdateRgbInputs;t._isHsl?(e=t.currentColor.color.toHSL(),t._XY(t,{pointer:t.wrapperDiv.find(".sui-color-palette .pointer").get(0),x:e.hue,y:1-e.saturation}),t._shouldUpdateMainInput=o,t._Z(t,1-e.lightness,t.wrapperDiv.find(".sui-color-scale .pointer").get(0)),t.Y(t.wrapperDiv.find(".alpha .pointer").get(0),(1-e.alpha).toFixed(2))):(e=t.currentColor.color.toHSV(),t._XY(t,{pointer:t.wrapperDiv.find(".sui-color-palette .pointer").get(0),x:e.saturation,y:1-e.value}),t._shouldUpdateMainInput=o,t._shouldUpdateRgbInputs=r,t._Z(t,e.hue,t.wrapperDiv.find(".sui-color-scale .pointer").get(0)))},_rInputKeyDownHandler:function(t){var o=this;setTimeout(function(){var e=t.value;o.currentColor.color.red=parseFloat(e)/255,o._shouldUpdateRgbInputs=!1,o._update(),o.trigger(i)},1)},_gInputKeyDownHandler:function(t){var o=this;setTimeout(function(){var e=t.value;o.currentColor.color.green=parseFloat(e)/255,o._shouldUpdateRgbInputs=!1,o._update(),o.trigger(i)},1)},_bInputKeyDownHandler:function(t){var o=this;setTimeout(function(){var e=t.value;o.currentColor.color.blue=parseFloat(e)/255,o._shouldUpdateRgbInputs=!1,o._update(),o.trigger(i)},1)},_colorInputKeyDownHandler:function(o){var r=this;o.ctrlKey||setTimeout(function(){var e=o.currentTarget.value,t=r.currentColor;r.currentColor=new g({color:e}),c.object(r.currentColor.color)?(r._shouldUpdateRgbInputs=!0,r._shouldUpdateMainInput=!1,r._update()):r.currentColor=t,r.trigger(i)},1)},_changeA:function(e,t){e.colorPicker._enabled&&(e.colorPicker.colorInput.val("rgba(0,0,0,1)"),e.colorPicker._A(e.colorPicker,e.colorPicker.clamp(t.y,0,1),e.colorPicker.a.pointer))},_changeZ:function(e,t){e.colorPicker._enabled&&(e.colorPicker._isHsl?e.colorPicker.colorInput.val("rgba(0,0,0,1)"):e.colorPicker.colorInput.val("#000000"),e.colorPicker._Z(e.colorPicker,e.colorPicker.clamp(t.y,0,1),e.colorPicker.z.pointer),e.colorPicker.trigger(i))},_changeXY:function(e,t){e.colorPicker._enabled&&(e.colorPicker._isHsl?e.colorPicker.colorInput.val("rgba(0,0,0,1)"):e.colorPicker.colorInput.val("#000000"),e.colorPicker._XY(e.colorPicker,{x:e.colorPicker.clamp(t.x,0,1),y:e.colorPicker.clamp(t.y,0,1),pointer:t.pointer},e.colorPicker.xy),e.colorPicker.X(t.pointer,t.x),e.colorPicker.Y(t.pointer,t.y),e.colorPicker.trigger(i))},_XY:function(e,t){var o,r,n=this;e._enabled&&(e.X(t.pointer,t.x),e.Y(t.pointer,t.y),n._isHsl?((o=e.currentColor.color.toHSL?e.currentColor.color.toHSL():e.currentColor.color).hue=t.x,o.saturation=1-t.y,r=o.lightness,o.lightness=.5,n.wrapperDiv.find(".sui-color-scale").css("background-color",o.toRGB().cssa()),o.lightness=r):(o=e.currentColor.color.toHSV(),1<t.x&&(t.x=1),t.x<0&&(t.x=0),t.y<0&&(t.y=0),1<t.y&&(t.y=1),o.saturation=t.x,o.value=1-t.y,0===o.hue&&(o.hue=n._hue)),r=o.toRGB(),(t=e.colorInput.val())!=r.hex()&&(n._shouldUpdateMainInput?(4<t.length||0===t.length)&&(n._isHsl?e.colorInput.val(r.cssa()):e.colorInput.val(r.hex())):n._shouldUpdateMainInput=!0),e.rInput&&(n._shouldUpdateRgbInputs?(e.rInput.value((255*r.red).toFixed(2)),e.gInput.value((255*r.green).toFixed(2)),e.bInput.value((255*r.blue).toFixed(2))):n._shouldUpdateRgbInputs=!0),e.colorDiv.get(0).style.background=r.cssa(),e.currentColor.color=r)},_Z:function(e,t,o){var r,n=this,l=e.colorInput.val();n._isHsl?(r=e.currentColor.color.toHSL?e.currentColor.color.toHSL():e.currentColor.color,e.Y(o,t),r.lightness=1-t,e.colorDiv.get(0).style.background=r.toRGB().cssa(),l!=(e.currentColor.color=r).toRGB().hex()&&(n._shouldUpdateMainInput?(4<l.length||0===l.length)&&(n._isHsl?e.colorInput.val(r.toRGB().cssa()):e.colorInput.val(r.toRGB().hex())):n._shouldUpdateMainInput=!0)):(r=e.currentColor.color.toHSV(),e.Y(o,t),e._rgbBg(e,e.wrapperDiv.find(".sui-color-palette").get(0),t),n._hue=r.hue=t,l!=(o=r.toRGB()).hex()&&(4<l.length||0===l.length)&&(n._isHsl?e.colorInput.val(o.cssa()):e.colorInput.val(o.hex())),e.rInput&&(n._shouldUpdateRgbInputs?(e.rInput.value((255*o.red).toFixed(2)),e.gInput.value((255*o.green).toFixed(2)),e.bInput.value((255*o.blue).toFixed(2))):n._shouldUpdateRgbInputs=!0),e.colorDiv.get(0).style.background=o.cssa(),e.currentColor.color=o)},_A:function(e,t,o){var r=e.colorInput.val(),n=e.currentColor.color.toHSL?e.currentColor.color.toHSL():e.currentColor.color;e.Y(o,t),n.alpha=(1-t).toFixed(2),e.colorDiv.get(0).style.background=n.toRGB().cssa(),r!=(e.currentColor.color=n).toRGB().hex()&&(this._shouldUpdateMainInput?(4<r.length||0===r.length)&&(e.colorInput.val(n.toRGB().cssa()),this.trigger(i)):this._shouldUpdateMainInput=!0)},_rgbBg:function(e,t,o){o=new g({}).HSV(o,1,1).toRGB().cssa();e.BG(t,o)},clamp:function(e,t,o){return Math.min(Math.max(e,t),o)},X:function(e,t){e.style.left=this.clamp(100*t,0,100)+"%"},Y:function(e,t){e.style.top=this.clamp(100*t,0,100)+"%"},BG:function(e,t){e.style.background=t},_done:function(){},enabled:function(){var e=this,t=(e.options,[].slice.call(arguments));if(!(0<t.length))return e._enabled;(t=t[0])?(e._picker&&e._picker.removeClass("sui-colorpicker-disabled"),e.wrapperDiv&&e.wrapperDiv.removeClass("sui-colorpicker-disabled")):(e._picker&&e._picker.addClass("sui-colorpicker-disabled"),e.wrapperDiv&&e.wrapperDiv.addClass("sui-colorpicker-disabled")),e._applyButton&&e._applyButton.enabled(t),e._cancelButton&&e._cancelButton.enabled(t),t?(e.colorInput&&e.colorInput.removeAttr("readonly"),e.rInput&&(e.rInput.enable(!0),e.gInput.enable(!0),e.bInput.enable(!0))):(e.colorInput&&e.colorInput.attr("readonly","readonly"),e.rInput&&(e.rInput.enable(!1),e.gInput.enable(!1),e.bInput.enable(!1))),e._enabled=t},value:function(){var e,t=this,o=t.options,r=[].slice.call(arguments);if(!(0<r.length))return e=(e=t.currentColor.color).css?e:e.toRGB();if(e=r[0],t.currentColor=new g({color:e}),"basic"==o.palette){var n=t.currentColor.color.css();if(t.wrapperDiv)for(var l=t.wrapperDiv.find(".sui-palette-tile"),i=0;i<l.length;i++)l[i].style.backgroundColor.replace(/\s+/g,"")===n.replace(/\s+/g,"")&&(l.removeClass("sui-palette-tile-selected"),s(l[i]).addClass("sui-palette-tile-selected"))}else t._changeAdvancedPaletteColor();o.displayInline||(o.showLetter?(t._picker.find(".sui-color-cell"),t._picker.find(".sui-selected-color").css("background-color",t.currentColor.color.cssa())):t._picker.find(".sui-color-cell").css("background-color",t.currentColor.color.cssa())),t._changed()},destroy:function(){var e=this;e.element.show(),e.wrapperDiv.remove(),e.colorInput&&e.colorInput.off(_,e._colorInputKeyDown),e.rInput&&(e.rInput.destroy(),e.gInput.destroy(),e.bInput.destroy()),e.options.displayInline&&"basic"==e.options.palette&&(e.wrapperDiv.find(".sui-palette-tile").off(C,e._tileClicked),e.wrapperDiv.remove()),e._applyButton&&e._applyButton.destroy(),e._cancelButton&&e._cancelButton.destroy(),s(u).off(b+".shieldColorPicker"+e.getInstanceId()),e._tileClicked=e._rInputKeyDown=e._gInputKeyDown=e._bInputKeyDown=e._hidePopupDelegate=e._picker=e._applyButton=e._cancelButton=e._isHsl=e.currentColor=e.wrapperDiv=e.colorInput=e.colorDiv=e.rInput=e.gInput=e._enabled=e._popupIsOver=e.bInput=null,v.fn.destroy.call(e)}}),w=t.extend({init:function(e,t){var o=this,r=e.isXYslider,n=e.cbs,l=e.twod,i=e.pointer,e=e.oned;return o.colorPicker=t,r?(o.drag(l,o.attachPointer(o,n,i)),{background:l,pointer:i}):(o.drag(e,o.attachPointer(o,n,i)),{background:e,pointer:i})},drag:function(e,t){e?this.isTouch()?this.dragTemplate(e,t,"touchstart","touchmove","touchend"):this.dragTemplate(e,t,"mousedown","mousemove","mouseup"):console.warn("drag is missing elem!")},attachPointer:function(e,t,r){var o,n={};for(o in t)t.hasOwnProperty(o)&&(n[o]=function(o){return function(e,t){t.pointer=r,o(e,t)}}(t[o]));return n},isTouch:function(){return void 0!==a.ontouchstart},dragTemplate:function(r,e,t,n,l){var i=this,a=(e=i.getCbs(e)).begin,s=e.change,c=e.end;i.on(r,t,function(t){0;var o=i.partial(i,i.callCb,s,r);i.on(u,n,o),i.on(u,l,function e(){i.off(u,n,o),i.off(u,l,e),i.callCb(c,r,t)}),i.callCb(a,r,t)})},on:function(e,t,o){e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent&&e.attachEvent("on"+t,o)},off:function(e,t,o){e.removeEventListener?e.removeEventListener(t,o,!1):e.detachEvent&&e.detachEvent("on"+t,o)},getCbs:function(e){return e?{begin:e.begin||function(){},change:e.change||function(){},end:e.end||function(){}}:{begin:function(e){t={x:e.elem.offsetLeft,y:e.elem.offsetTop},o=e.cursor},change:function(e){e.elem.style.left=t.x+e.cursor.x-o.x+"px",e.elem.style.top=t.y+e.cursor.y-o.y+"px"},end:function(){}};var t,o},callCb:function(e,t,o){o.preventDefault();var r=s(t).offset(),n=t.clientWidth,l=t.clientHeight,i={x:this.cursorX(t,o),y:this.cursorY(t,o)},n=(i.x-r.left)/n,r=(i.y-r.top)/l;e(this,{x:isNaN(n)?0:n,y:isNaN(r)?0:r,cursor:i,elem:t,e:o})},partial:function(e,t){var o=Array.prototype.slice,r=o.apply(arguments,[2]),n=this;return function(){return t.apply(n,r.concat(o.apply(arguments)))}},cursorX:function(e,t){return this.isFixed(e)?(e=parseInt(this.getStyle(u.body,"marginLeft"),10)-this.calc(e,"scrollLeft")+a.pageXOffset+e.style.marginLeft,t.clientX-e):t.pageX||(t.clientX?t.clientX+u.body.scrollLeft:void 0)},cursorY:function(e,t){return this.isFixed(e)?(e=parseInt(this.getStyle(u.body,"marginTop"),10)-this.calc(e,"scrollTop")+a.pageYOffset+e.style.marginTop,t.clientY-e):t.pageY||(t.clientY?t.clientY+u.body.scrollTop:void 0)},calc:function(e,t){for(var o=0;"HTML"!=e.nodeName;)o+=e[t],e=e.parentNode;return o},isFixed:function(e){for(;"HTML"!=e.nodeName&&"fixed"!=this.usedStyle(e,"position");)e=e.parentNode;return"HTML"!=e.nodeName},getStyle:function(e,t){return(e.currentStyle||(u.defaultView&&u.defaultView.getComputedStyle?u.defaultView.getComputedStyle(e,""):e.style))[t]},usedStyle:function(e,t){e=a.getComputedStyle?a.getComputedStyle(e,null):e.currentStyle;return e[t]}}),g=t.extend({init:function(e){var t,o,r=this,e=e.color;d(e)||null===e||""===(o=e,c.string(o)?o.replace(/^\s+/,"").replace(/\s+$/,""):o)?r.color=r.getColor("#000"):c.integer(e)?r.color=r.getColor("rgb("+(t=[(16711680&(o=e+0))>>16,(65280&o)>>8,255&o])[2]+","+t[1]+","+t[0]+")"):r.color=r.getColor(e)},getColor:function(e){var t,o,r,n,l,i=/\s*(\.\d+|\d+(?:\.\d+)?)(%)?\s*/,i=new RegExp("^(rgb|hsl|hsv)a?\\("+i.source+","+i.source+","+i.source+"(?:,"+/\s*(\.\d+|\d+(?:\.\d+)?)\s*/.source+")?\\)$","i");return(i=(e="transparent"===e.toLowerCase()?"rgba(0,0,0,0)":e).match(i))?(t=i[1].toUpperCase(),o=d(i[8])?i[8]:parseFloat(i[8]),l="H"===t[0],r=i[3]?100:l?360:255,n=i[5]||l?100:255,l=i[7]||l?100:255,this[t](parseFloat(i[2])/r,parseFloat(i[4])/n,parseFloat(i[6])/l,o)):(t=(e=e.length<6?e.replace(/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i,"$1$1$2$2$3$3"):e).match(/^#?([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])$/i))?this.RGB(parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255):e},RGB:function(e,t,o,s){var c=this;return{red:e,green:t,blue:o,alpha:d(s)?1:s,hex:function(){var e=(65536*Math.round(255*this.red)+256*Math.round(255*this.green)+Math.round(255*this.blue)).toString(16);return"#"+"00000".substr(0,6-e.length)+e},hexa:function(){var e=Math.round(255*this.alpha).toString(16);return"#"+"00".substr(0,2-e.length)+e+this.hex().substr(1,6)},css:function(){return"rgb("+Math.round(255*this.red)+","+Math.round(255*this.green)+","+Math.round(255*this.blue)+")"},cssa:function(){return"rgba("+Math.round(255*this.red)+","+Math.round(255*this.green)+","+Math.round(255*this.blue)+","+this.alpha+")"},toHSV:function(){var e,t=this.red,o=this.green,r=this.blue,n=Math.max(t,o,r),l=n-Math.min(t,o,r),i=0===n?0:l/n,a=n;if(0==l)e=0;else switch(n){case t:e=(o-r)/l/6+(o<r?1:0);break;case o:e=(r-t)/l/6+1/3;break;case r:e=(t-o)/l/6+2/3}return c.HSV(e,i,a,s)},toHSL:function(){var e=this.toHSV();return c.HSV(e.hue,e.saturation,e.value,e.alpha).toHSL()},toCMYK:function(){var e=this.red,t=this.green,o=this.blue,r=1-e,n=1-t,l=1-o,i=1;return e||t||o?(r=(r-(i=Math.min(r,Math.min(n,l))))/(1-i),n=(n-i)/(1-i),l=(l-i)/(1-i)):i=1,c.CMYK(r,n,l,i,s)}}},HSV:function(e,t,o,u){var p=this;return{hue:e,saturation:t,value:o,alpha:d(u)?1:u,toRGB:function(){var e,t,o,r=this.hue,n=this.saturation,l=this.value,i=Math.min(5,Math.floor(6*r)),r=6*r-i,a=l*(1-n),s=l*(1-r*n),c=l*(1-(1-r)*n);switch(i){case 0:e=l,t=c,o=a;break;case 1:e=s,t=l,o=a;break;case 2:e=a,t=l,o=c;break;case 3:e=a,t=s,o=l;break;case 4:e=c,t=a,o=l;break;case 5:e=l,t=a,o=s}return p.RGB(e,t,o,u)},toHSL:function(){var e=(2-this.saturation)*this.value,t=this.saturation*this.value,o=e<=1?e:2-e,t=o<1e-9?0:t/o;return p.HSL(this.hue,t,e/2,this.alpha)}}},HSL:function(e,t,o,r){var n=this;return{hue:e,saturation:t,lightness:o,alpha:d(r)?1:r,toHSV:function(){var e=2*this.lightness,t=this.saturation*(e<=1?e:2-e),o=e+t<1e-9?0:2*t/(e+t);return n.HSV(this.hue,o,(e+t)/2,this.alpha)},toRGB:function(){return this.toHSV().toRGB()}}},CMYK:function(e,t,o,r,n){var l=this;return{cyan:e,magenta:t,yellow:o,black:r,alpha:d(n)?1:n,toRGB:function(){return l.RGB(1-this.cyan*(1-this.black)-this.black,1-this.magenta*(1-this.black)-this.black,1-this.yellow*(1-this.black)-this.black,this.alpha)}}},destroy:function(){this.color=null}});o.defaults=r,l.ui.plugin("ColorPicker",o),l.ui.ColorPicker=o}(jQuery,shield,this);
!function(x,_,s,C){var e=_.ui.Widget,a=_.Class,k=_.DataSource,I=_.format,g=_.support,B=_.exp,N=_.get,r=_.iid,h=(_.strid,_.Constants.KeyCode),n=_.is,R=n.func,E=n.string,o=n.object,l=n.boolean,T=n.defined,t=n.number,w=n[void 0],W=n.null,f=_.to.int,m=document,d=Math.abs,P=Math.min,z=Math.max,c=x.each,v=x.proxy,y=x.extend,F=x.map,u=x.grep,p=x.inArray,i=navigator.userAgent,H=s.opera,D=/msie/i.test(i)&&!H,A=D&&7===m.documentMode,V=D&&8===m.documentMode,G=(D&&m.documentMode,m.documentMode,/AppleWebKit/.test(i)),M=(/Firefox/.test(i),"role"),q="aria-sort",O="aria-readonly",L="tabindex",U="true",X="height",b="sui-selected",S="command",j="selectionChanged",Y="dataBound",K="virtualRowsLoaded",Q="keydown",$="mousedown",J="mousemove",Z="mouseup",ee="click",te="detailCreated",ie="columnReorder",ne="columnResize",re="groupsReorder",oe="ungroup",le="editorCreating",ae="filterWidgetCreating",se="cancel",de="edit",ce="save",ue="error",pe="collapse",he="display",fe="none",ge="@@custom",_e="row",me="sui-viewindex",ve="sui-fieldname";function be(e){var t,i=" ";if(e){if(E(e))return e;for(t in e)e.hasOwnProperty(t)&&(i+=t+'="'+e[t]+'"')}return i}function Ce(e,t){e=x(e).attr(t);return T(e)&&!1!==e}function xe(){for(var e,t,i,n=[].slice.call(arguments),r=n.shift(),o=0;o<n.length&&!(e=x(r.target).closest(".sui-cell",n[o])).length;o++);return e.length?(t=e[0].parentNode,i=e[0],null==t||null==i?null:{row:t,cell:i}):null}function Te(e){return e&&(x(e.row).hasClass(b)||x(e.cell).hasClass(b))}function we(e,t){return 0<x(e.target).closest(".sui-cell",t).length}function ye(e){e=x(e).find('.sui-checkbox:not(.sui-checkbox-disabled), .sui-radiobutton:not(.sui-radiobutton-disabled), .sui-input:not(.sui-input-disabled), .sui-combobox:not(.sui-combobox-disabled), .sui-dropdown:not(.sui-dropdown-disabled), .sui-listbox:not(.sui-listbox-disabled), .sui-switch:not(.sui-switch-disabled), a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex]:not([tabindex="-1"]), *[contenteditable]').filter(":visible").first();0<x(e).length&&x(e).focus()}var H={columns:[],rowHover:!0,scrolling:!1,paging:!1,columnReorder:!1,showHeader:!0,grouping:{showGroupHeader:!1,allowDragToGroup:!1,message:"Drag a column header here to group by a column"}},Se=a.extend({init:function(e,t){var i,n,r,o;for(this._grid=t,o=0;o<e.length;o++)r=(i=e[o]).position||"top",n=x('<div class="sui-toolbar"/>'),"top"===r?0<(r=t.element.find(".sui-toolbar")).length?x(r[0]).after(n):t.element.prepend(n):(n.addClass("sui-toolbar-bottom"),n.appendTo(t.element)),i.template?this._initializeTemplate(i,n):0<i.buttons.length&&this._buildButtons(n,i)},_buildButtons:function(e,t){for(var i=t.buttons,n=0;n<i.length;n++)this._buildButton(i[n],e)},_buildButton:function(e,t){var i=this,n=e.commandName,r=e.click;_.ui.Button&&(t=x('<button type="button">'+e.caption+"</button>").appendTo(t),"insert"==n?r=i._insertButtonClicked:"save"==n?r=i._saveButtonClicked:"cancel"==n?r=i._cancelButtonClicked:"excel"==n?r=i._excelButtonClicked:"pdf"==n?r=i._pdfButtonClicked:"csv"==n&&(r=i._csvButtonClicked),new _.ui.Button(t,{cls:e.cls,events:{click:v(r,i._grid)}}))},_excelButtonClicked:function(){this._doExcelExport()},_pdfButtonClicked:function(){this._doPdfExport()},_csvButtonClicked:function(){this._doCsvExport()},_insertButtonClicked:function(e,t){var i,n,r,o=this,l=o.options,a=l.editing.insertNewRowAt,s=o.dataSource,d=!1;if(t||!o.trigger(S,{commandName:"insert",cancel:!1}).cancel){if(s.sort&&0<s.sort.length)return s.sort=[],o._sortingInProgress=!0,o.pager&&(s.skip=0,s.take=o.pager.pageSize(),o.pager.refresh(!0)),void s.read().always(v(o._toolbar._insertButtonClicked,o,e,!0));for(r in o._editingInProcess=!0,"pagebottom"===a?(n=z(0,o.contentTable.find(">tbody > tr").length-1),l.paging&&(!o.pager||o.pager.hasNext())||(n+=1,d=!0)):n=0,(i=d?s.add({}):s.insertView(n,{})).fields)i.fields.hasOwnProperty(r)&&(i.data[r]=null);o._editing._insertedItems.push(i),t=o.contentTable.find(">tbody > tr").eq(n),"popup"!=o.options.editing.mode?o._editing._putRowInEditMode(t,0):o._initializePopupForm(0,!0),o.trigger("insert")}},_saveButtonClicked:function(e){var t=this,i=t.contentTable.find(">tbody > tr > .sui-editable-cell");0<i.length&&(i=i.get(0).parentNode.rowIndex,t._updateItem(i,null),t._errorDuringEdit)?t._errorDuringEdit=!1:t.trigger(S,{commandName:ce,cancel:!1}).cancel||(t.dataSource.save(),t.trigger(ce))},_cancelButtonClicked:function(e){this.trigger(S,{commandName:se,cancel:!1}).cancel||(this.dataSource.cancel(),this.trigger(se))},_initializeTemplate:function(e,t){var i,e=e.template;R(e)?(i=e.call(this._grid,t),T(i)&&!W(i)&&""!==i&&t.html(i)):t.html(e)},destroy:function(){}}),ke=a.extend({init:function(e,t){var i=this;i._grid=t,i.options=e,i._eventNS=".shieldGridEditing"+r(),i._editors={},i._insertedItems=[],e.enabled&&i._initEditing(),i._grid.dataSource.on(ue+i._eventNS,v(i._dsError,i))},_dsError:function(e){var t=this._editors[e.path];this._grid.trigger(ue,{type:e.type,path:e.path,value:e.value,editor:t,reason:e.reason}),this._errorDuringEdit=!0},_initEditing:function(){var e=this,t=e.options.event,i=e._eventNS;w(t)||(t===ee?e._grid.element.on(ee+i,".sui-cell",v(e._editingTriggered,e)):"doubleclick"===t&&e._grid.element.on("dblclick"+i,".sui-cell",v(e._editingTriggered,e)),x(m).on(ee+i,v(e._documentClicked,e)))},_editingTriggered:function(c){var u,e,t=this,i=t._grid,n=c.target,r=x(n).parent(),o=r.get(0).rowIndex,p=i._getRowIndex(r),l=t.options,h=l.mode,a=l.type,s=i.dataSource,d=l.batch,f=!1;if(!i.trigger(S,{commandName:de,cancel:!1,row:r,cell:n,index:p}).cancel){if(d){if(0<(u=i.contentTable.find(">tbody > tr > .sui-editable-cell")).length){if(o=u.get(0).parentNode.rowIndex,"TR"!==r.get(0).nodeName.toUpperCase()||r.get(0).rowIndex==o&&a==_e)return;d=i._updateItem(o,n);if(t._errorDuringEdit)return t._errorDuringEdit=!1,void(d=null);e=r.get(0).rowIndex,i._putRowInViewMode(o,null),!i._populateInsertedItem&&d&&0<d.length&&i._renderUpdateMarkers(d,o),i._populateInsertedItem=!1,e===o&&(n=i.contentTable.find(">tbody > tr").eq(o).get(0).cells[n.cellIndex]),o=e}w(a)||"cell"===a?(t._putCellInEditMode(n),f=!0):a===_e?(t._putRowInEditMode(r,n.cellIndex),f=!0):_.error("Invalid editing.type declaration. The editing.type must be 'row' or 'cell'.",l.dieOnError)}else if(s.tracker&&s.tracker.changes&&s.tracker.changes.added&&0<s.tracker.changes.added.length)"TR"!==r.get(0).nodeName.toUpperCase()||r.get(0).rowIndex==o&&a==_e||s.cancel();else if(w(h)||"inline"===h){if(0<(u=i.contentTable.find(">tbody > tr > .sui-editable-cell")).length){if(o=u.get(0).parentNode.rowIndex,"TR"!==r.get(0).nodeName.toUpperCase()||r.get(0).rowIndex==o&&a==_e)return;if(i._updateItem(o,n),t._errorDuringEdit)return void(t._errorDuringEdit=!1);e=r.get(0).rowIndex,i._closeAllEditedRows(),e===o&&(n=i.contentTable.find(">tbody > tr").eq(o).get(0).cells[n.cellIndex]),o=e}w(a)||"cell"==a?(t._putCellInEditMode(n),f=!0):a==_e?(t._putRowInEditMode(r,n.cellIndex),f=!0):_.error("Invalid editing.type declaration. The editing.type must be 'row' or 'cell'.",l.dieOnError)}f&&(c.preventDefault(),c.stopPropagation(),i.trigger(de,{row:r,cell:n,index:p}))}},_documentClicked:function(e){var t,i=this,n=i.options,r=n.batch,n=(n.type,n.event),o=x(e.target);i._grid._editingInProcess||i._grid._preventClosingEditors?i._grid._editingInProcess=!1:(!o.hasClass("sui-cell")&&!o.parents().hasClass("sui-cell")&&!o.parents().hasClass("sui-calendar")&&!o.parents().hasClass("sui-listbox")||"doubleclick"===n&&e.type===ee&&o.closest(".sui-editable-cell").length<=0)&&0<(t=i._grid.contentTable.find(">tbody > tr > .sui-editable-cell")).length&&(n=t.get(0).parentNode.rowIndex,e=i._grid._updateItem(n,null),i._errorDuringEdit?i._errorDuringEdit=!1:(i._grid._putRowInViewMode(n,null),r&&!i._grid._populateInsertedItem&&e&&0<e.length&&i._grid._renderUpdateMarkers(e,n),i._grid._populateInsertedItem=!1))},_getColumnIndex:function(e){return e.cellIndex-x(e.parentNode).find(".sui-indent-cell, .sui-expand-cell, .sui-expand-cell-disabled, .sui-collapse-cell").length},_putCellInEditMode:function(e){var t,i=this,n=i._getColumnIndex(e),r=i._grid,o=r.dataSource,l=r._getRowIndex(x(e).parent()),r=r.columns[n],a=!1;if(r&&r.field&&!1!==r.editable)if(t=o.editView(l).data,1<arguments.length&&arguments[1]!=n||(a=!0),r.editor)i._instantiateCustomEditor(r,e,t,l,a);else{var n=T(o.schema.options.fields)?o.schema.options.fields[r.field].type:String,s=N(t,r.field);switch(n){case Number:i._instantiateNumeric(e,s,a);break;case Date:i._instantiateDatePicker(e,s,a);break;case String:i._instantiateTextBox(e,s,a);break;case Boolean:i._instantiateCheckBox(e,s,a)}}},_prepareCell:function(e){x(e).empty().addClass("sui-editable-cell")},_instantiateCustomEditor:function(e,t,i,n,r,o){var l,a=this;o?l=o:(o=a._getColumnIndex(t),l=a._grid.columns[o].field,a._prepareCell(t)),o=e.editor.call(a._grid,t,i,n,r),x(t).html(o),a._editors[l]="custom"},_instantiateNumeric:function(e,t,i,n){var r,o=this,e=(n?r=n:(n=o._getColumnIndex(e),r=o._grid.columns[n].field,o._prepareCell(e)),(n=x('<input name="'+r+'"/>')).appendTo(e),o._grid.trigger(le,{field:r,options:{}})),e=y({},e.options,{value:t});_.ui.NumericTextBox&&(t=new _.ui.NumericTextBox(n,e),i&&t.focus(),o._editors[r]=t)},_instantiateDatePicker:function(e,t,i,n){var r,o=this,e=(n?r=n:(n=o._getColumnIndex(e),r=o._grid.columns[n].field,o._prepareCell(e)),(n=x('<input name="'+r+'"/>')).appendTo(e),o._grid.trigger(le,{field:r,options:{}})),e=y({},e.options,{value:t});_.ui.DatePicker&&(t=new _.ui.DatePicker(n,e),i&&t.focus(),o._editors[r]=t)},_instantiateTextBox:function(e,t,i,n){var r,o=this,e=(n?r=n:(n=o._getColumnIndex(e),r=o._grid.columns[n].field,o._prepareCell(e)),(n=x('<input type="text" name="'+r+'"/>')).appendTo(e),o._grid.trigger(le,{field:r,options:{}})),e=y({},e.options,{value:t,cls:"sui-input-textbox"});_.ui.TextBox&&(t=new _.ui.TextBox(n,e),i&&t.focus(),o._editors[r]=t)},_instantiateCheckBox:function(e,t,i,n){var r,o=this,e=(n?r=n:(n=o._getColumnIndex(e),r=o._grid.columns[n].field,o._prepareCell(e)),(n=x('<input type="checkbox" name="'+r+'"/>')).appendTo(e),o._grid.trigger(le,{field:r,options:{}})),e=y({},e.options,{value:t});_.ui.CheckBox&&(n=new _.ui.CheckBox(n,e),i&&n.focus(),n.checked(t),o._editors[r]=n)},_putRowInEditMode:function(e,t){for(var i=e.find(".sui-cell"),n=0;n<i.length;n++)this._putCellInEditMode(i[n],t-e.find(".sui-indent-cell, .sui-expand-cell, .sui-expand-cell-disabled, .sui-collapse-cell").length);0<e.find(".sui-edit").length&&this._grid._changeEditColumnButtons(e.get(0).rowIndex,x(e.children(".sui-button-cell")[0]))},_destroyRow:function(e){for(var t,i=this._grid,e=i.contentTable.find(">tbody > tr").eq(e),n=i.columns,r=0;r<n.length;r++)(t=this._editors[n[r].field])&&(R(t.destroy)&&this._editors[n[r].field].destroy(),delete this._editors[n[r].field]);e.remove()},destroy:function(){var e,t,i=this,n=i._eventNS;if(i._grid.dataSource.off(ue+n),i._grid.element.off(n,".sui-cell"),x(m).off(ee+n),i._editors)for(e=0;e<i._editors.length;e++)t=i._editors[e].editor.element(),i._editors[e].editor.destroy(),t.remove();i._errorDuringEdit=i.options=null}}),Ie=a.extend({init:function(e){var t=this;E(e)?(t.field=e,t.title=t.field,t.groupTitle=t.title,t.groupHeaderTitle=t.title,t.resizable=!0,t.sortable=!0,t.filterable=!0,t.editable=!0,t.visible=!0,t.locked=!1):o(e)&&(t.field=e.field,t.title=e.title,t.groupTitle=T(e.groupTitle)?e.groupTitle:t.title,t.groupHeaderTitle=T(e.groupHeaderTitle)?e.groupHeaderTitle:t.title,t.format=e.format,t.width=e.width,t.minWidth=e.minWidth,t.maxWidth=e.maxWidth,t.resizable=!T(e.resizable)||!!e.resizable,t.attributes=e.attributes,t.headerAttributes=e.headerAttributes,t.headerTemplate=e.headerTemplate,t.columnTemplate=e.columnTemplate,t.footerTemplate=e.footerTemplate,t.groupFooterTemplate=e.groupFooterTemplate,t.buttons=e.buttons,t.editor=e.editor,t.customFilter=e.customFilter,t.sortable=!T(e.sortable)||!!e.sortable,t.filterable=!T(e.filterable)||!!e.filterable,t.editable=!T(e.editable)||!!e.editable,t.visible=!T(e.visible)||!!e.visible,t.locked=!!t.visible&&!!e.locked)},destroy:function(){var e=this;e.field=e.buttons=e.title=e.editor=e.editable=e.format=e.width=e.minWidth=e.maxWidth=e.resizable=e.attributes=e.headerAttributes=e.headerTemplate=e.buttons=e.customFilter=e.footerTemplate=e.groupFooterTemplate=e.sortable=e.filterable=e.visible=e.locked=e.columnTemplate=null}}),Be=a.extend({options:{ns:".shieldGridColumnResizing",width:12,offset:6,min:12},init:function(e){var t=this;t.grid=e,t.options=y(!0,{},Be.fn.options),t._eventNS=t.options.ns+r(),e.headerTable.on(J+t._eventNS,".sui-headercell",v(t._showHandle,t))},_showHandle:function(e){var t,i,n,r,o;this.resizing||(i=(t=this).options,t.grid,n=t.handle,o=(r=e.pageX)>=(e=t.params=t._params(x(e.currentTarget))).offset.left&&r<=e.offset.left+i.offset&&0<e.headerIndex,(e=(o=e.isRtl?r>=e.offset.left+e.width-i.offset&&r<=e.offset.left+e.width&&0<e.headerIndex:o)?t.params=t._params(e.header.prev()):e).column&&e.column.resizable&&!e.column.locked&&(r>=e.threshold&&r<=e.edge+i.offset?(n=n||(t.handle=x('<div class="sui-resizable-handle"/>').on($+t._eventNS,v(t._down,t)).appendTo(e.header.parents(".sui-headercontent")))).css({top:e.position.top,left:n.parent()[0].scrollLeft+e.handleLeft,width:i.width,height:e.height}).show():n&&n.hide()))},_params:function(e){var t=this.options,i=e.offset(),n=e.position(),r=g.isRtl(this.grid.element),o=e.outerWidth(),l=i.left+(r?t.width:o),a=e.index(),s=this.grid._getColumnByField(e.attr("data-field")),d=s?0<=s.minWidth?+s.minWidth:t.min:null;return{header:e,headerIndex:a,column:s,min:d,max:s&&s.maxWidth>=d?+s.maxWidth:null,offset:i,isRtl:r,width:o,current:o,height:e.outerHeight(),edge:l,threshold:l-t.width+(r?-1:1)*t.offset,position:n,handleLeft:n.left+(r?t.width:o)-t.width+(r?-1:1)*t.offset}},_down:function(e){var t,i=this,n=i.grid,r=i.params;if(!(1<e.button)&&r)return t="> colgroup col:nth-child("+(r.headerIndex+1)+")",r.origin=e.pageX,r.cols=x().add(n.headerTable.find(t)).add(n.contentTable.find(t)),i.resizing=!0,i._cancelled=null,i.handle.hide(),x(m).on(J+i._eventNS,v(i._move,i)).on(Z+i._eventNS,v(i._up,i)),_.selection(!1),!1},_move:function(e){var t,i=this,n=i.params;i.resizing&&(e=(n.isRtl?-1:1)*(e.pageX-n.origin),e=z(n.width+e,n.min),n.max&&(e=P(e,n.max)),(t=i.grid.trigger(S,{commandName:ne,cancel:!1,field:n.column.field,width:e}))&&t.cancel?i._cancelled=!0:e!==n.current&&(n.cols.width(n.current=e),i.grid._fixHeaderPadding(),i.grid._adjustHeightsLocked(!0)))},_up:function(){var e=this,t=e.grid,i=e.params,n=i.current,i=i.column||{},r=(t.options.columns||[])[x(t.columns).index(i)]||{};e.resizing=!1,e.params=null,i.width=r.width=n+"px",x(m).off(e._eventNS),_.selection(!0),!0!==e._cancelled&&t.trigger(ne,{field:i.field,width:n}),e._cancelled=null},destroy:function(){var e=this;e.grid.headerTable.off(e._eventNS),e._cancelled=null,e.handle&&(e.handle.off(e._eventNS).remove(),e.handle=null)}}),Ne=a.extend({init:function(e){this.grid=e,this._filters={},this._eventNS=".shieldGridFiltering"+r(),this._createFilterRow()},_createFilterRow:function(){var e,t,i,n,r,o=this,l=o.grid,c=l.headerTable.find(">thead"),u=c.find(".sui-indent-cell").length,a=l.dataSource.schema,s=l.columns;for(o._tr=e=x('<tr class="sui-filter-row"/>'),r=0;r<u;r++)x('<th class="sui-indent-cell"/>').appendTo(e);for(a&&a.options.fields&&(n=a.options.fields),r=0;r<s.length;r++)t=n&&n[s[r].field]?n[s[r].field].type:null,d=s[r].field?s[r].field.replace(/[\"\']/g,"@"):"",i=x('<th class="sui-filter-cell" data-field="'+d+'" role="gridcell" tabindex="-1"/>').appendTo(e),!1!==s[r].filterable&&0<d.length&&(o._initializeEditor(i,t,s[r].field,s[r]),o._appendFilterButton(i));for(e.appendTo(c),x(m).on(ee+o._eventNS,v(o._documentClicked,o)),r=0;r<s.length;r++){var p,d=s[r].field?s[r].field.replace(/[\"\']/g,"@"):"";!1!==s[r].filterable&&0<d.length&&((p=o._getFilter(s[r].field))&&(o._setEditorValue(s[r].field,s[r],p.value),o._addRemoveFilterButton(s[r].field)))}},_documentClicked:function(e){var t,i;!this.listBox||x(e.target).hasClass("sui-filter-button")||x(e.target).hasClass("sui-filter-button-content")||(i=this.listBox.element.parent()).css(he)!=fe&&(this._filterByField=null,t=i.height(),e=i.offset().top,this._slideUp?i.animate({height:0,top:e+t},150,function(){i.css({display:fe,height:t})}):i.animate({height:0},150,function(){i.css({display:fe,height:t})}))},_appendFilterButton:function(e){_.ui.Button&&(e=x('<button type="button"><span class="sui-sprite sui-filter-button-content"/></button>').appendTo(e),new _.ui.Button(e,{cls:"sui-filter-button",events:{click:v(this._filterButtonClicked,this)}}))},_filterButtonClicked:function(e){var t=this,i=t.grid,n=i.dataSource.schema,i=i.options.filtering,r=i.stringFunc||[{func:"eq",name:"Equal to"},{func:"neq",name:"Not equal to"},{func:"con",name:"Contains"},{func:"notcon",name:"Not contains"},{func:"starts",name:"Starts with"},{func:"ends",name:"Ends with"},{func:"gt",name:"Greater than"},{func:"lt",name:"Less than"},{func:"gte",name:"Greater than or equal"},{func:"lte",name:"Less than or equal"},{func:"isnull",name:"Is null"},{func:"notnull",name:"Is not null"}],i=i.nonStingFunc||[{func:"eq",name:"Equal to"},{func:"neq",name:"Not equal to"},{func:"gt",name:"Greater than"},{func:"lt",name:"Less than"},{func:"gte",name:"Greater than or equal"},{func:"lte",name:"Less than or equal"},{func:"isnull",name:"Is null"},{func:"notnull",name:"Is not null"}],o=e.target.element.parent().attr("data-field").replace(/[@]/g,"'");t._filterByField=o,n=!n||!n.options.fields||(n=n.options.fields)&&n[o]&&n[o].type===String?r:i,_.ui.ListBox&&(t.listBox||(t._menuWrapper=x('<div style="display:none;"/>').appendTo(m.body),t.listBox=new _.ui.ListBox(t._menuWrapper,y({},{},{dataSource:{data:n},textTemplate:"{name}",valueTemplate:"{func}",multiple:!1,width:150,maxHeight:300,events:{select:v(t._selectFilterFunction,t)}})),t.grid.element.parent().hasClass("sui-rtl")?t.listBox.element.parent().addClass("sui-rtl"):t.listBox.element.parent().css(he,fe)),r=t.listBox.element.parent().height(),t._positionListBox(e),t._slideUp?(i=e.target.element.offset().top-r,t.listBox.element.parent().css({top:e.target.element.offset().top}),t.listBox.element.parent().animate({height:r,top:i-t.listBox.element.parent().innerHeight()},150)):t.listBox.element.parent().animate({height:r},150)),t._selectFilterMenuValue(o)},_getFilter:function(e){var t,i,n,r=this.grid.dataSource.filter;if(r&&r.and&&0<r.and.length)for(t=r.and,n=0;n<t.length;n++)t[n].path===e&&(i=t[n]);return i},_selectFilterMenuValue:function(e){e=this._getFilter(e),e=e?e.filter:C;e?this.listBox.values(e):this.listBox.clearSelection()},_selectFilterFunction:function(e){var t=this,i=!0,n=t._filters[t._filterByField]==ge?ge:t._filters[t._filterByField].value(),e=e.item.func,r={path:t._filterByField,filter:e,value:n};if(n==ge&&(n=t.grid.trigger("getCustomFilterValue",{field:t._filterByField,value:null}).value,r={path:t._filterByField,filter:e,value:n}),""!==n&&null!==n||"notnull"==e||"isnull"==e){if(t.grid.dataSource.filter&&t.grid.dataSource.filter.and){for(var o=t.grid.dataSource.filter.and,l=0;l<o.length;l++)o[l].path===t._filterByField&&(o[l]=r,i=!1);i&&o.push(r)}else t.grid.dataSource.filter={and:[r]};t.grid.dataSource.read(),t._addRemoveFilterButton(t._filterByField)}},_addRemoveFilterButton:function(e){var t,i;if(_.ui.Button){for(var n,r=x(this._tr).children("th"),o=0;o<r.length;o++)if((t=x(r[o])).attr("data-field")&&t.attr("data-field").replace(/[@]/g,"'")==e){i=r[o];break}t&&0===t.find(".sui-clear-filter-button").length&&(n=x('<button type="button"><span class="sui-sprite sui-clear-filter-button-content"></span></button>').appendTo(i),new _.ui.Button(n,{cls:"sui-clear-filter-button",events:{click:v(this._clearFilterButtonClicked,this)}}))}},_clearFilterButtonClicked:function(e){for(var t,i=this,n=e.target.element.parent().attr("data-field").replace(/[@]/g,"'"),r=i.grid.dataSource.filter.and,o=0;o<r.length;o++)r[o].path==n&&r.splice(o,1);t=e.target.element,e.target.destroy(),t.remove(),i._filters[n]!=ge?i._filters[n].value(null):i.grid.trigger("clearFilter",{field:n,value:null}),i.grid.dataSource.read()},_positionListBox:function(e){var t=this,e=e.target.element,i=e.offset(),n=i.top,r=i.left,o=t.listBox.element.parent().innerWidth(),l=t.listBox.element.parent().innerHeight(),a=(e.innerWidth(),e.innerHeight());(r=r<0?1:r)+o>s.innerWidth&&(r=s.innerWidth-o-20),t._slideUp=!1,n+l>s.innerHeight&&(n-=l,t._slideUp=!(a=0)),n<0&&(n=i.top,a=e.innerHeight(),t._slideUp=!1),t.listBox.element.parent().css({position:"absolute",zIndex:10002,top:n+a,left:r,height:0,display:""})},_setEditorValue:function(e,t,i){t.customFilter||(t=this._filters[e])&&t.value(i)},_initializeEditor:function(e,t,i,n){var r=this;if(n.customFilter)r._filters[i]=ge,n.customFilter.call(r.grid,e);else switch(t){case Number:r._instantiateNumeric(e,i);break;case Date:r._instantiateDatePicker(e,i);break;default:String;r._instantiateTextBox(e,i)}},_instantiateNumeric:function(e,t){var e=x("<input/>").appendTo(e),i=this.grid.trigger(ae,{field:t,options:{}}),i=y({},i.options);_.ui.NumericTextBox&&(e=new _.ui.NumericTextBox(e,i),this._filters[t]=e)},_instantiateDatePicker:function(e,t){var e=x("<input/>").appendTo(e),i=this.grid.trigger(ae,{field:t,options:{}}),i=y({},i.options);_.ui.DatePicker&&(e=new _.ui.DatePicker(e,i),this._filters[t]=e)},_instantiateTextBox:function(e,t){var e=x('<input type="text"/>').appendTo(e),i=this.grid.trigger(ae,{field:t,options:{}}),i=y({},i.options);_.ui.TextBox&&(e=new _.ui.TextBox(e,i),this._filters[t]=e)},destroy:function(){var e,t=this;for(e in t._filters)t._filters.hasOwnProperty(e)&&(t._filters[e]!=ge&&t._filters[e].destroy(),t._filters[e]=null);t.listBox&&(t.listBox.destroy(),t.listBox=null),x(t._menuWrapper).remove(),x(t._tr).remove(),x(m).off(ee+t._eventNS),t._filterByField=t._filters=t._slideUp=t._menuWrapper=t._tr=null}}),Re=a.extend({init:function(e,t){var i=this;i.grid=t,i.sortExpressions=[],i._eventNS=".shieldGridSorting"+r(),l(e)?(i.allowUnsort=!0,i.multiple=!1,i.firstAscending=!0,i.ascText="&#9650;",i.descText="&#9660;"):o(e)&&(i.allowUnsort=!!w(e.allowUnsort)||e.allowUnsort,i.multiple=e.multiple,i.firstAscending=!!w(e.firstAscending)||e.firstAscending,i.ascText=w(e.ascText)?"&#9650;":e.ascText,i.descText=w(e.descText)?"&#9660;":e.descText),i._initialize()},destroy:function(){var e=this,t=e.grid.headerTable;e.allowUnsort=e.multiple=e.sortExpressions=null,e.length=0,t.find(".sui-headercell .sui-link").each(function(){x(this).parent().html(x(this).html())}),t.off(e._eventNS),t.find('.sui-headercell span[class^="sui-"]').remove()},_initialize:function(){var e,t,i,c,n,r,o,l,a=this,s=a.grid,u=s.dataSource.sort,d=s.columns,p={};if(s.headerTable.find(".sui-headercell").each(function(){var e=x(this),t=e.attr("data-field"),i=s._getColumnByField(t);p[t]=e,i&&!1!==i.sortable&&(t=e.html(),e.empty(),e.removeAttr(q),x('<a href="#" class="sui-link sui-unselectable" unselectable="on" tabindex="-1"/>').appendTo(e).html(t))}),s.headerTable.on(ee+a._eventNS,".sui-link",v(a._clickHandler,a)),u)for(e=0;e<u.length;e++)for(i=u[e],t=0;t<d.length;t++)!1!==d[t].sortable&&i.path==d[t].field&&(n=(c=x(p[d[t].field])).find(".sui-link"),r="ascending",o="sui-asc",l=a.ascText,i.desc&&(r="descending",l=a.descText,o="sui-desc"),x(c).attr(q,r),n.addClass(o),x('<span class="sui-'+r+'">'+l+"</span>").appendTo(n))},_clickHandler:function(e){var t=this,e=x(e.target).closest(".sui-link"),i=t.grid._getColumnByField(e.parent().attr("data-field"));return e.hasClass("sui-desc")?t.allowUnsort&&t.firstAscending?t._sortInternal(i,!0,!0):t._sortInternal(i,!1,!1):e.hasClass("sui-asc")?t.allowUnsort&&!t.firstAscending?t._sortInternal(i,!1,!0):t._sortInternal(i,!0,!1):t.firstAscending?t._sortInternal(i,!1,!1):t._sortInternal(i,!0,!1),!1},_sortInternal:function(t,i,n){var e,r=this.grid,o=r.dataSource,l=o.sort;r.trigger(S,{commandName:"sort",cancel:!1,column:t,desc:i,unsort:n}).cancel||(l?(!this.multiple&&l?l.length=0:0<(e=u(l,function(e){return e.path===t.field&&e.desc===(n?i:!i)})).length&&(e=p(e[0],l),l.splice(e,1)),n||l.push({path:t.field,desc:i})):n||(l=o.sort=[{path:t.field,desc:i}]),r._refreshOnSort(),r.trigger("sort",{column:t,desc:i,unsort:n}))},_sort:function(t,i,e){var n,r,o,l,a=this.grid,s=a.dataSource,d=s.sort;!(n=d?u(d,function(e){return e.path===t&&e.desc===i}):n)||n.length<=0?(!this.multiple&&d&&(d.length=0),d?(o=!1,(l=u(d,function(e){return e.path===t&&e.desc!=i}))&&0<l.length&&(r=p(l[0],d),d.splice(r,1),o=!0),e||(d.push({path:t,desc:i}),o=!0),o&&a._refreshOnSort()):e||(s.sort=[{path:t,desc:i}],a._refreshOnSort())):e&&(r=p(n[0],d),d.splice(r,1),a._refreshOnSort())}}),Ee=a.extend({init:function(e,t){var i=this,n=i._eventNS=".shieldGridSelection"+r();l(e)?(i.type=_e,i.multiple=!1,i.toggle=!1,i.spreadsheet=!0,i.drawArea=!1,i.disableTextSelection=!1,i._selectOnMouseDown=!1):o(e)&&(i.type=e.type||_e,i.multiple=!!e.multiple,i.toggle=!!T(e.toggle)&&e.toggle,i.spreadsheet=!T(e.spreadsheet)||e.spreadsheet,i.drawArea=T(e.drawArea)?e.drawArea:e.multiple,i.disableTextSelection=!!T(e.disableTextSelection)&&e.disableTextSelection,i._selectOnMouseDown=!i.drawArea&&e.selectEvent==$),i.grid=t,i.lastSelected=null,x(t.headerTable).add(t.frozenHeaderTable).addClass("sui-non-selectable"),x(t.contentTable).add(t.frozenContentTable).addClass("sui-selectable"),x(t.contentTable).add(t.frozenContentTable).on($+n,v(i._mouseDownHandler,i)).on(J+n,v(i._mouseMoveHandler,i)),x(m).on(Z+n,v(i._mouseUpHandler,i)),D&&x(t.contentTable).add(t.frozenContentTable).on("selectstart"+n,function(){return!1}),i.multiple&&i.drawArea&&(i.area=x(m.createElement("span")).addClass("sui-area sui-area-color"))},destroy:function(){var e=this,t=e._eventNS,i=e.grid;x(i.contentTable).add(i.frozenContentTable).off(t),x(m).off(t),e.area&&e.area.remove(),e.type=e.multiple=e.lastSelected=e.toggle=e.spreadsheet=e.area=e.x=e.y=e.elements=null},select:function(e){var t,i,n,r;if(!e)return this.grid.contentTable.find("."+b);if(0<(i=(t=x(e)).length))for(r=0;r<i;r++)n=x(t.get(r)),this._selectElement(n),r==i-1&&(this.lastSelected=n)},clear:function(){this.type==_e?this._clearSelectedRows():this._clearSelectedCells()},_getParentTable:function(e){if(e)return"TABLE"==e[0].nodeName.toUpperCase()?e[0]:e.parent()?this._getParentTable(e.parent()):void 0},_mouseDownHandler:function(e){var t=this,i=t.grid,n=e.pageX,r=e.pageY,o=x(e.target),l=t._getParentTable(o);t.x=n,t.y=r,"TD"==o[0].nodeName.toUpperCase()&&l!=x(i.contentTable)[0]&&l!=x(i.frozenContentTable)[0]||!(o.hasClass("sui-cell")||o.hasClass("sui-row")||o.hasClass("sui-alt-row")||we(e,i.contentTable)||we(e,i.frozenContentTable))||o.hasClass("sui-detail-cell")||o.hasClass("sui-detail-row")||o.hasClass("sui-collapse-cell")||o.hasClass("sui-expand-cell")||o.hasClass("sui-expand-cell-disabled")||o.hasClass("sui-indent-cell")||(t.multiple&&t.drawArea&&t.area.appendTo(m.body).css({left:n+1,top:r+1,width:0,height:0}),x(m).on(J+t._eventNS,v(t._mouseMoveHandler,t)),(t.drawArea||t.disableTextSelection)&&_.selection(!1),t.elements=xe(e,i.contentTable,i.frozenContentTable),t.elements&&t._selectOnMouseDown&&!Te(t.elements)&&t._performAndProcessSelection(e))},_mouseMoveHandler:function(e){var t=this,i=e.pageX,e=e.pageY,n=t.x,r=t.y,n={left:i<n?i:n,top:e<r?e:r,width:d(i-t.x),height:d(e-t.y)};t.multiple&&t.drawArea&&t.area.css(n)},_mouseUpHandler:function(e){var t=this,i=t.area;x(m).off(J+t._eventNS),(t.drawArea||t.disableTextSelection)&&_.selection(!0),!t.elements||t._selectOnMouseDown&&!Te(t.elements)||t._performAndProcessSelection(e),i&&i.remove()},_performAndProcessSelection:function(e){var t,i,n=this,r=n.grid,o=n.area,l=n.elements,c=e.ctrlKey,a=[],s=[],d=[],u=r.trigger(S,{commandName:"selectionChanging",cancel:!1});if(u.cancel)n.elements=null;else{for(n.elementsToBeSelected=[],n.type==_e?n._performRowSelection(o,c,l,e):n._performCellSelection(o,c,l,e),i=0;i<n.elementsToBeSelected.length;i++)!((t=n.elementsToBeSelected[i]).hasClass("sui-cell")||t.hasClass("sui-row")||t.hasClass("sui-alt-row"))||t.hasClass("sui-detail-cell")||t.hasClass("sui-detail-row")||t.hasClass("sui-collapse-cell")||t.hasClass("sui-expand-cell")||t.hasClass("sui-expand-cell-disabled")||t.hasClass("sui-indent-cell")||(a.push(t),t=r._getRowIndex(n.type==_e?t:x(t).parent()),s.push(t),d.push(0<=t?r.dataSource.getDataIndex(t):t));if(!r.trigger(S,{commandName:j,cancel:!1,toBeSelected:a,viewIndices:s,indices:d}).cancel){for(i=0;i<a.length;i++)n._selectElement(a[i]);r.trigger(j,{selected:a,viewIndices:s,indices:d}),n.elements=null}}},_performRowSelection:function(e,t,i,n){var r,o=this;x(n.target).hasClass("sui-expand-cell")||x(n.target).hasClass("sui-expand-cell-disabled")||x(n.target).hasClass("sui-collapse-cell")||x(n.target)&&x(n.target).parent()&&(x(n.target).parent().hasClass("sui-expand-cell")||x(n.target).parent().hasClass("sui-expand-cell-disabled")||x(n.target).parent().hasClass("sui-collapse-cell"))||(!o.drawArea||n.type===Q||e&&0===e.height()&&0===e.width()?o.multiple?o._processMultiRowSelection(n,i):o._processSingleRowSelection(n,i):o.multiple?(e=o.grid.contentTable.find(">tbody > tr"),r=null,c(e,function(e,t){x(t).offset().top<n.pageY&&(r=t.rowIndex)}),t||o._clearSelectedRows(),o._selectRowRange(i.row.rowIndex,r,t)):o._processSingleRowSelection(n,i))},_performCellSelection:function(e,t,i,p){var h=this;if(!(x(p.target).hasClass("sui-expand-cell")||x(p.target).hasClass("sui-expand-cell-disabled")||x(p.target).hasClass("sui-collapse-cell")||x(p.target)&&x(p.target).parent()&&(x(p.target).parent().hasClass("sui-expand-cell")||x(p.target).parent().hasClass("sui-expand-cell-disabled")||x(p.target).parent().hasClass("sui-collapse-cell"))))if(!h.drawArea||p.type===Q||e&&0===e.height()&&0===e.width())h.multiple?h._processMultiCellSelection(p,i):h._processSingleCellSelection(p,i);else if(h.multiple){var n,e=h.grid.contentTable.find(">tbody > tr > td"),f=[];for(c(e,function(c,e){var t=x(e),i=t.get(0).clientWidth,n=t.get(0).clientHeight,r=t.offset().top,t=t.offset().left,n=r+n,i=t+i,o=P(p.pageX,h.x),l=z(p.pageX,h.x),a=P(p.pageY,h.y),u=z(p.pageY,h.y),s=!1,d=!1;r<a?a<n&&(s=!0):r<u&&(s=!0),t<o?o<i&&(d=!0):t<l&&(d=!0),s&&d&&f.push(e)}),t||h._clearSelectedCells(),n=0;n<f.length;n++)x(f[n]).hasClass(b)?h._deselectElement(x(f[n])):h.elementsToBeSelected.push(x(f[n]))}else h._processSingleCellSelection(p,i)},_selectRowRange:function(e,t,i){for(var n,r=P(e,t),o=z(e,t),l=this.grid.contentTable.find(">tbody > tr"),a=r;a<=o;a++)n=x(l[a]),i&&n.hasClass(b)?this._deselectElement(n):this.elementsToBeSelected.push(n)},_clearSelectedRows:function(){var e=this,t=e.grid;x(t.frozenContentTable).find("> tbody > tr."+b).each(function(){e._deselectElement(x(this))}),x(t.contentTable).find("> tbody > tr."+b).each(function(){e._deselectElement(x(this))})},_clearSelectedCells:function(){var e=this,t=e.grid;x(t.frozenContentTable).find(">tbody > tr > td."+b).each(function(){e._deselectElement(x(this))}),x(t.contentTable).find(">tbody > tr > td."+b).each(function(){e._deselectElement(x(this))})},_processSingleRowSelection:function(e,t){var i=this,n=i.toggle,r=i.multiple,t=x(t.row),o=t.hasClass(b);r||i._clearSelectedRows(),n?o?i._deselectElement(t):i.elementsToBeSelected.push(t):(i._clearSelectedRows(),i.elementsToBeSelected.push(t)),i.lastSelected=t},_processMultiRowSelection:function(e,t){var i=this,n=i.grid,r=e.ctrlKey,o=e.shiftKey,l=x(t.row);if(r)l.hasClass(b)?i._deselectElement(l):i.elementsToBeSelected.push(l),i.lastSelected=l;else if(o){n.contentTable.find(">tbody > tr."+b);if(i.lastSelected){var a=i.lastSelected.get(0).rowIndex,s=n.contentTable.find(">tbody > tr"),r=l.get(0).rowIndex,o=P(r,a),c=z(r,a);i._clearSelectedRows();for(var u,d=o;d<=c;d++)d!==a&&(u=x(s[d]),i.elementsToBeSelected.push(u));i.elementsToBeSelected.push(x(s[a]))}else i.elementsToBeSelected.push(l),i.lastSelected=l}else i._processSingleRowSelection(e,t)},_processSingleCellSelection:function(e,t){var i=this,n=i.toggle,r=i.multiple,t=x(t.cell),o=t.hasClass(b);i.lastSelected;r||i._clearSelectedCells(),n?o?i._deselectElement(t):i.elementsToBeSelected.push(t):(i._clearSelectedCells(),i.elementsToBeSelected.push(t)),i.lastSelected=t},_processMultiCellSelection:function(e,c){var t=this,i=t.grid,n=e.ctrlKey,r=e.shiftKey,o=x(c.cell);if(n)o.hasClass(b)?t._deselectElement(o):t.elementsToBeSelected.push(o),t.lastSelected=o;else if(r)if(t.lastSelected){var u,n=t.lastSelected,p=i.contentTable.get(0),r=p.rows[0].cells.length,l=n.parent().get(0).rowIndex,a=l*r+n.get(0).cellIndex,h=i.contentTable.find(">tbody > tr > td"),i=o.parent().get(0).rowIndex,r=i*r+o.get(0).cellIndex,f=P(r,a),g=z(r,a);if(t._clearSelectedCells(),t.spreadsheet)for(var r=n[0].cellIndex,n=o[0].cellIndex,f=P(r,n),g=z(r,n),r=P(l,i),_=z(l,i),s=r;s<=_;s++)for(var m=p.rows[s],d=f;d<=g;d++)t.elementsToBeSelected.push(x(m.cells[d]));else for(s=f;s<=g;s++)s!==a&&(u=x(h[s]),t.elementsToBeSelected.push(u));t.elementsToBeSelected.push(x(h[a]))}else t.elementsToBeSelected.push(o),t.lastSelected=o;else t._processSingleCellSelection(e,c)},_selectElement:function(e){x(e).add(this.type==_e?this.grid._getOtherRow(e):null).addClass(b)},_deselectElement:function(e){x(e).add(this.type==_e?this.grid._getOtherRow(e):null).removeClass(b)}}),We=a.extend({options:{ns:".shieldGridGroupReorder",returnDuration:50,returnEasing:"ease-out",dragTreshold:20,draggedTemplate:"<div style='border-color:transparent;' class='sui-grid sui-grid-core'><div class='sui-group-panel-indicator'><span class='sui-group-title'>{0}</span><span class='sui-group-close-button'></span></div></div>"},init:function(e){var t=this;t.grid=e,t.options=y(!0,{},We.fn.options),t._eventNS=t.options.ns+r(),t._events(!0)},_events:function(e){var t=this,i=t.grid.element;e?(t._downProxy=v(t._down,t),i.on($+t._eventNS,".sui-group-panel-indicator",t._downProxy)):(i.off($+t._eventNS,".sui-group-panel-indicator",t._downProxy),t._downProxy=null)},_down:function(e){var t=this,i=x(e.target).closest(".sui-group-panel-indicator"),n=i.offset(),r=t.grid.element,o=r.offset(),l=e.pageX,a=e.pageY;if(t.dataField=i.attr("data-field"),!(1<e.button))return t._moveProxy=v(t._move,t),t._upProxy=v(t._up,t),x(m).on(J+t._eventNS,t._moveProxy).on(Z+t._eventNS,t._upProxy),t.start={left:l-n.left,top:a-n.top,x:l,y:a,target:i,index:i.parent().find(".sui-group-panel-indicator").index(i),positions:t._positions(i),gridPosition:{left:o.left,top:o.top,width:r.outerWidth(),height:r.outerHeight()},isRtl:g.isRtl(r)},_.selection(!1),!1},_move:function(e){var t=this,i=t.options,n=t.dragged,r=t.start,o=e.pageX,e=e.pageY,l=i.dragTreshold;n?(n.css({left:o-r.left,top:e-r.top}),t.hovered=t._index(o,e),t._indicator()):(d(r.x-o)>l||d(r.y-e)>l)&&(t.dragged=x(I(i.draggedTemplate,r.target.html())).css({position:"absolute",left:o-r.left,top:e-r.top,zIndex:999}).find("table").css("width","auto").end().find("th").attr("style",r.target[0].style.cssText).css({width:r.target.width(),height:r.target.height()}).end().appendTo(m.body))},_positions:function(e){for(var t,i,n=e.parent().children(".sui-group-panel-indicator"),r=0,o=[];r<n.length;r++)i=(t=n.eq(r)).offset(),o.push({left:i.left,top:i.top,width:t.outerWidth(),height:t.outerHeight()});return o},_index:function(e,t){for(var i,n,r=this.start,o=r.gridPosition,l=0;l<r.positions.length;l++)if(i=(i=r.positions[l]).left<=e&&e<=i.left+i.width&&i.top<=t&&t<=i.top+i.height,n=o.left<=e&&e<=o.left+o.width&&o.top<=t&&t<=o.top+o.height,i&&n)return l;return-1},_indicator:function(){var e=this.start,t=this.hovered,i=e.positions[t],n=this.reorderIndicator,r=e.gridPosition.left,o=e.gridPosition.left+e.gridPosition.width,l=e.target.parent().children(".sui-group-panel-indicator"),a=e.isRtl?e.index<t:e.index>t;l.removeClass("sui-reorder-target"),n&&n.hide(),null!=t&&-1<t&&(l.eq(t).addClass("sui-reorder-target"),n=n||(this.reorderIndicator=x("<div class='sui-grid-reorder-indicator'><span class='sui-grid-indicator-top' /><span class='sui-grid-indicator-bottom' /></div>").appendTo(m.body)),t!==e.index&&(l=i.left+(a?0:i.width),n.css({left:P(z(r,l),o),top:i.top,height:i.height}).show()))},_up:function(c){var e,t=this,i=t.options,n=t.grid,r=t.dragged,o=t.start,l=t.hovered,a=t.dataField;if(t._detachDocumentEvents(),r)if(null!=l&&-1<l){if(r.remove(),!(e=n.trigger(S,{commandName:re,cancel:!1,index:o.index,newIndex:l})).cancel)for(var s=n.dataSource.group,d=0;d<s.length;d++)if(s[d].field==a){var u=s[d];s[d]=s[l],s[l]=u;break}}else setTimeout(function(){r.remove()},g.transitions?i.returnDuration:0),t.grid.dataSource.group&&((e=n.trigger(S,{commandName:oe,cancel:!1,field:a})).cancel||(t.grid.ungroup(a),n.trigger(oe,e)));t.dragged=t.dataField=t.hovered=l=null,t._indicator(),t.reorderIndicator&&(t.reorderIndicator.remove(),t.reorderIndicator=null),t.start=null,x(m).off(t._eventNS),_.selection(!0),e&&!e.cancel&&(delete e.cancel,delete e.commandName,n.dataSource.read(),n.trigger(re,e))},_detachDocumentEvents:function(){this._moveProxy=this._upProxy=null,x(m).off(this._eventNS)},destroy:function(){this.dataField=null,this._detachDocumentEvents(),this._events(!1)}}),Pe=a.extend({options:{ns:".shieldGridColumnGroupReorder",returnDuration:150,returnEasing:"ease-out",dragTreshold:20,draggedTemplate:"<div class='sui-grid sui-grid-core'><div class='sui-gridheader'><table class='sui-table'><thead><tr class='sui-columnheader'><th class='sui-headercell'>{0}</th></tr></thead></table></div></div>"},init:function(e){var t=this;t.grid=e,t.options=y(!0,{},ze.fn.options),t._eventNS=t.options.ns+r(),t._events(!0),e.headerTable.addClass("sui-reorderable")},_events:function(e){var t=this,i=t.grid.element;e?(t._downProxy=v(t._down,t),i.on($+t._eventNS,".sui-headercell",t._downProxy)):(i.off($+t._eventNS,".sui-headercell",t._downProxy),t._downProxy=null)},_down:function(e){var t=this,i=x(e.target).closest(".sui-headercell"),n=i.offset(),r=t.grid.element,o=r.offset(),l=e.pageX,a=e.pageY;if(!(1<e.button)){var c=i.attr("data-field"),s=t.grid.dataSource.group;if(s)for(var d=0;d<s.length;d++)if(c===s[d].field)return;return x(m).on(J+t._eventNS,v(t._move,t)).on(Z+t._eventNS,v(t._up,t)),t.start={left:l-n.left,top:a-n.top,x:l,y:a,target:i,index:1e3,positions:t._positions(i),gridPosition:{left:o.left,top:o.top,width:r.outerWidth(),height:r.outerHeight()},isRtl:g.isRtl(r)},_.selection(!1),!1}},_move:function(e){var t=this,i=t.options,n=t.dragged,r=t.start,o=e.pageX,e=e.pageY,l=i.dragTreshold;n?(n.css({left:o-r.left,top:e-r.top}),t.hovered=t._index(o,e),t._indicator()):(d(r.x-o)>l||d(r.y-e)>l)&&(t.dragged=x(I(i.draggedTemplate,r.target.html())).css({position:"absolute",left:o-r.left,top:e-r.top,zIndex:999}).find("table").css("width","auto").end().find("th").attr("style",r.target[0].style.cssText).css({width:r.target.width(),height:r.target.height()}).end().appendTo(m.body))},_positions:function(e){for(var t,i,n=this.grid.element.find(".sui-group-panel-indicator"),r=0,o=[];r<n.length;r++)i=(t=n.eq(r)).offset(),o.push({left:i.left,top:i.top,width:t.outerWidth(),height:t.outerHeight()}),r==n.length-1&&o.push({left:i.left,top:i.top,width:t.outerWidth(),height:t.outerHeight()});return o},_index:function(e,t){var i,n,r,o,l=this.start,a=l.gridPosition,s=this.grid.element.find(".sui-group-panel");if(0<l.positions.length){for(i=0;i<l.positions.length;i++)if(n=(n=l.positions[i]).left<=e&&e<=n.left+n.width&&n.top<=t&&t<=n.top+n.height,o=a.left<=e&&e<=a.left+a.width&&a.top<=t&&t<=a.top+a.height,r=s.offset().left<=e&&e<=s.offset().left+s.width()&&s.offset().top<=t&&t<=s.offset().top+s.height(),n&&o)return i}else r=s.offset().left<=e&&e<=s.offset().left+s.width()&&s.offset().top<=t&&t<=s.offset().top+s.height();return r?(this.isOnGroupPanel=!0,this.grid.element.find(".sui-group-panel-indicator").length):-1},_indicator:function(){var e,t=this,i=t.start,n=t.hovered,r=i.positions[n],o=t.reorderIndicator,l=i.gridPosition.left,a=i.gridPosition.left+i.gridPosition.width,s=i.target.parent().children(".sui-group-panel-indicator"),d=i.isRtl?i.index<n:i.index>n;s.removeClass("sui-reorder-target"),o&&o.hide(),null!=n&&-1<n&&(s.eq(n).addClass("sui-reorder-target"),o=o||(t.reorderIndicator=x("<div class='sui-grid-reorder-indicator'><span class='sui-grid-indicator-top' /><span class='sui-grid-indicator-bottom' /></div>").appendTo(m.body)),this.isOnGroupPanel&&(d=!1),r?(e=r.left+(d?0:r.width),this.isOnGroupPanel=null,o.css({left:P(z(l,e),a),top:r.top,height:r.height}).show()):(e=l+(d?i.gridPosition.width:0),this.isOnGroupPanel=null,o.css({left:e,top:i.gridPosition.top,height:t.grid.element.find(".sui-group-panel-empty").outerHeight()}).show()))},_up:function(e){var t,i=this,n=i.options,r=i.grid,o=i.dragged,l=i.start,a=i.hovered;o&&(o.css({left:l.x-l.left,top:l.y-l.top,transition:I("left {0} {1}ms, top {0} {1}ms",n.returnEasing,n.returnDuration)}),null!=a&&-1<a?(o.remove(),l=l.target.attr("data-field"),(t=r.trigger(S,{commandName:"group",cancel:!1,field:l,index:a})).cancel||r.group(l,a,"asc")):setTimeout(function(){o.remove()},g.transitions?n.returnDuration:0)),i.dragged=i.hovered=a=null,i._indicator(),i.reorderIndicator&&(i.reorderIndicator.remove(),i.reorderIndicator=null),i.start=null,x(m).off(i._eventNS),_.selection(!0),t&&!t.cancel&&(delete t.cancel,delete t.commandName,r.dataSource.read(),r.trigger("group",t))},destroy:function(){this._events(!1),this.grid.headerTable.removeClass("sui-reorderable")}}),ze=a.extend({options:{ns:".shieldGridColumnReorder",returnDuration:150,returnEasing:"ease-out",dragTreshold:20,draggedTemplate:"<div class='sui-grid sui-grid-core'><div class='sui-gridheader'><table class='sui-table'><thead><tr class='sui-columnheader'><th class='sui-headercell'>{0}</th></tr></thead></table></div></div>"},init:function(e){var t=this;t.grid=e,t.options=y(!0,{},ze.fn.options),t._eventNS=t.options.ns+r(),t._events(!0),e.headerTable.addClass("sui-reorderable")},_events:function(e){var t=this,i=t.grid.element;e?(t._downProxy=v(t._down,t),i.on($+t._eventNS,".sui-headercell",t._downProxy)):(i.off($+t._eventNS,".sui-headercell",t._downProxy),t._downProxy=null)},_down:function(e){var t=this,i=x(e.target).closest(".sui-headercell"),n=i.offset(),r=t.grid.element,o=r.offset(),l=e.pageX,a=e.pageY;if(!(1<e.button))return x(m).on(J+t._eventNS,v(t._move,t)).on(Z+t._eventNS,v(t._up,t)),t.start={left:l-n.left,top:a-n.top,x:l,y:a,target:i,index:i.parent().find(".sui-headercell").index(i),positions:t._positions(i),gridPosition:{left:o.left,top:o.top,width:r.outerWidth(),height:r.outerHeight()},isRtl:g.isRtl(r)},_.selection(!1),!1},_move:function(e){var t=this,i=t.options,n=t.dragged,r=t.start,o=e.pageX,e=e.pageY,l=i.dragTreshold;n?(n.css({left:o-r.left,top:e-r.top}),t.hovered=t._index(o,e),t._indicator()):(d(r.x-o)>l||d(r.y-e)>l)&&(t.dragged=x(I(i.draggedTemplate,r.target.html())).css({position:"absolute",left:o-r.left,top:e-r.top,zIndex:999}).find("table").css("width","auto").end().find("th").attr("style",r.target[0].style.cssText).css({width:r.target.width(),height:r.target.height()}).end().appendTo(m.body))},_positions:function(e){for(var t,i,n=e.parent().children(".sui-headercell"),r=0,o=[];r<n.length;r++)i=(t=n.eq(r)).offset(),o.push({left:i.left,top:i.top,width:t.outerWidth(),height:t.outerHeight()});return o},_index:function(e,t){for(var i,n,r=this.start,o=r.gridPosition,l=0;l<r.positions.length;l++)if(i=(i=r.positions[l]).left<=e&&e<=i.left+i.width&&i.top<=t&&t<=i.top+i.height,n=o.left<=e&&e<=o.left+o.width&&o.top<=t&&t<=o.top+o.height,i&&n)return l;return-1},_indicator:function(){var e=this.start,t=this.hovered,i=e.positions[t],n=this.reorderIndicator,r=e.gridPosition.left,o=e.gridPosition.left+e.gridPosition.width,l=e.target.parent().children(".sui-headercell"),a=e.isRtl?e.index<t:e.index>t;l.removeClass("sui-reorder-target"),n&&n.hide(),null!=t&&-1<t&&(l.eq(t).addClass("sui-reorder-target"),n=n||(this.reorderIndicator=x("<div class='sui-grid-reorder-indicator'><span class='sui-grid-indicator-top' /><span class='sui-grid-indicator-bottom' /></div>").appendTo(m.body)),t!==e.index&&(l=i.left+(a?0:i.width),n.css({left:P(z(r,l),o),top:i.top,height:i.height}).show()))},_up:function(e){var t,i=this,n=i.options,r=i.grid,o=i.dragged,l=i.start,a=i.hovered;o&&(o.css({left:l.x-l.left,top:l.y-l.top,transition:I("left {0} {1}ms, top {0} {1}ms",n.returnEasing,n.returnDuration)}),null!=a&&-1<a?(o.remove(),(t=r.trigger(S,{commandName:ie,cancel:!1,index:l.index,newIndex:a})).cancel||r.reorderColumn(l.index,a)):setTimeout(function(){o.remove()},g.transitions?n.returnDuration:0)),i.dragged=i.hovered=a=null,i._indicator(),i.reorderIndicator&&(i.reorderIndicator.remove(),i.reorderIndicator=null),i.start=null,x(m).off(i._eventNS),_.selection(!0),t&&!t.cancel&&(delete t.cancel,delete t.commandName,r.trigger(ie,t))},destroy:function(){this._events(!1),this.grid.headerTable.removeClass("sui-reorderable")}}),i=e.extend({init:function(){e.fn.init.apply(this,arguments);this._eventNS=".shieldGrid"+this.getInstanceId(),this.refresh(),this._dM()},destroy:function(){this._destroyInternal(),e.fn.destroy.call(this)},_destroyInternal:function(){var e,t,i,n=this,r=n.options,o=n._eventNS;if(n.contentWrapper){if(n._markedCells){for(t in n._markedCells)n._markedCells.hasOwnProperty(t)&&(n._markedCells[t].length=0);n._markedCells=null}if(x(s).off(o),n._destroyFrozenContainers(),n.sorting&&(n.sorting.destroy(),n.sorting=null),n.virtualizedContainer&&(n.virtualizedContainer.destroy(),n.virtualizedContainer=null),n.columns)for(e=0;e<n.columns.length;e++)n.columns[e].destroy();if(n.contentWrapper&&n.contentWrapper.off("scroll"),n.scrollableWrapper=null,n._selectable&&(n._selectable.destroy(),n._selectable=null),r.scrolling?(n.contentWrapper.parent().remove(),n.headerWrapper.parent().remove()):(n.contentWrapper.remove(),n.headerWrapper.remove()),n._hasDetailTemplate()&&n.contentTable.off(o),n.popupWindow&&n.popupWindow.destroy(),n._footer&&(x(n._footer).remove(),n._footer=null),n.columns=n._gridColumns=n._windowEditingIndex=n.contentWrapper=n.headerWrapper=n.contentTable=n.hederTable=null,n._buttons){for(e=0;e<n._buttons.length;e++)i=n._buttons[e].button.element,n._buttons[e].button.destroy(),i.remove();n._buttons.length=0}n.pager&&(n.pager.destroy(),n.pager=null,n.pagerWrapper&&(n.pagerWrapper.parent().remove(),n.pagerWrapper=null)),n.loadingPanel&&(n.loadingPanel=null,clearTimeout(n.loadingPanelTimeout),n.loadingPanelTimeout=null),n._columnResizing&&(n._columnResizing.destroy(),n._columnResizing=null),n._toolbar&&(n._toolbar.destroy(),n._toolbar=null),n._editing&&(n._editing.destroy(),n._editing=null),n._columnReorder&&(n._columnReorder.destroy(),n._columnReorder=null),n._sortingInProgress=n._loadingVirtualRows=n._scrollLeft=n._scrollTop=n._populateInsertedItem=n._preventClosingEditors=n._editingInProcess=null,n._filter&&(n._filter.destroy(),n._filter=null),n._groupReorder&&(n._groupReorder.destroy(),n._groupReorder=null),n._columnGroupReorder&&(n._columnGroupReorder.destroy(),n._columnGroupReorder=null),n.dataSource.off(o),n.element.off(o).removeClass("sui-grid sui-grid-core").css(X,"").empty()}},_dM:function(){var e=m.createTextNode(x("<div/>").html("&#68;&#101;&#109;&#111;&#32;&#86;&#101;&#114;&#115;&#105;&#111;&#110;").text());x(e).insertAfter(x(this.element))},_resizeHandler:function(){this._adjustWidthsLocked(),this._adjustHeightsLocked()},_hasDetailTemplate:function(){var e=this.options;return e.detailTemplate||e.events&&e.events.detailCreated},_hasVirtualScrolling:function(){var e=this.options;return e.scrolling&&e.scrolling.virtual&&!e.paging&&!this._hasDetailTemplate()},_canExpandCollapse:function(){return!1!==this.options.detailExpandCollapse},_resolveColumns:function(e){var t,i=this;if(i.columns=[],n.array(e))for(t=0;t<e.length;t++)i.columns.push(new Ie(e[t]));else _.error("Invalid columns declaration. The columns have to be array.",i.options.dieOnError);for(i._gridColumns={},t=0;t<i.columns.length;t++)i._gridColumns[i.columns[t].field]={index:t}},_createWrappers:function(){var e,t=this,i=t.element;t._wrapper(),(e=x("<div/>").prependTo(i)).addClass("sui-gridcontent"),(i=x("<div/>").prependTo(i)).addClass("sui-gridheader"),t.options.showHeader||(i.css(he,fe),e.addClass("sui-no-header")),t.headerWrapper=i,t.contentWrapper=e},_wrapper:function(){var e=this.options.height,t=this.element;(t=t.is("div")?t:t.wrap("<div/>").parent()).addClass("sui-grid sui-grid-core"),t&&t.css(X,e)},_createGroupPanel:function(){var e,t,i,n=this,r=n.options.grouping,o=!1,l=n.dataSource,a=n.element.find(".sui-group-panel");if(0<a.length&&a.remove(),r.showGroupHeader)if(l.group&&0!==l.group.length){for(e=x('<div class="sui-group-panel"/>'),x(n.element).prepend(e),i=0;i<l.group.length;i++)t=l.group[i],n._createGroupHeaderIndicator(t,e),o=!0;o&&r.allowDragToGroup&&(n._groupReorder&&n._groupReorder.destroy(),n._groupReorder=new We(n),n._columnGroupReorder&&n._columnGroupReorder.destroy(),n._columnGroupReorder=new Pe(n))}else x(n.element).prepend(x('<div class="sui-group-panel sui-group-panel-empty">'+r.message+"</div>"))},_createGroupHeaderIndicator:function(e,t){var i=this,n=i._getColumnByField(e.field),n=n?n.groupTitle:e.field,t=x('<div class="sui-group-panel-indicator" data-field="'+e.field+'"/>').appendTo(t),e=("desc"==e.order?x('<span class="sui-descending">&#9660;</span>'):x('<span class="sui-ascending">&#9650;</span>')).appendTo(t);e.on(ee,v(i._sortButtonClickedHandler,i)),x('<span class="sui-group-title">'+n+"</span>").appendTo(t),i.options.grouping.allowDragToGroup&&x('<span class="sui-group-close-button">&#10006;</span>').on(ee,v(i._closeButtonClickedHandler,i)).appendTo(t)},_sortButtonClickedHandler:function(e){for(var t=x(e.currentTarget),i=t.parent().attr("data-field"),n=this.dataSource.group,r=0;r<n.length;r++)n[r].field==i&&(t.hasClass("sui-descending")?n[r].order="asc":n[r].order="desc",this.dataSource.read())},_closeButtonClickedHandler:function(e){var t,e=x(e.currentTarget).parent().attr("data-field");this.dataSource.group&&((t=this.trigger(S,{commandName:oe,cancel:!1,field:e})).cancel||(this.ungroup(e),this.trigger(oe,t)))},_createHeaderTable:function(){var e=this,t=e.headerWrapper,i=e.element;i.is("table")||(i=t.children("table")).length||(i=x("<table/>").appendTo(t)),A&&i.attr("cellspacing",0),i.addClass("sui-table"),e.headerTable=i,e._createTbody(i,!0),e._createThead(i),e._createFakeRow(i,e.columns.length)},_createContentTable:function(){var e=this,t=e.options,i=e.contentWrapper,n=e.element;n.is("table")||(n=i.children("table")).length||(n=x("<table/>").appendTo(i)),A&&n.attr("cellspacing",0),n.addClass("sui-table"),t.rowHover&&n.addClass("sui-hover"),e._hasDetailTemplate()&&(e._canExpandCollapse()&&n.addClass("sui-expandable"),n.on(ee+e._eventNS,"> tbody > tr > .sui-expand-cell, > tbody > tr > .sui-collapse-cell",v(e._expandCollapseDetailTemplate,e))),e.contentTable=n,e._createTbody(e.contentTable,!1)},_createTbody:function(e,t){var i=e.find("> tbody");i.length||(i=x("<tbody/>").appendTo(e)),t&&i.addClass("sui-hide"),e.tbody=i},_createThead:function(e){this.options;var t,i,n,r,o,l,a,s=this.columns,c="",d=e.find(">thead");for(d.length||(d=x("<thead/>").insertBefore(e.tbody)),(n=(n=e.find("tr:has(th):first")).length||(n=d.children().first()).length?n:x("<tr/>").appendTo(d)).attr(M,_e),n.empty(),t=0,i=s.length;t<i;t++)o=(r=s[t]).headerTemplate||r.title||r.field||r,l=!!s[t].sortable,c+="<th "+be(r.headerAttributes)+' data-field="'+s[t].field+'" role="columnheader"'+(l?' tabindex="-1"':"")+">"+o+"</th>";n.html(c),n.addClass("sui-columnheader"),n.find("th").addClass("sui-headercell"),s.length&&this._hasDetailTemplate()&&this._canExpandCollapse()&&(a=x('<th class="sui-indent-cell"/>'),A&&a.html("&nbsp;"),a.prependTo(n)),e.thead=d},_createFakeRow:function(e,t){var i,n,e=e.find(">tbody");if(e.length){for(i=x("<tr/>"),n=0;n<t;n++)x("<td/>").appendTo(i);i.appendTo(e)}},_createColgroup:function(e){var t,i,n,r=this.options,o=this.columns,l=e.find(">colgroup");for((l=l.length?l:x("<colgroup/>").prependTo(e)).html(""),r.columns.length&&this._hasDetailTemplate()&&this._canExpandCollapse()&&x('<col class="sui-indent-col"/>').appendTo(l),t=0,i=o.length;t<i;t++)n=o[t].width,x(n&&0!==parseInt(n,10)?I('<col style="width:{0}"/>',E(n)?n:n+"px"):"<col/>").data(ve,o[t].field).appendTo(l)},scrollTop:function(e){var t=this,i=t.options.scrolling,n=t._hasVirtualScrolling(),r=t.contentWrapper;if(i){if(!T(e))return n?t.virtualizedContainer?t.virtualizedContainer.scrollTop():void 0:x(r).scrollTop();n?t.virtualizedContainer&&t.virtualizedContainer.scrollTop(e):x(r).scrollTop(e)}},_scrolling:function(){var e=this,t=e.options,i=x(e.element),c=(g.isRtl(i),e.dataSource),n=e._hasVirtualScrolling(),r=e.headerWrapper,o=e.contentWrapper,l=r.outerHeight(),u=!(n||"auto"!==t.height&&T(t.height)),t=!n&&T(t.maxHeight)?parseInt(t.maxHeight,10):C,a=0,s=0,d=0;if(r.parent().hasClass("sui-gridheader sui-scrolldiv")?l=r.parent().outerHeight():(r.addClass("sui-headercontent").removeClass("sui-gridheader"),r.wrap('<div class="sui-gridheader sui-scrolldiv"/>'),o.addClass("sui-content").removeClass("sui-gridcontent"),o.wrap('<div class="sui-gridcontent sui-scroller"/>'),A&&(e.headerTable.addClass("sui-table-ie7").removeClass("sui-table"),e.contentTable.addClass("sui-table-ie7").removeClass("sui-table")),(e.scrollableWrapper=n?o.parent():o).on("scroll",v(e._onscroll,e))),e.pagerWrapper&&(a=e.pagerWrapper.outerHeight()),e._toolbar){for(var p=i.find(".sui-toolbar"),h=0,f=0;f<p.length;f++)h+=x(p[0]).outerHeight();s+=h+1}var r=i.find(".sui-group-panel");0<r.length&&(d+=r.outerHeight()),r=u?"auto":i.innerHeight()-l-a-s-d,x(o).add(o.parent()).css(X,r),t&&t<i.innerHeight()&&(r=t-l-a-s-d,x(o).add(o.parent()).css(X,r)),n?(e._ensureVirtualizedContainer(),e.virtualizedContainer.options.total=c.total,e.virtualizedContainer.render(),e._fixHeaderPadding(e.virtualizedContainer.wrapper.parent())):(e._fixHeaderPadding(o),u||!D||A||V||g.hasScrollbarX(o)||o.css(X,r+1))},_fixHeaderPadding:function(e){var t=g.isRtl(this.element),i=this.headerWrapper,e=x(e).get(0);e&&(1<e.scrollHeight-e.clientHeight?(i.parent().css(t?"padding-left":"padding-right",g.scrollbar()-1),i.removeClass("sui-no-y-scroll")):(i.parent().css(t?"padding-left":"padding-right",0),i.addClass("sui-no-y-scroll")))},_ensureVirtualizedContainer:function(){var e,t,i=this;i.virtualizedContainer||(t=(e=i._renderRow(0,i.contentTable.tbody,{})).outerHeight(),e.remove(),i.virtualizedContainer=new _.ui.VirtualizedContainer(i.scrollableWrapper,{itemHeight:t,total:i.dataSource.total,createContainer:function(e){return e.addClass("sui-content").append(i.contentTable).find("tbody").empty()},getItems:v(i._loadVirtualRows,i),skipRender:!0}),i.contentWrapper=i.virtualizedContainer.element.children().eq(0))},_loadVirtualRows:function(e,t,i){var n,r,o,l=this,a=l.dataSource,c=null!=a.skip?a.skip:0,u=null!=a.take?a.take:a.view.length,s=l.virtualizedContainer.container;if(e<t)if(!l._sortingInProgress&&a.remote&&(e<c||c+u<=t))clearTimeout(l._loadWaitTimeout),l._loadWaitTimeout=setTimeout((n=e,r=t,o=i,function(){l._loadWaitTimeout=null,a.skip=n,a.take=r-n,l._loadingVirtualRows=!0,a.one("change.shieldGrid"+l.getInstanceId(),function(){l._loadWaitTimeout||(l._loadingVirtualRows=!1)}),a.read().then(function(){if(!l._loadWaitTimeout){s.empty();for(var e=n;e<r&&e<a.total;e++)l._renderRow(e-n,s,a.view[e-n]);l.loading(!1),o([],!1),l.trigger(K),l.trigger(Y)}})}),100);else{s.empty();for(var d=e;d<t&&d<a.total;d++)l._renderRow(d,s,a.view[d]);i([],!1),l.trigger(K),l.trigger(Y)}else l._renderNoRecords();l._checkIfVerticalScroll(),l._initSelection()},_checkIfVerticalScroll:function(){var e=this,t=e.element.find(".sui-virtualized").get(0),i=e.element.get(0);t.scrollHeight>i.scrollHeight?(e.headerWrapper.parent().css("padding-right","16px"),e.headerWrapper.removeClass("sui-grid-no-gap")):(e.headerWrapper.parent().css("padding-right","0px"),e.headerWrapper.addClass("sui-grid-no-gap"))},_onscroll:function(e){var t,i=this,n=i.scrollableWrapper,r=n.get(0),o=i.headerWrapper,l=n.scrollLeft(),a=o.scrollLeft();g.isRtl(i.element)&&G&&r.clientHeight<r.scrollHeight&&(l+=r.offsetWidth-r.clientWidth),l!=a&&(o.scrollLeft(l),i._footer&&0<(t=x(i._footer).find(".sui-footer-content")).length&&t.scrollLeft(l)),!i.frozenHeaderWrapper||(r=n.scrollTop())!=i.frozenContentWrapper.scrollTop()&&i.frozenContentWrapper.scrollTop(r)},_sorting:function(){var e=this,t=e.options.sorting;e.element;t&&e.columns.length&&(e.sorting&&e.sorting.destroy(),e.sorting=new Re(t,e))},_renderData:function(){var i,e,t=this,n=t.dataSource.view,r=t.options;r.scrolling,w(r.altRows)||r.altRows,r.rowTemplate,r.altRowTemplate,t.contentTable;t._loadingVirtualRows||t.trigger(S,{commandName:Y,cancel:!1}).cancel||(t._sortingInProgress=!1,t.columns.length||(i=[],n.length&&c(n[0],function(e,t){i.push(e)}),r.columns=i,t._resolveColumns(i)),t._filtering(),t._destroyFrozenContainers(),t._createThead(t.headerTable),t._createColgroup(t.headerTable),t._createColgroup(t.contentTable),t.contentTable.tbody.empty(),t._sorting(),t._renderRows(),t._renderFooter(),e=(r=function(e){return x("<div/>").html(e).text()})("&#83;&#104;&#105;&#101;&#108;&#100;&#85;&#73;"),t._refreshColVisibility(),n&&0<n.length&&t._initFrozenCols(),t._initSelection(),t.loading(!1),n=r("&#104;&#116;&#116;&#112;&#58;&#47;&#47;&#119;&#119;&#119;&#46;&#115;&#104;&#105;&#101;&#108;&#100;&#117;&#105;&#46;&#99;&#111;&#109;"),t.trigger(Y),t.dmL||(t.dmL=x('<a href="'+n+'" target="_blank"> by '+e+"</a>"),x(t.dmL).css({color:"grey","text-decoration":"none"}).insertAfter(x(this.element))))},_renderRows:function(){var e,t=this,i=t.dataSource,n=i.view;if(t._markedCells){for(e in t._markedCells)t._markedCells.hasOwnProperty(e)&&(t._markedCells[e].length=0);t._markedCells=null}if(!n||!n.length)return t._renderNoRecords(),t._createGroupPanel(),t._addGroupIndentCells(),void t._initScrolling();t._hasVirtualScrolling()&&!t._sortingInProgress||((i=i.group)&&0<i.length?(t._renderGroupedData(n,0,0),t._addGroupIndentCells(),t._addGroupDataIndentCells(),t.contentTable.addClass("sui-grouped-table")):t._renderRowsAndDetails(n)),t._createGroupPanel(),t._initScrolling()},_addGroupIndentCells:function(){var e,t,i,n,r,o=this,l=o.dataSource.group,a=o.options,a=a.filtering&&a.filtering.enabled;if(l&&0<l.length)for(e=o.headerTable.find(">colgroup").first(),t=o.contentTable.find(">colgroup").first(),i=o.headerTable.thead.find(".sui-columnheader").first(),a&&(n=o.headerTable.find(".sui-filter-row").first()),e.find(".sui-indent-col").remove(),i.find(".sui-columnheader > .sui-indent-cell").remove(),n&&0<n.length&&n.find(".sui-indent-cell").remove(),r=0;r<l.length;r++)x('<col class="sui-indent-col"/>').prependTo(e),x('<th class="sui-indent-cell"/>').prependTo(i),n&&0<n.length&&x('<th class="sui-indent-cell"/>').prependTo(n),x('<col class="sui-indent-col"/>').prependTo(t)},_getVisibleColumnCount:function(){for(var e=this.columns||[],t=e.length,i=0,n=0;n<t;n++)e[n].visible&&i++;return i},_renderNoRecords:function(){var e=this.options,t=this.contentTable;(w(e.noRecordsTemplate)?x('<tr><td class="sui-grid-norecords-cell" colspan="'+this._getVisibleColumnCount()+'" role="gridcell">'+(e.noRecordsText||"No records to display")+"</td></tr>"):x('<td class="sui-grid-norecords-cell" colspan="'+this._getVisibleColumnCount()+'" role="gridcell"/>').append(e.noRecordsTemplate).wrap("<tr/>").parent()).appendTo(t.tbody)},_initScrolling:function(){this.options.scrolling&&!this._sortingInProgress&&this._scrolling()},_initSelection:function(){this._selection()},_addGroupDataIndentCells:function(){for(var e,t,i,n=this.contentTable.get(0).rows,r=0;r<n.length;r++)if(t=x(n[r]),i=parseInt(t.attr("data-group-level"),10),t.hasClass("sui-group-header")){if(1<i)for(e=0;e<i-1;e++)x('<td class="sui-indent-cell"/>').prependTo(t)}else for(e=0;e<i;e++)x('<td class="sui-indent-cell sui-group-intend-cell"/>').prependTo(t)},_renderGroupedData:function(e,t,i){var n,r,o=this;for(o.options.detailExpandCollapse=!1,n=0;n<e.length;n++)(r=e[n]).hasOwnProperty("field")&&r.hasOwnProperty("items")&&r.hasOwnProperty("value")?(o._renderGroupHeader(r,++i),o._renderGroupedData(r.items,t,i),o._renderGroupAggregates(r),i--):(o._renderDataItem(r,t,i),t++)},_renderGroupAggregates:function(c){if(c.aggregate){var e,t,i,n=this,r=n.columns,o={},l=c.aggregate;for(d=0;d<r.length;d++)if(t=r[d].groupFooterTemplate){e=x("<tr class='sui-group-footer' />").appendTo(n.contentTable.tbody);break}if(e){for(d=0;d<r.length;d++)if(i=x("<td class='sui-group-footer-cell' />").appendTo(e),t=r[d].groupFooterTemplate){for(var a,u=r[d].field,s=0;s<l.length;s++)l[s].field==u&&(R(l[s].aggregate)?o.custom=l[s].value:o[l[s].aggregate]=l[s].value);R(t)?(a=t.call(n,i,o),T(a)&&!W(a)&&""!==a&&i.html(a)):i.html(I.call(n,t,o))}for(var p=n.dataSource.group.length,d=0;d<p;d++)e.prepend(x("<td class='sui-indent-cell' />"))}}},_renderGroupHeader:function(e,t){var i=this,n=i.contentTable,r=i._getVisibleColumnCount()+i.dataSource.group.length-t+1,t=x('<tr class="sui-group-header" data-group-level="'+t+'"/>').appendTo(n),n=x('<td class="sui-group-header-cell" colspan="'+r+'"/>').appendTo(t),r=x('<span class="sui-collapse">&#9662;</span>').appendTo(n),t=i._getColumnByField(e.field),t=t?t.groupHeaderTitle:e.field;x('<span class="sui-group-header-text">'+t+": "+e.value+"</span>").appendTo(n),r.on(ee,v(i._expandCollapseHandler,i))},_expandCollapseHandler:function(e){var t=this,e=x(e.currentTarget),i=e.parent().parent();e.hasClass("sui-collapse")?t.trigger(S,{commandName:pe,cancel:!1,row:i}).cancel||(t.collapseGroup(i),e.html("&#9656;"),e.removeClass("sui-collapse").addClass("sui-expand"),t.trigger(pe,{row:i})):t.trigger(S,{commandName:"expand",cancel:!1,row:i}).cancel||(t.expandGroup(i),e.html("&#9662;"),e.removeClass("sui-expand").addClass("sui-collapse"),t.trigger("expand",{row:i}))},_renderDataItem:function(e,t,i){var n=this.contentTable;this._renderRow(t,n,e).attr("data-group-level",i)},_renderRowsAndDetails:function(e){for(var t=this,i=t.contentTable,n=0,r=e.length;n<r;n++)t._renderRow(n,i.tbody,t.dataSource.view[n]),t._hasDetailTemplate()&&!t._canExpandCollapse()&&t._addDetailTemplate(e[n])},_renderRow:function(e,t,i){var c,u,n=this,p=T(t),r=n.options,h=!!w(r.altRows)||r.altRows,o=h&&e%2&&r.altRowTemplate?r.altRowTemplate:r.rowTemplate,f=n.columns;if(o)E(o)&&(o=o.replace(/^\s+/,"").replace(/\s+$/,"")),l=x(I(o,i)),p&&t.append(l);else{var g,l=x('<tr class="'+(h&&e%2?"sui-alt-row":"sui-row")+'"/>').data(me,e);for(3<arguments.length?(o=arguments[3],g=(h=t.find("tr")).eq(o),h.length==o?t.append(l):l.insertBefore(g)):p&&t.append(l),u=0;u<f.length;u++){var a,_,s=f[u],m=s.columnTemplate,v=s.format,b=s.field,C=s.buttons,d=x("<td "+be(s.attributes)+' role="gridcell" tabindex="-1"/>').addClass("sui-cell").appendTo(l);if(d.attr(M,"gridcell").attr(L,"-1"),s.editable||d.attr(O,U),C)for(_=0;_<C.length;_++)n._buildButton(C[_],d,e);else m?R(m)?(a=m.call(n,d,i,e),T(a)&&!W(a)&&""!==a&&d.html(a)):d.html(I.call(n,m,i)):v?d.html(I.call(n,v,b?N(i,b):i)):d.html(""+N(i,b));s.visible||d.css(he,fe)}}return n._hasDetailTemplate()&&n._canExpandCollapse()&&(n.trigger(S,{commandName:"expandButtonCreate",cancel:!1,item:i}).cancel?c=x('<td class="sui-cell sui-expand-cell-disabled"/>'):(c=x('<td class="sui-cell sui-expand-cell"/>'),n._setExpandCollapseCellText(c,r.detailExpandText,r.detailCollapseText)),c.prependTo(l)),l.attr(M,_e),l},_renderFooter:function(){var e,t,c,i,u,n,r=this,p=r.options,o=r.columns,h={},l=r.dataSource.aggregates;for(r._footer&&(x(r._footer).remove(),r._footer=null),i=0;i<o.length;i++)if(t=o[i].footerTemplate){if(p.scrolling&&p.scrolling.virtual){for(var f=x('<div class="sui-footer" style="padding-right:16px;"/>').appendTo(r.element),a=x('<div class="sui-footer-content"/>').appendTo(f),a=x('<table class="sui-table"/>').appendTo(a),g=r.element.find(".sui-headercontent > table > colgroup > col"),_=x("<colgroup/>").appendTo(a),s=0;s<g.length;s++)x(g[s].outerHTML).appendTo(_);a=x("<tbody/>").appendTo(a),r._footer=f}else a=x("<tfoot/>").appendTo(r.contentTable),r._footer=a;e=x('<tr class="sui-grid-footer"/>').appendTo(a);break}if(e){for(i=0;i<o.length;i++)if(u=x('<td class="sui-footer-cell" role="gridcell" tabindex="-1"/>').appendTo(e),t=o[i].footerTemplate){for(c=o[i].field,s=0;s<l.length;s++)l[s].field==c&&(R(l[s].aggregate)?h.custom=l[s].value:h[l[s].aggregate]=l[s].value);R(t)?(n=t.call(r,u,h),T(n)&&!W(n)&&""!==n&&u.html(n)):u.html(I.call(r,t,h))}var d=e.prev();(0<(d=d.length<=0?r.contentTable.find(">tbody > tr").first():d).find(".sui-expand-cell").length||0<d.find(".sui-expand-cell-disabled").length||0<d.find(".sui-indent-cell").length||0<d.find(".sui-collapse-cell").length)&&e.prepend(x("<td/>"))}},_buildButton:function(e,t,i){var n,r=this,o=e.commandName,l=e.click;_.ui.Button&&(n=x('<button type="button">'+e.caption+"</button>").appendTo(t),t.addClass("sui-button-cell"),"delete"===o?(l=r._deleteButtonClicked,w(e.cls)?e.cls="sui-delete":e.cls+=" sui-delete"):"edit"===o&&(r._editing&&(r._editing.type=_e),r._preventClosingEditors=!0,l=r._editButtonClicked,w(e.cls)?e.cls="sui-edit":e.cls+=" sui-edit"),n=new _.ui.Button(n,{cls:e.cls,events:{click:v(l,r,i,t)}}),"delete"!=o&&"edit"!=o||(r._buttons||(r._buttons=[]),r._buttons.push({index:i,button:n})))},_deleteButtonClicked:function(e,t){var i=this.dataSource,n=this.options.editing,r=n?n.confirmation:null;this.trigger(S,{commandName:"delete",cancel:!1,rowIndex:e}).cancel||r&&r.delete&&r.delete.enabled&&!s.confirm(I(r.delete.template,i.view[e]))||(i.removeAtView(e),n&&!n.batch&&i.save(!1),this.trigger("delete",{rowIndex:e}))},_editButtonClicked:function(e,t){var i=this,n=i._editing,r=i.dataSource,o=x(t).parent();i.trigger(S,{commandName:de,cancel:!1,row:o,cell:t,index:i._getRowIndex(o)}).cancel||(i._editingInProcess=!0,r.tracker&&r.tracker.changes&&r.tracker.changes.added&&0<r.tracker.changes.added.length?r.cancel():"popup"!=i.options.editing.mode?(i._closeAllEditedRows(),n&&n.options.enabled&&n._putRowInEditMode(o,0),i._changeEditColumnButtons(e,t)):_.ui.Window&&i._initializePopupForm(e),i.trigger(de,{row:x(t).parent(),cell:t,index:i._getRowIndex(x(t).parent())}))},_initializePopupForm:function(c,u){for(var e,t=this,i=t._editing,n=t.dataSource,p=x('<div class="sui-modal-popup-edit-window"/>').appendTo(m.body),r=x('<div class="sui-edit-form-container"/>'),h=t.options.columns,o=0;o<h.length;o++)if(!1!==(e=h[o]).editable&&e.field){var f=T(n.schema.options.fields)?n.schema.options.fields[e.field].type:String,g=n.editView(c).data,l=N(g,e.field),a=(t._windowEditingIndex=c,x('<div class="sui-edit-form-label"><label for="'+e.field+'">'+(e.caption||e.field)+"</label></div>").appendTo(r),x('<div class="sui-edit-field"></div>').appendTo(r));if(e.editor)i._instantiateCustomEditor(e,a,g,0,!1,e.field);else switch(f){case Number:i._instantiateNumeric(a,l,!1,e.field);break;case Date:i._instantiateDatePicker(a,l,!1,e.field);break;case String:i._instantiateTextBox(a,l,!1,e.field);break;case Boolean:i._instantiateCheckBox(a,l,!1,e.field)}}var s=x('<div class="sui-update-buttons sui-popup-buttons"></div>').appendTo(r),d=x("<button type='button'>Save</button>").appendTo(s),s=x("<button type='button'>Cancel</button>").appendTo(s);_.ui.Button&&(d=new _.ui.Button(d,{events:{click:v(t._updateButtonClicked,t)}}),s=new _.ui.Button(s,{events:{click:v(t._cancelButtonClicked,t)}}),t._buttons=[],t._buttons.push({index:1e4,button:d}),t._buttons.push({index:1e4,button:s})),r.appendTo(m.body),t.popupWindow=new _.ui.Window(p,{title:u?"Insert":"Edit",draggable:{enabled:!1},events:{close:v(t._cancelButtonClicked,t)},height:x(".sui-edit-form-container").height()+57,modal:!0}),t.popupWindow.content(r),t.popupWindow.resize({width:x(".sui-modal-popup-edit-window").width(),height:x(".sui-edit-form-container").height()+66}),t.trigger(u?"insertWindowOpen":"editWindowOpen")},_changeEditColumnButtons:function(e,t){var i=this;i._removeButtons(t,e),i._buildButton({caption:"Update",click:i._updateButtonClicked,cls:"sui-update"},t,e),i._buildButton({caption:"Cancel",click:i._cancelButtonClicked,cls:"sui-cancel"},t,e),t.addClass("sui-update-buttons")},_removeButtons:function(e,t){for(var i=this._buttons.length;i--;)this._buttons[i].index==t&&(this._buttons[i].button.destroy(),this._buttons.splice(i,1));e.removeClass("sui-update-buttons").empty()},_updateButtonClicked:function(e,t){var i=this;w(i._windowEditingIndex)||(e=i._windowEditingIndex),i._updateItem(e,t),i._editing._errorDuringEdit?i._editing._errorDuringEdit=!1:(i._putRowInViewMode(e,t),"popup"===i.options.editing.mode&&i._removePopupWindow())},_updateItem:function(e,c){var t,i,n,r,o,l,a=this,s=a.dataSource,d=(a.pager,[]),u=!0;if(s.group&&0<s.group.length&&"popup"!=a.options.editing.mode)for(r=a.contentTable.find(".sui-row, .sui-alt-row"),o=a.contentTable.find("tr").get(e),l=0;l<r.length;l++)if(r[l]==o){e=l;break}for(n in(t=s.editView(e)).data)t.data.hasOwnProperty(n)&&(null!=t.data[n]&&(u=!1),a._editing._editors[n]&&("custom"==a._editing._editors[n]?(i=a.trigger("getCustomEditorValue",{field:n,value:null}).value,a._editing._editors[n]=null):i=a._editing._editors[n].value?a._editing._editors[n].value():a._editing._editors[n].checked?a._editing._editors[n].checked():C,t.data[n]!=i&&d.push(n),!w(i)&&null!=i||(i=a._getDefaultValue(n)),t.set(n,i)));if(!a._editing._errorDuringEdit)return a._editing.options.batch||a.trigger(S,{commandName:ce,cancel:!1}).cancel||(s.save(!1),a.trigger(ce)),a._populateInsertedItem=u,d;d.length=0},_getDefaultValue:function(e){var t=this.dataSource.schema;return t&&t.options.fields?(t=t.options.fields,_.Model.def(N(t,e+".type"),N(t,e+".def"),N(t,e+".nullable"))):""},_closeAllEditedRows:function(){var e,t=this.contentTable.find(".sui-editable-cell");0<t.length&&(t=t.get(0).parentNode.rowIndex,e=this.contentTable.find(".sui-update-buttons").get(0),this._cancelButtonClicked(t,x(e)))},_cancelButtonClicked:function(e,t){var i,n,r,o=this,l=o.dataSource;if(!o.trigger(S,{commandName:se,cancel:!1,rowIndex:e,cell:t}).cancel){if(l.tracker&&l.tracker.changes&&l.tracker.changes.added&&0<l.tracker.changes.added.length)l.cancel(),"popup"===o.options.editing.mode&&o._removePopupWindow();else if("popup"!=o.options.editing.mode)o._putRowInViewMode(e,t);else{for(i=o.options.columns,n=0;n<i.length;n++)(r=o._editing._editors[i[n].field])&&(R(r.destroy)&&o._editing._editors[i[n].field].destroy(),delete o._editing._editors[i[n].field]);o._removePopupWindow()}o.trigger(se)}},_removePopupWindow:function(){this._removeButtons(x(".sui-window .sui-update-buttons"),1e4),this.popupWindow.destroy(),x(".sui-modal-popup-edit-window").remove()},_getRowIndex:function(e){e=x(e).data(me);return T(e)?e:-1},_putRowInViewMode:function(e,c){var t,i=this,n=i.options,u=n.navigation,r=i.dataSource,o=i.contentTable,l=e,a=-1;if(r.group&&0<r.group.length&&"popup"!=n.editing.mode)for(t=o.find(">tbody > tr.sui-row, >tbody > tr.sui-alt-row"),s=o.find(">tbody > tr").get(e),d=0;d<t.length;d++)if(t[d]==s){l=d;break}r=r.view[l],c&&"popup"!=n.editing.mode&&i._removeButtons(c,e);var s=o.find(">tbody > tr").get(e),p=parseInt(x(s).attr("data-group-level"),10);for(u&&(a=x(s).children("td").index(i._activeCell)),i._editing._destroyRow(e),s=i._renderRow(l,i.contentTable.tbody,r,e),u&&-1<a&&(i._activeCell=x(s).children("td").eq(a),x(i._activeCell).focus()),d=0;d<p;d++)x('<td class="sui-indent-cell sui-group-intend-cell"/>').prependTo(s);if(p&&s.attr("data-group-level",p),i._editing.options.batch){var h=s.children(".sui-cell");if(i._markedCells&&i._markedCells[e])for(var f,g,_=i._markedCells[e],d=0;d<_.length;d++)f=_[d],g=x(h[f]).html(),x(h[f]).html('<span class="sui-updated-marker"/>'+g)}},_renderUpdateMarkers:function(e,t){for(var i,n,r=this,o=r.columns,l=r.contentTable.find(">tbody > tr").eq(t).children(".sui-cell"),a=0;a<e.length;a++)for(i=0;i<o.length;i++)o[i].field===e[a]&&(n=x(l[i]).html(),x(l[i]).html('<span class="sui-updated-marker"/>'+n),r._markedCells?r._markedCells[t]||(r._markedCells[t]=[]):(r._markedCells={},r._markedCells[t]=[]),r._markedCells[t].push(i))},_selection:function(){var e=this,t=e.options;t.selection&&(e._selectable&&e._selectable.destroy(),e._selectable=new Ee(t.selection,e))},_filtering:function(){var e=this,t=e.options;t.filtering&&t.filtering.enabled&&(e._filter&&e._filter.destroy(),e._filter=new Ne(e))},_paging:function(e){var t=this,i=t.element;_.ui.Pager&&e&&(o(e)&&e instanceof _.ui.Pager?(t.pager=e,t.pager.dataSource=t.dataSource,t.pager.element.appendTo(i)):((i=x("<div/>").appendTo(i)).addClass("sui-pager"),t.pagerWrapper=i,t.pager=new _.ui.Pager(i.get(0),y({},e,{dataSource:t.dataSource}))))},_reorder:function(){this.options.columnReorder&&(this._columnReorder=new ze(this))},_expandCollapseDetailTemplate:function(e){var t=x(e.target).closest(".sui-row",this.contentTable);t.length||(t=x(e.target).closest(".sui-alt-row",this.contentTable)),this._toggleDetailTemplate(t)},_toggleDetailTemplate:function(e){var t=this,i=t.contentTable.find("tr:first").parent().children().not(".sui-detail-row"),i=p(e[0],i),n=t.dataSource.view,r=e.next(),o=t.options;r&&r.hasClass("sui-detail-row")?(r.toggle(),r=x(e.get(0).cells[0]),t._toggleClasses(r,"sui-expand-cell","sui-collapse-cell"),t._setExpandCollapseCellText(r,o.detailExpandText,o.detailCollapseText)):t._addDetailTemplate(n[i],e)},_setExpandCollapseCellText:function(e,t,i){w(i)&&(i="-"),w(t)&&(t="+");var n=this.options.detailCollapseCssClass,r=this.options.detailExpandCssClass,n=w(n)?"":" class = '"+n+"'",r=w(r)?"":" class = '"+r+"'";e.hasClass("sui-collapse-cell")?e.html("<span"+n+">"+i+"</span>"):e.hasClass("sui-expand-cell")&&e.html("<span"+r+">"+t+"</span>")},_addDetailTemplate:function(e,t){var i=this,n=i.options,r=x("<tr class='sui-detail-row'/>"),o=(i._canExpandCollapse()&&(o=x("<td class='sui-cell sui-indent-cell'/>"),A&&o.html("&nbsp;"),o.appendTo(r)),x('<td class="sui-detail-cell" colspan="'+i._getVisibleColumnCount()+'"></td>'));i.trigger(S,{commandName:te,cancel:!1,detailCell:o,item:e}).cancel||(o.appendTo(r),n.detailTemplate&&o.html(I(n.detailTemplate,e)),t?r.insertAfter(t):r.appendTo(i.contentTable.tbody),i.trigger(te,{detailCell:o,item:e}),t&&(r=x(t.get(0).cells[0]),i._toggleClasses(r,"sui-expand-cell","sui-collapse-cell"),i._setExpandCollapseCellText(r,n.detailExpandText,n.detailCollapseText)))},_toggleClasses:function(e,t,i){e.hasClass(t)?(e.removeClass(t),e.addClass(i)):(e.removeClass(i),e.addClass(t))},_resizing:function(){this.options.resizing&&this.options.scrolling&&(this._columnResizing=new Be(this))},_initToolbar:function(){var e=this.options;e.toolbar&&(this._toolbar=new Se(e.toolbar,this))},_initEditing:function(){var e=this.options;e.editing&&(this._buttons=[],this._editing=new ke(e.editing,this))},_refreshOnSort:function(){this._sortingInProgress=!0,this.dataSource.read()},_dsStartHandler:function(){this.loading(!0)},_initNavigation:function(){var t=this,e=t.element,i=t._eventNS+"nav";t.options.navigation&&(e.addClass("sui-grid-nav").off(i).on("focus"+i,".sui-headercell[tabindex], .sui-filter-cell[tabindex], .sui-cell[tabindex], .sui-footer-cell[tabindex]",function(e){x(t._activeCell).attr(L,"-1"),t._activeCell=x(this),x(t._activeCell).attr(L,"0")}),t._initActiveCell(),x(t._activeCell).attr(L,"0"))},_initActiveCell:function(){var e=this;(x(e._activeCell).length<=0||!x(e._activeCell).is(":visible"))&&(e._activeCell=x(e.element).find(".sui-cell[tabindex]").first(),x(e._activeCell).length<=0&&(e._activeCell=x(e.element).find(".sui-headercell[tabindex]").first()))},_cellEditable:function(e){return x(e).attr(O)!=U&&!!x(e).hasClass("sui-editable-cell")},_keydown:function(e){var t,i=this,n=i.element,r=e.keyCode,o=i.options,l=o.navigation,c=o.editing,u=o.selection,p=e.ctrlKey,a=(e.shiftKey,i.pager),s=!1,d=i._cellEditable(i._activeCell);if("button"!==x(e.target).prop("tagName").toLowerCase()||r!=h.ENTER&&r!=h.SPACE){switch(r){case h.UP:l&&(d||(t=i._getNextNavCell("up"))&&(x(t).focus(),s=!0));break;case h.DOWN:l&&(d||(t=i._getNextNavCell("down"))&&(x(t).focus(),s=!0));break;case h.LEFT:l&&(d||(t=i._getNextNavCell("left"))&&(x(t).focus(),s=!0));break;case h.RIGHT:l&&(d||(t=i._getNextNavCell("right"))&&(x(t).focus(),s=!0));break;case h.HOME:l&&(d||(t=p?x(n).find(".sui-cell[tabindex], .sui-headercell[tabindex], .sui-footer-cell[tabindex]").first():i._getNextNavCell("first"))&&(x(t).focus(),s=!0));break;case h.END:l&&(d||(t=p?x(n).find(".sui-cell[tabindex], .sui-headercell[tabindex], .sui-footer-cell[tabindex]").last():i._getNextNavCell("last"))&&(x(t).focus(),s=!0));break;case h.ENTER:l&&(x(i._activeCell).hasClass("sui-cell")?c&&(d?i._updateButtonClicked(x(i._activeCell).parent().get(0).rowIndex,x(i._activeCell)):i._editing._editingTriggered(e),s=!0):x(i._activeCell).hasClass("sui-headercell")&&(0<x(i._activeCell).children(".sui-link").length&&(i.one(Y,v(i.focus,i)),x(i._activeCell).children(".sui-link").first().click()),s=!0));break;case h.PAGEUP:l&&(a&&a.hasPrev()&&(i.one(Y,v(i.focus,i)),i.pager.prev()),s=!0);break;case h.PAGEDOWN:l&&(a&&a.hasNext()&&(i.one(Y,v(i.focus,i)),i.pager.next()),s=!0);break;case h.ESC:d&&(i.cancelEditing(),l&&x(i._activeCell).focus(),s=!0);break;case h.SPACE:l&&u&&i._selectable&&!d&&(i._selectable.elements=xe(e,i.contentTable,i.frozenContentTable),i._selectable.elements&&i._selectable._performAndProcessSelection(e),s=!0)}s&&e.preventDefault()}},_getNextNavCell:function(e){var t,i=this,n=(i.element,i._activeCell);return(!n||x(n).length<=0)&&(n=x(i.element).find('.sui-cell[tabindex="0"], .sui-headercell[tabindex="0"]').first()),"left"==e?t=i.__findPrevFocusCell(n):"right"==e?t=i.__findNextFocusCell(n):"up"==e?t=i.__findAboveFocusCell(n):"down"==e?t=i.__findBelowFocusCell(n):"first"==e?t=i.__findFirstFocusCell(n):"last"==e&&(t=i.__findLastFocusCell(n)),t&&0<x(t).length?x(t).get(0):null},__findFirstFocusCell:function(e){for(var t,i=this.__findPrevFocusCell(e);i&&0<i.length;)t=i,i=this.__findPrevFocusCell(i);return t},__findLastFocusCell:function(e){for(var t,i=this.__findNextFocusCell(e);i&&0<i.length;)t=i,i=this.__findNextFocusCell(i);return t},__findPrevFocusCell:function(e){for(var t=x(e).prev();t&&0<t.length;){if(Ce(t,L))return t;t=x(e).prev()}return C},__findNextFocusCell:function(e){for(var t=x(e).next();t&&0<t.length;){if(Ce(t,L))return t;t=x(e).next()}return C},__findAboveFocusCell:function(e){for(var t,i=x(e).closest("tr"),n=x(e).index(),r=this.headerTable.find(">thead > tr").add(this.contentTable.find(">tbody > tr")).add(this.contentTable.find(">tfoot > tr")),o=x(r).index(i);0<o;){if(Ce(t=x(x(r)[o-1]).children().eq(n),L))return t;o--}return C},__findBelowFocusCell:function(e){for(var t,i=x(e).closest("tr"),n=x(e).index(),r=this.headerTable.find(">thead > tr").add(this.contentTable.find(">tbody > tr")).add(this.contentTable.find(">tfoot > tr")),o=x(r).index(i);o<r.length-1;){if(Ce(t=x(x(r)[o+1]).children().eq(n),L))return t;o++}return C},focus:function(){var e=this;e.options.navigation?(e._initActiveCell(),0<x(e._activeCell).length?x(e._activeCell).focus():ye(e.element)):ye(e.element)},refresh:function(e){var t=this,i=e?e.dataSource:null,n=t._eventNS;e=_.extend([a],t.options,e),i&&(e.dataSource=i);var i=t.element,r=e.scrolling,o=t.pager?t.pager.options:e.paging,l=0;r&&t.contentWrapper&&(l=t.contentWrapper.get(0).scrollLeft),t._destroyInternal(),r=t.dataSource=k.create(e.dataSource),i.attr(M,"grid").on(Q+n,v(t._keydown,t)),e.editing||i.attr(O,U),r.on("change"+n,v(t._renderData,t)).on("start"+n,v(t._dsStartHandler,t)),x(s).on("resize"+n,v(t._resizeHandler,t)),t._resolveColumns(e.columns),t._createWrappers(),t._createHeaderTable(),t._createContentTable(),t._initToolbar(),t._initEditing(),t._filtering(),t._paging(o),t._resizing(),t._reorder(),t._initNavigation(),t.pager||t.dataSource.read(),t._sorting(),l&&(t.contentWrapper.get(0).scrollLeft=l)},loading:function(e,t){function i(){n.loadingPanel&&n.loadingPanel.show()}var n=this;_.ui.LoadingPanel&&(e?(n.loadingPanel||(n.loadingPanel=new _.ui.LoadingPanel(n.element.get(0))),t?i():n.loadingPanelTimeout=setTimeout(i,50)):n.loadingPanel&&(clearTimeout(n.loadingPanelTimeout),n.loadingPanelTimeout=null,n.loadingPanel.hide()))},select:function(e){var t=this._selectable;return(e=E(e)?this.contentTable.find(e):x(e)).length?(t.multiple||(t.clear(),e=e.first()),void t.select(e)):t.select()},selectedRowIndices:function(){var t=this,i=[],n=[];return t.contentTable.children("tbody").children(".sui-row, .sui-alt-row").each(function(){var e;x(this).hasClass(b)&&(e=t._getRowIndex(x(this)),i.push(e),n.push(0<=e?t.dataSource.getDataIndex(e):e))}),{view:i,data:n}},clearSelection:function(){this._selectable.clear()},sort:function(e,t,i){this.sorting&&this.sorting._sort(e,t,i)},_getItemRow:function(e){return t(e)?x(this.contentTable.children("tbody").children(".sui-row, .sui-alt-row").get(e)):x(e)},expandRow:function(e){var e=this._getItemRow(e),t=e.next();t.hasClass("sui-detail-row")&&t.css(he)!=fe||this._toggleDetailTemplate(e)},collapseRow:function(e){var e=this._getItemRow(e),t=e.next();t.hasClass("sui-detail-row")?t.css(he)!=fe&&this._toggleDetailTemplate(e):(this._toggleDetailTemplate(e),e.next().toggle())},reorderColumn:function(e,t,i){var n,r=this.element,o=this.columns,l=this.options.columns||[],a=this.headerWrapper,s="before",a=a.find(".sui-columnheader").first().find(".sui-indent-cell").length;if(e=+e,t=+t,isNaN(e)||isNaN(t)||e<0||t<0||e>o.length-1||t>o.length-1)throw new Error("Invalid index in column reorder.");e!==t&&(e<t&&(s="after"),!(n=o[e]).visible||!i&&n.locked||(n=o.splice(e,1)[0],o.splice(t,0,n),n=l.splice(e,1)[0],l.splice(t,0,n),t+=a,r.find(".sui-gridheader col:nth-child("+((e+=a)+1)+")").add(r.find(".sui-gridheader .sui-columnheader th:nth-child("+(e+1)+")")).add(r.find(".sui-gridheader .sui-filter-row th:nth-child("+(e+1)+")")).add(r.find(".sui-gridcontent col:nth-child("+(e+1)+")")).add(r.find(".sui-gridcontent tr:not(.sui-detail-row) td:nth-child("+(e+1)+")")).each(function(){x(this).parent().children().eq(t)[s](this)})))},addRow:function(e){return this.dataSource.add(T(e)?e:{})},insertRow:function(e,t){return this.dataSource.insertView(e,T(t)?t:{})},saveChanges:function(){this.dataSource.save()},revertChanges:function(){this.dataSource.cancel()},dataItem:function(e){return this.dataSource.view[e]},editCell:function(e,t){e=this.contentTable.find(">tbody > tr").eq(e).children("td").eq(t).get(0);this._editingInProcess=!0,this._editing._putCellInEditMode(e)},editRow:function(e){e=this.contentTable.find(">tbody > tr").eq(e).get(0);this._editingInProcess=!0,this._editing._putRowInEditMode(x(e),0)},editRowPopup:function(e){this._editingInProcess=!0,_.ui.Window&&this._initializePopupForm(e)},cancelEditing:function(){var e,t=this.contentTable.find(".sui-editable-cell");0<t.length&&(t=t.get(0).parentNode.rowIndex,e=this.contentTable.find(".sui-update-buttons").get(0),this._putRowInViewMode(t,x(e))),this._editingInProcess=!1},deleteRow:function(e){this.dataSource.removeAtView(e)},filter:function(){var e=this.dataSource,t=[].slice.call(arguments);if(!(0<t.length))return e.filter;e.filter=t[0],e.read()},group:function(e,t,i,n){var r=this.dataSource.group;r?r.splice(t,0,{field:e,order:i,aggregates:n}):(this.dataSource.group=[],this.dataSource.group.push({field:e,order:i,aggregates:n}))},ungroup:function(e){var t,i=this.dataSource.group,n=!1;for(this.headerTable.thead.find(".sui-columnheader > .sui-indent-cell").remove(),t=0;t<i.length;t++)if(i[t].field==e){i.splice(t,1),0===i.length&&(this.dataSource.group=null),n=!0;break}n&&this.dataSource.read()},collapseGroup:function(e){for(var t=!0,i=parseInt(e.attr("data-group-level"),10);t;)0<(e=e.next().css(he,fe)).next().length&&!(parseInt(e.next().attr("data-group-level"),10)<=i&&e.next().hasClass("sui-group-header"))||(t=!1)},expandGroup:function(e){for(var t=!0,i=parseInt(e.attr("data-group-level"),10);t;){if((e=e.next().css(he,"")).hasClass("sui-group-header")&&0<e.find(".sui-expand").length)return;0<e.next().length&&!(parseInt(e.next().attr("data-group-level"),10)<=i&&e.next().hasClass("sui-group-header"))||(t=!1)}},_getColumnByField:function(e){for(var t=this.columns||[],i=0;i<t.length;i++)if(t[i].field===e)return t[i];return C},_refreshColVisibility:function(){for(var e=this.columns,t=e.length,i=!1,n=0;n<t;n++)if(!e[n].visible){i=!0;break}if(i)for(n=0;n<t;n++)e[n].visible?this.showColumn(e[n].field):this.hideColumn(e[n].field)},_getNextVisibleColumnRealIndex:function(e){for(var t=this.columns,i=e.index+1;i<t.length;i++)if(t[i].visible)return i;return-1},isHidden:function(e){e=this._getColumnByField(e);return e?!e.visible:C},hideColumn:function(e){var t=this,i=(x(t.element),t._getColumnByField(e));i&&!i.locked&&(x(t.headerTable).find("colgroup").first().find("col").each(function(){if(x(this).data(ve)==e)return t._gridColumns[e].headerCol=x(this),x(this).detach(),!1}),x(t.contentTable).find("colgroup").first().find("col").each(function(){if(x(this).data(ve)==e)return t._gridColumns[e].contentCol=x(this),x(this).detach(),!1}),t._changeColumnVisibility(e,"hide"),i.visible=!1,t._afterColumnVisibilityChange())},showColumn:function(e){var t,i,n,r,o,l=this,a=(x(l.element),l._getColumnByField(e)),s=x(l.headerTable).find("colgroup"),d=x(l.contentTable).find("colgroup");a&&!a.locked&&(t=l._gridColumns[e],i=t.headerCol,n=t.contentCol,-1===(r=l._getNextVisibleColumnRealIndex(t))?(s.append(i),d.append(n)):(o=l.columns[r].field,s.find("col").each(function(){if(x(this).data(ve)==o)return x(i).insertBefore(x(this)),!1}),d.find("col").each(function(){if(x(this).data(ve)==o)return x(n).insertBefore(x(this)),!1})),l._changeColumnVisibility(e,"show"),t.headerCol=t.contentCol=C,a.visible=!0,l._afterColumnVisibilityChange())},_changeColumnVisibility:function(t,e){var i,n,r=x(this.element),o=x(this.headerTable).find(".sui-columnheader").first(),l=x(this.headerTable).find(".sui-filter-row").first(),a=this._footer,s=-1;if(o.length&&x(o).children().each(function(e){if(x(this).attr("data-field")==t)return s=e,!1}),!(s<0))for(x(o.find("th")[s])[e](),x(l.find("th")[s])[e](),a&&x(a.find("td")[s])[e](),0===(i=0===(i=r.find("> .sui-gridcontent > table > tbody > tr")).length?r.find("> .sui-gridcontent > .sui-virtualized > table > tbody > tr"):i).length&&(i=r.find("> .sui-gridcontent > .sui-content > table > tbody > tr")),n=0;n<i.length;n++)x(i[n].cells[s])[e]()},_afterColumnVisibilityChange:function(){var e=this._getVisibleColumnCount(),t=this.dataSource,i=t.group?t.group.length:0;x(this.contentTable).find(".sui-grid-norecords-cell, .sui-detail-cell, .sui-group-header-cell").each(function(){x(this).hasClass("sui-group-header-cell")?x(this).attr("colspan",e+i-f(x(this).parent().attr("data-group-level"))+1):x(this).attr("colspan",e)})},_getVisibleColumnFields:function(){for(var e=this.columns||[],t=e.length,i=[],n=0;n<t;n++)e[n].visible&&i.push(e[n].field);return i},_initFrozenCols:function(){for(var e=this.columns,t=e.length,i=!1,n=0;n<t;n++)if(e[n].locked){i=!0;break}if(i)for(this._initFrozenContainers(),n=0;n<t;n++)e[n].locked&&this.lockColumn(e[n].field)},_initFrozenContainers:function(){var e=this,t=e.options,i=t.scrolling;e.frozenHeaderWrapper||(e.frozenHeaderWrapper=x('<div class="sui-header-locked"/>').prependTo(i?e.headerWrapper.parent():e.headerWrapper),e.frozenHeaderTable=x('<table class="sui-table sui-non-selectable"'+(A?' cellspacing="0"':"")+'><colgroup/><thead><tr class="sui-columnheader"/>'+(t.filtering&&t.filtering.enabled?'<tr class="sui-filter-row"/>':"")+'</thead><tbody class="sui-hide"/></table>').appendTo(e.frozenHeaderWrapper)),e.frozenContentWrapper||(e.frozenContentWrapper=x('<div class="sui-content-locked"/>').prependTo(i?e.contentWrapper.parent():e.contentWrapper),e.frozenContentWrapper.height(e.frozenContentWrapper.parent().find(".sui-content").first().height()),e.frozenContentTable=x('<table class="sui-table'+(t.rowHover?" sui-hover":"")+'"'+(A?' cellspacing="0"':"")+'><colgroup/><tbody/><tfoot><tr class="sui-grid-footer"/></tfoot></table>').appendTo(e.frozenContentWrapper),e._hasDetailTemplate()&&(e._canExpandCollapse()&&e.frozenContentTable.addClass("sui-expandable"),e.frozenContentTable.on(ee+e._eventNS,"> tbody > tr > .sui-expand-cell, > tbody > tr > .sui-collapse-cell",v(e._expandCollapseDetailTemplate,e))))},_destroyFrozenContainers:function(){var e=this;e.frozenHeaderWrapper&&(x(e.frozenHeaderWrapper).remove(),e.frozenHeaderWrapper=null),e.frozenContentWrapper&&(x(e.frozenContentWrapper).find(".sui-table").off(e._eventNS),x(e.frozenContentWrapper).remove(),e.frozenContentWrapper=null)},isLocked:function(e){e=this._getColumnByField(e);return e?e.locked:C},lockColumn:function(t){var e,i=this,n=x(i.element),r=i.options.filtering,o=i._getColumnByField(t),l=-1,a=i._footer;if(o&&o.visible){if(x(i.headerTable).find("colgroup").first().find("col").each(function(){if(x(this).data(ve)==t)return x(this).appendTo(x(i.frozenHeaderTable).find("colgroup")),!1}),x(i.contentTable).find("colgroup").first().find("col").each(function(){if(x(this).data(ve)==t)return x(this).appendTo(x(i.frozenContentTable).find("colgroup")),!1}),x(i.headerTable).find(".sui-columnheader").children().each(function(e){if(x(this).attr("data-field")==t)return l=e,x(this).appendTo(x(i.frozenHeaderTable).find(".sui-columnheader")),!1}),r&&r.enabled&&0<=l&&x(i.headerTable).find(".sui-filter-row").children().each(function(e){if(x(this).attr("data-field")==t)return x(this).appendTo(x(i.frozenHeaderTable).find(".sui-filter-row")),!1}),a&&0<=l&&(r=x(i.frozenContentTable).find("> tfoot > .sui-grid-footer"),x(a).find(".sui-grid-footer td:eq("+l+")").appendTo(r)),0<=l){0===(e=0===(e=n.find("> .sui-gridcontent > table > tbody > tr")).length?n.find("> .sui-gridcontent > .sui-virtualized > table > tbody > tr"):e).length&&(e=n.find("> .sui-gridcontent > .sui-content > table > tbody > tr"));for(var s=x(i.frozenContentTable).find("tbody"),c=0<s.children().length,d=0;d<e.length;d++){var u=null,u=c?x(s).children()[d]:x(e[d]).clone(!0,!1).empty().appendTo(s);x(e[d].cells[l]).appendTo(u)}}o.locked=!0,i._adjustWidthsLocked(),i._adjustHeightsLocked()}},unlockColumn:function(e){var i,n,r,t,c,u,o=this,l=(x(o.element),o.options.filtering),a=o.columns,s=o._footer,p=o._getColumnByField(e),d=-1,h=-1;if(p&&p.visible){for(x(o.frozenHeaderTable).find("colgroup").first().children().each(function(){if(x(this).data(ve)==e)return i=x(this),d=x(this).index(),!1}),x(o.frozenContentTable).find("colgroup").first().children().each(function(){if(x(this).data(ve)==e)return n=x(this),h=x(this).index(),!1}),t=0;t<a.length;t++)if(a[t].field===e){t<=a.length-2&&(r=a[t+1].field);break}r?(x(o.headerTable).find("> colgroup col").each(function(e){var t;if(x(this).data(ve)===r)return x(i).insertBefore(x(this)),x(o.frozenHeaderTable).find(".sui-columnheader th:eq("+d+")").insertBefore(x(o.headerTable).find(".sui-columnheader th:eq("+e+")")),l&&l.enabled&&x(o.frozenHeaderTable).find(".sui-filter-row th:eq("+d+")").insertBefore(x(o.headerTable).find(".sui-filter-row th:eq("+e+")")),s&&(t=x(o.frozenContentTable).find("> tfoot > .sui-grid-footer"),x(t).find("td:eq("+d+")").insertBefore(x(s).find(".sui-grid-footer td:eq("+e+")"))),!1}),x(o.contentTable).find("> colgroup col").each(function(t){var i;if(x(this).data(ve)===r)return x(n).insertBefore(x(this)),i=x(o.contentTable).find(">tbody").first().children(),x(o.frozenContentTable).find(">tbody > tr").each(function(e){x(this).find("td:eq("+h+")").insertBefore(x(i[e]).find("td:eq("+t+")"))}),!1})):(x(o.headerTable).find("colgroup").append(i),x(o.contentTable).find("colgroup").append(n),x(o.frozenHeaderTable).find(".sui-columnheader th:eq("+d+")").appendTo(x(o.headerTable).find(".sui-columnheader")),l&&l.enabled&&x(o.frozenHeaderTable).find(".sui-filter-row th:eq("+d+")").appendTo(x(o.headerTable).find(".sui-filter-row")),s&&(c=x(o.frozenContentTable).find("> tfoot > .sui-grid-footer"),x(c).find("td:eq("+d+")").appendTo(x(s).find(".sui-grid-footer"))),u=x(o.contentTable).find(">tbody").first().children(),x(o.frozenContentTable).find(">tbody > tr").each(function(e){x(this).find("td:eq("+h+")").appendTo(x(u[e]))})),p.locked=!1,o._adjustWidthsLocked(),o._adjustHeightsLocked()}},_adjustWidthsLocked:function(){var e=this;e.frozenHeaderWrapper&&(x(e.headerWrapper).parent().css(g.isRtl(e.element)?"padding-left":"padding-right",0),x(e.headerWrapper).outerWidth(x(e.headerWrapper).parent().innerWidth()-x(e.frozenHeaderWrapper).outerWidth()-g.scrollbar()),x(e.contentWrapper).outerWidth(x(e.contentWrapper).parent().innerWidth()-x(e.frozenContentWrapper).outerWidth()-1))},_adjustHeightsLocked:function(c){var e,t,i,u,n,r,o,l,a,s=this,d=s.options.filtering,p=s._footer;if(s.frozenHeaderWrapper){for((o=x(s.frozenHeaderTable).find("tr").first()).height("auto"),l=f(o.height()),(a=x(s.headerTable).find("tr").first()).height("auto"),(n=f(a.height()))<l?(o.height(l),a.height(l)):l<n&&(o.height(n),a.height(n)),d&&d.enabled&&((l=x(s.frozenHeaderTable).find("tr.sui-filter-row").first()).height("auto"),o=f(l.height()),(a=x(s.headerTable).find("tr.sui-filter-row").first()).height("auto"),(n=f(a.height()))<o?(l.height(o),a.height(o)):o<n&&(l.height(n),a.height(n))),e=x(s.frozenContentTable).find("tbody").first().children(),i=x(s.contentTable).find("> tbody").children(),r=0;r<i.length;r++)x(e[r]).height("auto"),t=f(x(e[r]).height()),x(i[r]).height("auto"),(u=f(x(i[r]).height()))<t?(x(e[r]).height(t),x(i[r]).height(t)):t<u&&(x(e[r]).height(u),x(i[r]).height(u));p&&(d=x(s.frozenContentTable).find("> tfoot > .sui-grid-footer"),o=x(p).find(".sui-grid-footer").first(),d.height("auto"),l=f(d.height()),o.height("auto"),(a=f(o.height()))<l?(d.height(l),o.height(l)):l<a&&(d.height(a),o.height(a))),c&&s._initScrolling()}},_getOtherRow:function(e){var t,i,n;if(this.frozenHeaderWrapper){if(t=x(e).index(),i=x(this.frozenContentTable).find("tbody").first().children(),n=x(this.contentTable).find("> tbody").children(),x(e)[0]===x(i)[t])return x(n)[t];if(x(e)[0]===x(n)[t])return x(i)[t]}return null},exportExcel:function(){this._doExcelExport()},exportPdf:function(){this._doPdfExport()},exportCsv:function(){this._doCsvExport()},_doExcelExport:function(){var u,p,h,f,g,_,e,t,m=this,i=m.options,b=[],v=[];B&&((e=m.trigger(S,{commandName:"exportExcel",cancel:!1,exportOptions:y(!0,{},i.exportOptions)})).cancel||(m.loading(!0,!0),setTimeout(function(){u=y(!0,{proxy:C,excel:{fileName:"Untitled",fileFormat:"xlsx",noLegacyFallback:!1,author:C,created:new Date,producer:C,dataSource:C,readDataSource:!1,columnFields:C,header:{enabled:!0,style:{bold:!0},cells:C},worksheet:{name:"Sheet1",columns:C},worksheets:[],worksheetIndex:0}},e.exportOptions),p=u.excel,g=(g=p.columnFields)||m._getVisibleColumnFields(),_=g.length,p.worksheet.columns||(p.worksheet.columns=F(g,function(e){return{autoWidth:!0}})),f=y(!0,{},p.worksheet),p.header&&p.header.enabled&&(p.header.cells?v.push({cells:p.header.cells}):v.push({cells:F(g,function(e){var t=m._getColumnByField(e);return{type:String,value:T(t)&&t.title?t.title:e,style:p.header.style}})})),h=k.create(p.dataSource||m.dataSource),t=function(){for(var e,t,i=h.view||[],c=i.length,n=[],r=0;r<_;r++)n[r]=N(h,"schema.options.fields."+g[r]+".type");for(r=0;r<c;r++){var o,l,a=i[r],s=m.trigger(S,{commandName:"exportExcelRow",cancel:!1,item:a,index:r,row:{}}),d=[];if(!s.cancel){for(o=y(!0,{},s.row),t=0;t<_;t++)l={type:T(o.type)?o.type:n[t],value:T(o.value)?o.value:N(a,g[t])},o.cells&&o.cells[t]&&y(!0,l,o.cells[t]),d.push(l);v.push({index:o.index,height:o.height,cells:d})}}f.rows=v,(b=[].slice.call(p.worksheets)).splice(p.worksheetIndex,0,f),e={created:p.created,author:p.author,worksheets:b},new("xml"==p.fileFormat?B.ExcelXMLSpreadsheet:B.OOXMLWorkbook)(e).saveAs({fileName:p.fileName,forceExt:u.forceExt,proxy:u.proxy}),m.loading(!1)},p.readDataSource?h.read().always(t):t()},100)))},_doPdfExport:function(){var s,d,c,e,t,u,p,h=this,i=h.options;B&&((e=h.trigger(S,{commandName:"exportPdf",cancel:!1,exportOptions:y(!0,{},i.exportOptions)})).cancel||(h.loading(!0,!0),setTimeout(function(){s=y(!0,{proxy:C,pdf:{fileName:"Untitled",author:C,created:new Date,size:"a4",orientation:"portrait",fontSize:10,dataSource:C,readDataSource:!1,columnFields:C,header:{enabled:!0,cells:C},margins:{left:72,top:72,bottom:72,right:72}}},e.exportOptions),d=s.pdf,t=(t=d.columnFields)||h._getVisibleColumnFields(),t.length,d.header&&(p=!!d.header.enabled,d.header.cells&&(u=[].concat(d.header.cells))),T(p)||(p=!0),T(u)||(u=F(t,function(e){var t=h._getColumnByField(e);return{field:e,title:t.title||e,width:t.width||C}})),c=k.create(d.dataSource||h.dataSource),t=function(){for(var e,t,i,n=c.view||[],r=n.length,o=[],l=d.margins,a=0;a<r;a++)e=n[a],(t=h.trigger(S,{commandName:"exportPdfRow",cancel:!1,item:e,index:a,row:{}})).cancel||o.push(y(!0,e,t.row));(i=new B.PDFDocument({author:d.author,created:d.created})).addPage(d.size,d.orientation),i.table(l.left,l.top,o,u,{margins:l,printHeader:p,fontSize:d.fontSize}),i.saveAs({fileName:d.fileName,forceExt:s.forceExt,proxy:s.proxy}),h.loading(!1)},d.readDataSource?c.read().always(t):t()},100)))},_doCsvExport:function(){var c,u,p,e,t,h,f,g=this,i=g.options;B&&((e=g.trigger(S,{commandName:"exportCsv",cancel:!1,exportOptions:y(!0,{},i.exportOptions)})).cancel||(g.loading(!0,!0),setTimeout(function(){c=y(!0,{proxy:C,csv:{fileName:"Untitled",delimiter:",",dataSource:C,readDataSource:!1,columnFields:C,header:{enabled:!0,cells:C}}},e.exportOptions),u=c.csv,t=(t=u.columnFields)||g._getVisibleColumnFields(),t.length,u.header&&(f=!!u.header.enabled,u.header.cells&&(h=[].concat(u.header.cells))),T(f)||(f=!0),T(h)||(h=F(t,function(e){return{field:e,title:g._getColumnByField(e).title||e}})),p=k.create(u.dataSource||g.dataSource),t=function(){var e,t,i,n,r,o=p.view||[],l=o.length,a=h.length,s=[],d=[];for(f&&(s=F(h,function(e){return e.title})),e=0;e<l;e++)if(i=o[e],!(r=g.trigger(S,{commandName:"exportCsvRow",cancel:!1,item:i,index:e,row:n})).cancel){if((r=y(!0,{},r.row))&&r.cells)n=r.cells;else for(n=[],t=0;t<a;t++)n.push(N(i,h[t].field));d.push(n)}new B.CSVDocument({delimiter:u.delimiter,printHeader:f,header:s,records:d}).saveAs({fileName:u.fileName,forceExt:c.forceExt,proxy:c.proxy}),g.loading(!1)},u.readDataSource?p.read().always(t):t()},100)))}});i.defaults=H,_.ui.plugin("Grid",i)}(jQuery,shield,this);
!function(u,r,h,g){var d=r.ui.Widget,f=(r.Class,document,Math.abs),m=(Math.min,Math.max,Math.floor),c=u.proxy,_=(u.each,u.map,r.Constants.KeyCode),p=r.format,b=r.error,t=r.is,v=t.defined,w=(t.string,t.object,t.func,r.to.number),o="aria-describedby",W="tabindex",s="disabled",k="horizontal",y="both",I="top",x="left",O="right",a="click",B="change",S="focus",C="blur",T="px",t={cls:g,orientation:k,min:0,max:100,value:g,step:1,largeStep:2,enabled:!0,buttons:!1,values:{enabled:!0,template:"{0}"},ticks:{enabled:!1,type:y,step:1},tooltip:{enabled:!1,template:"{0}"},width:g,height:g,events:{}},e=d.extend({init:function(){d.fn.init.apply(this,arguments);var t,e,i=this,n=i.options,s=n.cls,o=n.value,a=n.dieOnError,l=n.orientation;i._original=t=u(i.element),"input"===t.prop("tagName").toLowerCase()?(i.element=s=t.wrap('<div class="sui-slider sui-slider-'+l+(s?" "+s:"")+'" />').parent(),i._eventNS=e=".shieldSlider"+i.getInstanceId(),t.hide(),t=t.attr(W),s.attr(W,v(t)?t:"0"),s.on(S+e,c(i._focus,i)).on(C+e,c(i._blur,i)).on("keydown"+e,c(i._keyDown,i)),u(h).on("resize"+e,c(i._onWinResize,i)),v(n.width)&&s.css("width",n.width),v(n.height)&&s.css("height",n.height),i._buttonOffset=5,i._buttonScaleOffset=20,i._width=s.innerWidth(),i._height=s.innerHeight(),i._buttons=i._createButtons(),i._scale=i._createScale(),i._ticks=i._createTicks(),i._createBar(),i._showValues(),i._elWidth=s.width(),i._elHeight=s.height(),v(o)||(o=w(i._value())),s.attr("role","slider").attr("aria-orientation",l).attr("aria-valuemin",n.min).attr("aria-valuemax",n.max),i.value(o),i.enabled(n.enabled)):b("shieldSlider: Underlying element is not INPUT",a)},refresh:function(t){this.refreshWithElement(this._original,t)},_createButtons:function(){var t,e=this,i=e.options,n=i.orientation==k,s=[];if(i.buttons)return i=u('<div class="sui-slider-button sui-unselectable" unselectable="on" />').appendTo(e.element),u('<span class="sui-slider-button-arrow-'+(n?x:"up")+' sui-unselectable" unselectable="on" />').appendTo(i),t=i.outerWidth(),i.css({left:n?e._buttonOffset:(e._width-t)/2,top:n?(e._height-t)/2:e._buttonOffset}),i.click(function(){e._hasFocus||e.element.focus(),e._stepPrev()}),s.push(i),i=u('<div class="sui-slider-button sui-unselectable" unselectable="on" />').appendTo(e.element),u('<span class="sui-slider-button-arrow-'+(n?O:"down")+' sui-unselectable" unselectable="on" />').appendTo(i),i.css({left:n?e._width-(e._buttonOffset+t):(e._width-t)/2,top:n?(e._height-t)/2:e._height-(e._buttonOffset+t)}),i.click(function(){e._hasFocus||e.element.focus(),e._stepNext()}),s.push(i),s},_createScale:function(){var t=this,e=t.options.orientation,i=e==k,n=t._buttons?t._buttons[0].outerWidth():0,e=u('<div class="sui-slider-scale sui-slider-scale-'+e+' sui-unselectable" unselectable="on" />').appendTo(t.element);return e.css({left:i?t._buttonOffset+n+t._buttonScaleOffset:(t._width-e.outerWidth())/2,top:i?(t._height-e.outerHeight())/2:t._buttonOffset+n+t._buttonScaleOffset}),i?e.width(t._width-2*(t._buttonOffset+t._buttonScaleOffset+n)):e.height(t._height-2*(t._buttonOffset+t._buttonScaleOffset+n)),e.on(a,c(t._scaleClick,t)),e},_scaleClick:function(t){var e,i,n,s,o,a=this,l=a.options.orientation==k,t=t.originalEvent,r=l?t.clientX:t.clientY,t=a.element.offset(),u=m(l?t.left:t.top);if(a._hasFocus||a.element.focus(),a._enabled){for(o=0;o<a._ticks.length;o++)e=a._ticks[o],i=f(r-(e.tick+u)),(n===g||i<n)&&(n=i,s=e);a._moveBar(s)}},_keyDown:function(t){var e=this,i=e.options.orientation==k,n=t.originalEvent,s=n.keyCode,o=e._ticks.length-1,a=s===(i?_.LEFT:_.UP),l=s===(i?_.RIGHT:_.DOWN),r=s===(i?_.PAGEDOWN:_.PAGEUP),i=s===(i?_.PAGEUP:_.PAGEDOWN),u=s==_.HOME,s=s==_.END;!n.ctrlKey&&e._enabled&&(a||r?(e._stepPrev(r),t.preventDefault()):l||i?(e._stepNext(i),t.preventDefault()):u?(e._moveBar(e._ticks[0]),t.preventDefault()):s&&(e._moveBar(e._ticks[o]),t.preventDefault()))},_createTicks:function(){var t,e,c,_,i,n,s=this,o=s.options,a=o.orientation==k,l=o.max,h=o.min,d=o.step,o=o.ticks,r=o.type,f=o.step,u=m((l-h)/d),p=g,b=0,v=[],l=a?s._scale.outerWidth():s._scale.outerHeight();for(u<=l?_=l/u-(c=m(l/u)):(p=u/l*d,u=l,d=c=1),i=a?s._scale.position().left:s._scale.position().top,n=0;n<=u;n++)v.push(e={value:h+n*(p||d),tick:i}),1<=(b+=_)&&(i++,b--),i+=c;if(o.enabled)for(n=0;n<=u;n+=f)e=v[n],r!==I&&r!==x&&r!==y||(t=s._createTick()).css({left:a?e.tick+T:s._scale.position().left-t.outerWidth()+T,top:a?s._scale.position().top-t.outerHeight()+T:e.tick+T}),"bottom"!==r&&r!==O&&r!==y||(t=s._createTick()).css({left:a?e.tick+T:s._scale.position().left+s._scale.outerWidth()+T,top:a?s._scale.position().top+s._scale.outerHeight()+T:e.tick+T});return v},_createTick:function(){return u('<div class="sui-slider-tick sui-slider-tick-'+this.options.orientation+' sui-unselectable" unselectable="on" />').insertAfter(this._scale)},_showValues:function(){var t,e,i,n=this,s=n.options,o=s.orientation==k,a=s.max,l=s.min,r=(s.step,s.values||{});if(r.enabled)for(i=0;i<n._ticks.length;i++)(t=n._ticks[i]).value!==l&&t.value!==a||(e=u('<div class="sui-slider-mark sui-unselectable" unselectable="on">'+p(r.template,t.value)+"</div>").insertAfter(n._scale)).css({left:o?t.tick-2-e.width()/2:n._scale.position().left+n._scale.outerWidth()+n._bar.width()/2,top:o?n._scale.position().top-n._scale.height()-e.height()+2:t.tick-e.height()/2})},_createBar:function(){var t,e,i,n,s,o,a=this,l=a.options.orientation==k;for(a._bar=t=u('<div class="sui-slider-bar sui-unselectable" id="'+r.strid()+'" unselectable="on" />').appendTo(a.element).mousedown(function(){a._hasFocus||a.element.focus()}),e=(t.innerWidth()-a._scale.outerHeight())/2+1,i=(t.innerWidth()-a._scale.outerWidth())/2+1,t.css({left:l?a._scale.position().left-t.outerWidth()/2+T:a._scale.position().left-i+T,top:l?a._scale.position().top-e+T:a._scale.position().top-t.outerWidth()/2+T}),s=[],o=0;o<a._ticks.length;o++)n=a._ticks[o],s.push({x:l?n.tick-t.outerWidth()/2:g,y:l?g:n.tick-t.outerWidth()/2});a._dragBar=new r.ui.Draggable(t,{allowedPositions:s,events:{drag:function(t){a._changeTooltipValue(!0),a.trigger("slide")},stop:function(t){a._value(a.value()),a._tooltip&&u("#"+a._bar.attr("id")+":hover").length<=0&&a._tooltip.visible(!1),a.trigger(B,{value:a.value()})}}}),a._createTooltip()},_stepNext:function(t){var e,i=this,n=i.options,s=(n.orientation,n.step),n=n.largeStep;i._enabled&&(t=!!t,e=i._getCurrentTickInfoIndex(),(t=t?e+m(n/s):e+1)>=i._ticks.length||(n=i._ticks[t],i._moveBar(n)))},_stepPrev:function(t){var e,i=this,n=i.options,s=(n.orientation,n.step),n=n.largeStep;i._enabled&&(t=!!t,e=i._getCurrentTickInfoIndex(),(t=t?e-m(n/s):e-1)<0||(n=i._ticks[t],i._moveBar(n)))},_moveBar:function(t,e){var i=this,n=i.options.orientation==k,s=i._bar;t&&(s.css({left:n?t.tick-s.outerWidth()/2+T:s.css(x),top:n?s.css(I):t.tick-s.outerWidth()/2+T}),i._changeTooltipValue(),i._value(i.value()),i.element.attr("aria-valuenow",t.value),e||i.trigger(B,{value:i.value()}))},_createTooltip:function(){var t=this,e=t.options,i=e.tooltip,e=e.orientation==k;i&&i.enabled&&(t._tooltip=new r.ui.Tooltip(t._bar,{content:p(i.template,t.value()),position:e?I:x,delay:0}),t.element.attr(o,t._bar.attr(o)))},_changeTooltipValue:function(t){var e=this,i=e.options.tooltip,n=e._tooltip;n&&(i=p(i.template,e.value()),n.options.content!==i&&(n.refresh({content:i,enabled:e._enabled}),e.element.attr(o,e._bar.attr(o))),t&&n.visible(!0,e._bar))},_getCurrentTickInfoIndex:function(){for(var t,e=this.options.orientation==k,i=this._ticks,n=this._bar,s=e?n.position().left:n.position().top,o=n.outerWidth()/2,a=Number.POSITIVE_INFINITY,l=-1,r=0;r<i.length;r++){if(s==(t=i[r].tick-o))return r;(t=f(s-t))<a&&(a=t,l=r)}return l},_getTickInfoIndexByValue:function(t){for(var e=this._ticks,i=0;i<e.length;i++)if(t==e[i].value)return i;return-1},_focus:function(t){this._hasFocus||(this._hasFocus=!0,u(this.element).addClass("sui-slider-focus"),this.trigger(S))},_blur:function(t){this._hasFocus&&(this._hasFocus=!1,u(this.element).removeClass("sui-slider-focus"),this.trigger(C))},_onWinResize:function(t){var e=this;e._onWinResTimeout&&clearTimeout(e._onWinResTimeout),e._onWinResTimeout=setTimeout(c(e._winResized,e),100)},_winResized:function(){var t=this.element;this._elWidth===t.width()&&this._elHeight===t.height()||this.refresh()},_value:function(){return this._original.attr.apply(this._original,["value"].concat([].slice.call(arguments)))},value:function(){var t,e,i=this,n=i.options.min,s=[].slice.call(arguments);if(!(0<s.length))return e=i._getCurrentTickInfoIndex(),(t=i._ticks[e])?t.value:n;-1!==(e=i._getTickInfoIndexByValue(s[0]))&&(t=i._ticks[e],i._moveBar(t,!0))},enabled:function(){var t=this,e=u(t.element),i=t._original,n=[].slice.call(arguments);if(!(0<n.length))return t._enabled;(n=!!n[0])?(e.removeAttr(s).removeClass("sui-slider-disabled"),i.removeAttr(s)):(e.attr(s,s).addClass("sui-slider-disabled"),i.attr(s,s)),t._enabled=n,t._dragBar.enabled(n),t._tooltip&&t._tooltip.enabled(n)},destroy:function(){var t,e=this,i=e._eventNS;if(u(h).off(i),clearTimeout(e._onWinResTimeout),e._onWinResTimeout=null,u(e.element).off(i),e._dragBar&&(e._dragBar.destroy(),e._dragBar=null),e._buttons)for(t=0;t<e._buttons.length;t++)e._buttons[t].off(a);e._tooltip&&(e._tooltip.destroy(),e._tooltip=null),u(e.element).find(".sui-slider-scale, .sui-slider-mark, .sui-slider-tick, .sui-slider-bar, .sui-slider-button").remove(),e._original.unwrap().show(),e._scale.off(a),e._original=e._buttons=e._bar=e._scale=e._ticks=null,d.fn.destroy.call(e)}});e.defaults=t,r.ui.plugin("Slider",e)}(jQuery,shield,this);
!function(r,s,p,l){var i,n,a,d=s.ui.Widget,t=s.Class,c=s.DataSource,g=(document,Math.abs,Math.min),_=Math.max,o=Math.pow,h=(Math.floor,r.proxy),v=(r.each,r.map,s.format),w=s.to.int,T=s.error,e=s.is,I=e.defined,f=(e.string,e.object,e.func,s.to.number,"horizontal"),C="vertical",x="click",y="disabled",m=t.extend({init:function(t,e,i,n){var o=this;o.left=t,o.top=e,o.width=i,o.height=n},getSize:function(){return g(this.width,this.height)},getRowContainers:function(t){var e,i=this,n=i.left,o=i.top,a=i.sum(t),r=a/i.height,s=a/i.width,l=[];if(i.width>=i.height)for(e=0;e<t.length;e++)l.push({left:n,top:o,right:n+r,bottom:o+t[e].targetValue/r,dataItem:t[e]}),o+=t[e].targetValue/r;else for(e=0;e<t.length;e++)l.push({left:n,top:o,right:n+t[e].targetValue/s,bottom:o+s,dataItem:t[e]}),n+=t[e].targetValue/s;return l},remainingArea:function(t){var e,i,n=this,t=n.width>=n.height?(e=t/n.height,i=n.width-e,new m(n.left+e,n.top,i,n.height)):(e=t/n.width,i=n.height-e,new m(n.left,n.top+e,n.width,i));return t},sum:function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i].targetValue;return e}}),u=t.extend({init:function(){},sort:function(t){t.sort(function(t,e){return e.targetValue-t.targetValue})},sum:function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i].targetValue;return e},min:function(t){for(var e=l,i=0;i<t.length;i++)(!I(e)||e>t[i].targetValue)&&(e=t[i].targetValue);return e},max:function(t){for(var e=l,i=0;i<t.length;i++)(!I(e)||e<t[i].targetValue)&&(e=t[i].targetValue);return e}});u.create=function(t){return new("squarified"===t?a:t===f?i:n)},i=u.extend({init:function(){u.fn.init.apply(this,arguments)},execute:function(t,e,u,i,p){var n,o,a,r,s,l,d=this.sum(t),c=e.left,g=e.top,h=!p||p===f;for(this.sort(t),l=0;l<t.length;l++)a=t[l],n=h?e.width*a.targetValue/d:e.width,o=h?e.height:e.height*a.targetValue/d,a.items&&0!==a.items.length?(r=i.createGroup(u,new m(c,g,n,o)),s=i.createTitle(r,i.getItemText(a)),s=new m(s.left-r.position().left,s.top-r.position().top,s.width,s.height),this.execute(a.items,s,r,i,h?C:f)):i.createItem(u,{left:c,top:g,width:n,height:o,dataItem:a}),h?c+=n:g+=o}}),n=u.extend({init:function(){u.fn.init.apply(this,arguments)},execute:function(t,e,u,i,p){var n,o,a,r,s,l,d=this.sum(t),c=e.left,g=e.top,h=!p||p===C;for(this.sort(t),l=0;l<t.length;l++)a=t[l],o=h?e.height*a.targetValue/d:e.height,n=h?e.width:e.width*a.targetValue/d,a.items&&0!==a.items.length?(r=i.createGroup(u,new m(c,g,n,o)),s=i.createTitle(r,i.getItemText(a)),s=new m(s.left-r.position().left,s.top-r.position().top,s.width,s.height),this.execute(a.items,s,r,i,h?f:C)):i.createItem(u,{left:c,top:g,width:n,height:o,dataItem:a}),h?g+=o:c+=n}}),a=u.extend({init:function(){u.fn.init.apply(this,arguments)},execute:function(t,e,i,n){var o,a,r,s,l,h=this;for(h.sort(t),t=h._squarifyCore(h._normalize(t,e.width*e.height,n),[],e,[]),o=h._getTreemap(t),l=0;l<o.length;l++)(a=o[l]).dataItem.items&&0!==a.dataItem.items.length?(r=n.createGroup(i,new m(a.left,a.top,a.right-a.left,a.bottom-a.top)),s=n.createTitle(r,n.getItemText(a.dataItem)),s=new m(s.left-r.position().left,s.top-r.position().top,s.width,s.height),h.execute(a.dataItem.items,s,r,n)):n.createItem(i,{left:a.left,top:a.top,width:a.right-a.left,height:a.bottom-a.top,dataItem:a.dataItem})},_squarifyCore:function(t,e,i,n){var o,a;if(0!==t.length)return a=i.getSize(),o=t[0],this._verifyRatio(e,o,a)?(e.push(o),this._squarifyCore(t.slice(1),e,i,n)):(a=i.remainingArea(this.sum(e)),n.push(i.getRowContainers(e)),this._squarifyCore(t,[],a,n)),n;n.push(i.getRowContainers(e))},_getTreemap:function(t){for(var e,i=[],n=0;n<t.length;n++)for(e=0;e<t[n].length;e++)i.push(t[n][e]);return i},_verifyRatio:function(t,e,i){var n;return 0===t.length||((n=t.slice()).push(e),e=this._calculateRatio(t,i),this._calculateRatio(n,i)<=e)},_calculateRatio:function(t,e){var i=this.min(t),n=this.max(t),t=this.sum(t);return _(o(e,2)*n/o(t,2),o(t,2)/(o(e,2)*i))},_normalize:function(t,e,i){for(var n=e/this.sum(t),o=[],a=0;a<t.length;a++)o[a]=t[a],o[a].targetValue=o[a].targetValue*n;return o}}),e={cls:l,enabled:!0,width:l,height:l,title:l,dataSource:l,readDataSource:!0,type:"squarified",valueTemplate:"{value}",textTemplate:"{title}",colorTemplate:"{color}",colors:["#1E98E4","#FFC500","#5CB85C","#FF2A00","#6D31FF","#00B2A1","#FF8000","#84B3DC"],tooltip:{enabled:!1,template:"{title}: {value}",filter:".sui-treemap-item",delay:80,position:"top"},events:{}},(t=d.extend({init:function(){d.fn.init.apply(this,arguments);var t=this,e=r(t.element),i=t.options,n=i.cls,o=i.dataSource,a=i.dieOnError;if("div"===e.prop("tagName").toLowerCase()){if(e.addClass("sui-treemap "+(n?" "+n:"")),I(i.width)&&e.css("width",i.width),I(i.height)&&e.css("height",i.height),!o)return t.destroy(),void T("shieldTreemap: dataSource is not defined.",a);t.dataSource=c.create(o),t._eventNS=n=".shieldTreeMap"+t.getInstanceId(),t.containers=[],t.colorIndex=0,r(p).on("resize"+n,h(t._onWinResize,t)),t.dataSource.on("change"+n,h(t._dsChange,t)),i.readDataSource&&t.dataSource.read(),t.enabled(i.enabled)}else T("shieldTreeMap: Underlying element is not DIV.",a)},_dsChange:function(){var t=this,e=t.element;t._create(),t._createTooltip(),t._elWidth=e.width(),t._elHeight=e.height()},_onWinResize:function(t){var e=this;e._onWinResTimeout&&clearTimeout(e._onWinResTimeout),e._onWinResTimeout=setTimeout(h(e._winResized,e),100)},_winResized:function(){var t=this.element;this._elWidth===t.width()&&this._elHeight===t.height()||this.refresh()},_createTooltip:function(){var t=this,e=t.options.tooltip;e.enabled&&(t.tooltip?t.tooltip.refresh(e):t.tooltip=r(t.element).children(".sui-treemap-group").first().shieldTooltip(e).swidget())},_create:function(){var t=this,e=t.element,i=t.dataSource.data,n=t.options,o=u.create(n.type),a=new m(0,0,e.innerWidth(),e.innerHeight());e.empty(),t._prepareData(i),e=t.createGroup(e,a),a=t.createTitle(e,n.title),o.execute(i,a,e,t)},_prepareData:function(t){for(var e=0;e<t.length;e++)t[e].targetValue=this.getItemValue(t[e]),t[e].items&&this._prepareData(t[e].items)},createTitle:function(t,e){var i,n,o,a=this.options.type===f;return"undefined"===e||e===l?new m(t.position().left,t.position().top,t.innerWidth(),t.innerHeight()):(i=r('<div class="sui-treemap-title"></div>').appendTo(t),a&&i.innerHeight(t.outerHeight()),i.append('<div class="sui-treemap-title-inner">'+e.replace(/\s+/,"&nbsp;")+"</div>"),s.ui.Position.Set(i.find(".sui-treemap-title-inner"),i,{source:"center",target:"center"}),e=a?t.position().left+i.outerWidth():t.position().left,n=a?t.position().top:t.position().top+i.outerHeight(),o=a?t.innerWidth()-i.outerWidth():t.innerWidth(),a=a?t.innerHeight():t.innerHeight()-i.outerHeight(),new m(e,n,o,a))},createGroup:function(t,e){return this._createContainer(t,e).addClass("sui-treemap-group sui-treemap-group-"+this.options.type)},createItem:function(t,e){var i=this,n=i.options,o=n.tooltip,n=(n.type,i.getItemText(e.dataItem)),t=i._createContainer(t,e);t.addClass("sui-treemap-item").css("backgroundColor",i._getContentColor(e.dataItem)).on(x,h(i._contentClick,i,e.dataItem)),o.enabled&&t.attr("title",v(o.template,e.dataItem)),i.containers.push(t),t.html(n)},_contentClick:function(t){this._enabled&&this.trigger(x,{title:this.getItemText(t),value:this.getItemValue(t),item:t})},_createContainer:function(t,e){return r("<div/>").appendTo(t).css({left:e.left,top:e.top,width:e.width,height:e.height})},_getContentColor:function(t){var e=this.options.colors;return this._getItemColor(t)||e[this.colorIndex++%e.length]},getItemValue:function(t){return w(v(this.options.valueTemplate,t))},getItemText:function(t){return v(this.options.textTemplate,t)},_getItemColor:function(t){t=v(this.options.colorTemplate,t);return"undefined"!==t&&null!==t?t:l},enabled:function(){var t=this,e=r(t.element),i=[].slice.call(arguments);if(!(0<i.length))return t._enabled;(i=!!i[0])?e.removeAttr(y).removeClass("sui-treemap-disabled"):e.attr(y,y).addClass("sui-treemap-disabled"),t.tooltip&&t.tooltip.enabled(i),t._enabled=i},destroy:function(){var t,e=this,i=e._eventNS;for(r(p).off(i),clearTimeout(e._onWinResTimeout),e._onWinResTimeout=null,e.dataSource&&e.dataSource.off(i),e.tooltip&&(e.tooltip.destroy(),e.tooltip=null),t=0;t<e.containers.length;t++)e.containers[t].off(x);e.containers=null,r(e.element).empty(),d.fn.destroy.call(e)}})).defaults=e,s.ui.plugin("TreeMap",t)}(jQuery,shield,this);
!function(c,e,t){var a,u=e.ui.Widget,p=(e.Class,e.DataSource),h=(Math.min,Math.max,c.proxy),o=c.each,n=c.map,s=e.error,m=e.format,l=e.is.defined,i=e.is.null,g=e.to.int,v="change",S="click";function f(e){return l(e)&&!i(e)&&"undefined"!==e}t={cls:t,width:t,height:t,dataSource:t,readDataSource:!0,title:t,textTemplate:"{text}",hrefTemplate:"{href}",targetTemplate:"{target}",frequencyTemplate:"{frequency}",minSize:90,maxSize:250,events:{}},(a=u.extend({init:function(){u.fn.init.apply(this,arguments);var e,t=this,a=c(t.element),i=t.options,n=i.title,r=i.dieOnError,o=i.dataSource,d=i.cls;if("div"===a.prop("tagName").toLowerCase()){if(e=t._eventNS=".shieldTagCloud"+t.getInstanceId(),a.empty(),n&&a.append('<div class="sui-tagcloud-title">'+n+"</div>"),t._contentEl=c('<div class="sui-tagcloud-content">').appendTo(a),a.addClass("sui-tagcloud"+(d?" "+d:"")),l(i.width)&&a.css("width",i.width),l(i.height)&&a.css("height",i.height),!o)return t.destroy(),void s("shieldTagCloud: No dataSource or underlying UL element found.",r);t.dataSource=p.create(o),t.dataSource.on(v+e,h(t._dsChange,t)),i.readDataSource&&t.dataSource.read()}else s("shieldTagCloud: Underlying element is not DIV.",r)},_dsChange:function(){this._render()},_render:function(){var t=this,e=t._contentEl,a=t.dataSource.view||[],i=t._getMinMax(a);e.empty().append(n(a,function(e){return t._createItem(e,i[0],i[1])}))},_createItem:function(e,t,a){var i,n,r=this,o=r.options,d=o.minSize,l=o.maxSize,u=c('<div class="sui-tagcloud-item" />'),s=m(o.textTemplate,e);return f(s)&&(f(i=m(o.hrefTemplate,e))?(i=c('<a href="'+i+'" class="sui-tagcloud-link">'+s+"</a>").appendTo(u),f(n=m(o.targetTemplate,e))&&i.attr("target",n)):u.html(s)),i=g(m(o.frequencyTemplate,e)),u.css("font-size",(t<a?(i-t)*(l-d)/(a-t)+d:100)+"%").on(S,h(r._itemClick,r,e)),u},_itemClick:function(e,t){this.trigger(S,{item:e}).isDefaultPrevented()&&t&&t.preventDefault()},_getMinMax:function(e){var a,i=this,n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return o(e||[],function(e,t){a=g(m(i.options.frequencyTemplate,t)),(!l(r)||r<a)&&(r=a),(!l(n)||a<n)&&(n=a)}),[n,r]},destroy:function(){var e=this,t=e.element,a=e.options.cls;e.dataSource&&e.dataSource.off(v+e._eventNS),t.removeClass("sui-tagcloud"+(a?" "+a:"")).empty(),u.fn.destroy.call(e)}})).defaults=t,e.ui.plugin("TagCloud",a)}(jQuery,shield);
!function(v,e,c,m){var o=e.ui.Widget,r=(e.Class,e.DataSource),u=(e.ui.Position,e.support),f=v.proxy,p=e.error,_=e.format,x=e.is.defined,a=e.is.func,n=e.is.boolean,T=e.is.string,g=e.is.null,i=e.is.integer,h=e.to.int,d="centered",E="click",C="sui-timeline-ds-item",t={cls:m,dataSource:m,readDataSource:!0,layout:d,animation:{enabled:!0,expandDuration:200,collapseDuration:150},positionTemplate:m,iconTemplate:"{icon}",titleTemplate:"{title}",textTemplate:"{text}",collapsedTemplate:"{collapsed}",iconUrlTemplate:"{iconUrl}",iconClsTemplate:"{iconCls}",collapsible:!0,width:m,height:m,events:{}},s=o.extend({init:function(){o.fn.init.apply(this,arguments);var e=this,i=v(e.element),t=e.options,n=t.dieOnError,s=t.dataSource,l=t.cls,a=e._eventNS=".shieldTimeline"+e.getInstanceId();if(i.empty(),i.addClass("sui-timeline sui-timeline-"+t.layout+(t.collapsible?" sui-timeline-collapsible":"")+(l?" "+l:"")),e._initAxis(i),!s)return e.destroy(),void p("shieldTimeline: dataSource option is required.",n);e.dataSource=r.create(s),v(c).on("resize"+a,f(e._winResize,e)),e.dataSource.on("change"+a,f(e._dsChange,e)),t.readDataSource&&e.dataSource.read()},_initAxis:function(e){var i=this.options;x(i.width)&&e.css("width",i.width),x(i.height)&&e.css("height",i.height),e=v('<div class="sui-timeline-inner"/>').appendTo(e),this._axis=v('<div class="sui-timeline-axis sui-timeline-axis-'+i.layout+'"/>').appendTo(e)},_dsChange:function(){this._render()},_winResize:function(){this._recalcEventWidths()},_recalcEventWidths:function(){var e=this,i=h(v(e.element).innerWidth());i!==e._width&&(e._setEventWidths(i),e._width=i)},_setEventWidths:function(e){var i=this,t=i.options.layout,n=u.scrollbar(),s=v(i._axis).outerWidth(),l=h(t===d?(e-n)/2-s:e-n-s);v(i._axis).children(".sui-timeline-event").each(function(){v(this).outerWidth(l),v(this).hasClass("sui-timeline-event-left")&&i._positionEventLeft(v(this))})},_render:function(){for(var e,i,t,r,n,s,l,a,o=this,d=o.options,u=d.collapsible,p=o.dataSource.view||[],h=p.length,c=0;c<h;c++)e=p[c],i=v('<div class="sui-timeline-event"/>').data(C,e).appendTo(o._axis),r=v('<div class="sui-timeline-event-title">'+_(d.titleTemplate,e)+"</div>").appendTo(i),n=_(d.textTemplate,e),n=x(n)&&!g(n)&&"undefined"!==n&&""!==n?v('<div class="sui-timeline-event-text">'+n+"</div>").appendTo(i):m,o._positionEventElement(i,e,c),l=_(d.iconUrlTemplate,e),T(l)&&"undefined"!==l||(l=m),a=_(d.iconClsTemplate,e),T(a)&&"undefined"!==a||(a=m),(l||a)&&(t=v('<span class="sui-timeline-event-icon'+(u&&x(n)?" sui-timeline-event-icon-collapsible":"")+'"/>').insertBefore(i),s=v('<span class="sui-timeline-event-icon-inner"/>').appendTo(t),l?s.append('<img src="'+l+'"/>'):s.addClass(a)),u&&x(n)&&(i.addClass("sui-timeline-event-collapsible"),r.on(E,f(o._eventTitleClicked,o,i)),(l||a)&&t.on(E,f(o._eventTitleClicked,o,i)),s=_(d.collapsedTemplate,e),(T(s)?"true"===s||"1"===s:!0===s)&&o._collapse(i,!1,!0));o._recalcEventWidths()},_positionEventElement:function(e,i,t){var n,s=this.options,l=s.positionTemplate;switch(s.layout){case d:(a(l)||T(l)?(n=_(l,i,t),T(n)?"undefined"===n?t%2:"true"===n||"1"===n:!!n):t%2)&&this._positionEventLeft(e);break;case"right":this._positionEventLeft(e)}},_positionEventLeft:function(e){e.addClass("sui-timeline-event-left").css("left",-1*v(e).width())},_isExpanded:function(e){return!v(e).hasClass("sui-timeline-event-collapsed")},_getEventItem:function(e){return v(e).data(C)},_expand:function(e,i,t,n){var s=this,l=s.options.animation;s._isExpanded(e)?a(n)&&n.call(s):i&&s.trigger("expand",{element:e,item:s._getEventItem(e)}).isDefaultPrevented()||e.find(".sui-timeline-event-text").first().slideDown(l.enabled&&!t?l.expandDuration:0,function(){e.removeClass("sui-timeline-event-collapsed"),a(n)&&n.call(s)})},_collapse:function(e,i,t,n){var s=this,l=s.options.animation;s._isExpanded(e)?i&&s.trigger("collapse",{element:e,item:s._getEventItem(e)}).isDefaultPrevented()||e.find(".sui-timeline-event-text").first().slideUp(l.enabled&&!t?l.collapseDuration:0,function(){e.addClass("sui-timeline-event-collapsed"),a(n)&&n.call(s)}):a(n)&&n.call(s)},_eventTitleClicked:function(e,i){this._isExpanded(e)?this._collapse(e,!0,!1):this._expand(e,!0,!1)},_getEvent:function(e){return i(e)?v(v(this._axis).children(".sui-timeline-event")[e]):v(e)},expanded:function(){var e=[].slice.call(arguments),i=n(e[0])?e.shift():m,t=this._getEvent(e[0]);if(!x(i))return this._isExpanded(t);i?this._expand(t,!1,!1,e[1]):this._collapse(t,!1,!1,e[1])},expandAll:function(){var e=this;v(e._axis).children(".sui-timeline-event").each(function(){e._expand(v(this),!1,!1)})},collapseAll:function(){var e=this;v(e._axis).children(".sui-timeline-event").each(function(){e._collapse(v(this),!1,!1)})},destroy:function(){var e=this,i=e.element,t=e.options.cls,n=e._eventNS;v(c).off(n),e.dataSource&&e.dataSource.off(n),i.removeClass("sui-timeline"+(t?" "+t:"")).empty(),e._width=null,o.fn.destroy.call(e)}});s.defaults=t,e.ui.plugin("Timeline",s)}(jQuery,shield,this);
!function(w,k,T){var m=k.ui.Widget,g=(k.Class,k.DataSource),o=k.RecursiveDataSource,n=(k.ui.Position,k.Constants.KeyCode),y=k.strid,L=document,P=w.proxy,p=w.each,_=(w.extend,k.error),D=k.format,S=k.is.defined,B=k.is.boolean,E=(k.is.integer,k.is.func),f=k.is.array,v=k.is.object,N=k.is.string,a=k.support.browser,A="role",O="aria-expanded",R="click",C="focus",x="blur",I="change",b="tabindex",F="disabled",U="false",s="down",l="left",r="checked",h="li",u="ul",V="visibility",W="hidden",c="visible",j="sui-treeview-list-item",H="sui-treeview-list-item-idx",G="sui-treeview-list-item-parent",K="sui-treeview-list-item-ds",Q="sui-treeview-list-items-ds",q="sui-treeview-list-item-checked",z="sui-treeview-list-item-loaded",J="sui-treeview-item-list-expanded",M="sui-treeview-item-toggle-loading",d="sui-treeview-item-selected",X="sui-treeview-item-active",Y="sui-treeview-item-disabled",Z="sui-treeview-item",e={cls:T,width:T,minWidth:T,height:T,dataSource:T,readDataSource:!0,animation:{enabled:!0,expandDuration:200,collapseDuration:150},checkboxes:{enabled:!1,children:!1,template:T},dragDrop:!1,dragDropScope:T,textTemplate:"{text}",hrefTemplate:"{href}",expandedTemplate:"{expanded}",checkedTemplate:"{checked}",disabledTemplate:"{disabled}",iconUrlTemplate:"{iconUrl}",iconClsTemplate:"{iconCls}",hasChildrenTemplate:function(e){return e&&(e.items&&0<e.items.length||e.children&&0<e.children.length||e.hasChildren)},events:{}},t=m.extend({init:function(){m.fn.init.apply(this,arguments);var e,i,t,r,n,a=this,s=w(a.element),l=a.options,o=l.dieOnError,d=l.dataSource,c=l.cls;if(a._original=e=w(a.element),a._tagname=t=e.prop("tagName").toLowerCase(),n=a._eventNS=".shieldTreeView"+a.getInstanceId(),a._wrapper=i=e.wrap("<div/>").parent(),i.addClass("sui-treeview"+(c?" "+c:"")),e.hide(),a.element=s=w('<ul class="sui-treeview-list"/>').on(C+n,P(a._focus,a)).on(x+n,P(a._blur,a)).on("keydown"+n,P(a._keydown,a)),e.after(s),p(["width","minWidth","height","maxHeight"],function(e,t){S(l[t])&&i.css(t,l[t])}),c=e.attr(b),s.attr(b,S(c)?c:"0"),d)a.dataSource=g.create(d);else{if(t!=u)return a.destroy(),void _("shieldTreeView: No dataSource or underlying UL element found.",o);r=function(e){var a=[];return w(e).children(h).each(function(){var e,t=w(this),i=0<t.children(u).length,n={cls:t.attr("data-class"),href:t.attr("data-href")?t.attr("data-href"):t.children().not(u).first().attr("href"),disabled:t.attr("data-disabled")?t.attr("data-disabled"):S(t.attr(F))&&null!==t.attr(F),expanded:t.attr("data-expanded"),checked:t.attr("data-checked"),iconUrl:t.attr("data-icon-url"),iconCls:t.attr("data-icon-cls")};i?((e=t.clone()).children(u).remove(),n.text=e.html()):n.text=t.html(),i&&(n.items=r(t.children(u)[0])),a.push(n)}),a},a.dataSource=g.create({data:e,schema:{parse:r}})}a.dataSource.on(I+n,P(a._dsChange,a)),s.attr(A,"tree"),l.readDataSource&&a.dataSource.read()},refresh:function(e){this.refreshWithElement(this._original,e)},_dsChange:function(){var e=this,t=e.element,i=e.dataSource;e._renderItems(i,t,null,!0,!0,function(){e.trigger("dataBound",{dataSource:i,element:null})})},_destroyItems:function(e){var t=this,i=(w(e).children("ul.sui-treeview-item-list").each(function(){t._destroyItems(w(this))}),w(e).children(".sui-treeview-item-content").find(".sui-treeview-item-text").each(function(){w(this).swidget("Draggable")&&w(this).swidget("Draggable").destroy(),w(this).swidget("Droppable")&&w(this).swidget("Droppable").destroy()}),w(e).children(".sui-treeview-item-content").find(".sui-checkbox").each(function(){w(this).swidget("CheckBox")&&w(this).swidget("CheckBox").destroy()}),w(e).data(Q));i&&i.off(t._eventNS),w(e).removeData(),w(e).empty()},_renderItems:function(e,t,o,h,u,i){var n,a,r,s=this,l=s.options.checkboxes,m=e.view,g=(m||[]).length,d=[],c=[];for(s._destroyItems(t),r=0;r<g;r++)(a=(n=s._renderItem(m[r],o,e,r)).listItem).appendTo(t),n.itemExpanded&&d.push(a),n.itemChecked&&c.push(a);if(E(i)&&i(),h)for(r=0;r<d.length;r++)s._expand(d[r],!1,u);if(l.enabled&&l.children)for(r=0;r<c.length;r++)s._updateChecked(c[r])},_renderItem:function(e,t,o,h){var i,n,a,r,u,m,g,s=this,l=s.options,p=l.checkboxes,_=p.template,f=s.getInstanceId(),v=l.dragDropScope,C=t?t.data(j):null,d=e.cls,x=s._hasChildren(e),I=D.call(s,l.textTemplate,e),b=y(),c=D(l.disabledTemplate,e);return c=!!(B(c)&&c||"true"===c||"1"===c||1===c),i=D(l.expandedTemplate,e),i=!!(B(i)&&i||"true"===i||"1"===i||1===i),n=D(l.checkedTemplate,e),n=!!(B(n)&&n||"true"===n||"1"===n||1===n),a=D(l.hrefTemplate,e),N(a)&&"undefined"!==a||(a=T),r=D(l.iconUrlTemplate,e),N(r)&&"undefined"!==r||(r=T),u=D(l.iconClsTemplate,e),N(u)&&"undefined"!==u||(u=T),d=w('<li class="'+Z+" sui-unselectable"+(c?" "+Y:"")+(S(d)?" "+d:"")+'"/>').data(j,e).data(H,h).data(G,t).data(K,o),h=w('<span class="sui-treeview-item-text" id="'+b+'">'+(a?'<a href="'+a+'">':"")+I+(a?"</a>":"")+"</span>").on("mousedown",P(s._itemClick,s,d)).on("dblclick",P(s._itemDblClick,s,d)),t=w('<span class="sui-treeview-item-toggle"/>').on(R,P(s._toggleItem,s,d)).append(w('<span class="sui-treeview-item-toggle-collapsed"/>')),x||t.css(V,W),d.attr(A,"treeitem").attr("aria-describedby",b),x&&d.attr(O,U),p.enabled&&(d.data(q,!!n),m=w('<span class="sui-treeview-item-check"/>'),N(_)?m.html(D(_,{item:e,parent:C})):E(_)?_(m,e,C):(o=w('<input type="checkbox"'+(n?' checked="checked"':"")+"/>").appendTo(m),k.ui.CheckBox?w(o).shieldCheckBox({enabled:!c,enableThreeStates:!!p.children,events:{click:P(s._checkboxClick,s,d)}}):o.on(R,P(s._checkboxClick,s,d)))),(r||u)&&(g=w('<span class="sui-treeview-item-icon"/>'),r?g.append('<img src="'+r+'"/>'):g.addClass(u)),d.append(w('<div class="sui-treeview-item-content"/>').append(t,m,h.prepend(g))),d.append(w('<ul class="sui-treeview-list sui-treeview-item-list"/>').attr(A,"group").hide()),l.dragDrop&&!c&&(h.shieldDraggable({scope:S(v)?v:"suiTv"+f,dragCls:"sui-treeview-item-text-dragging",helper:function(){return w(this.element).clone().appendTo(L.body)},events:{start:P(s._dragStart,s,d),stop:P(s._dragStop,s,d)}}),h.shieldDroppable({scope:S(v)?v:"suiTv"+f,hoverCls:"sui-treeview-item-text-dropover",tolerance:{x:"touch",y:"intersect"},events:{over:P(s._dropOver,s,d),out:P(s._dropOut,s,d),drop:P(s._drop,s,d)}})),{listItem:d,itemExpanded:i,itemChecked:n,itemDisabled:c}},_isValidDragDrop:function(e,t){var i;return!!w(e).hasClass("sui-treeview-item-text")&&((i=w(e).parent().parent().parent().parent().children(".sui-treeview-item-content").first().children(".sui-treeview-item-text").first())&&0<i.length&&t[0]===i[0]?t[0]!==i[0]:!(0<w(e).parent().parent().find(t[0]).length))},_dragStart:function(e,t){this.trigger("dragStart",{draggable:t.target.element,element:e,domEvent:t})},_dragStop:function(e,t){this.trigger("dragStop",{draggable:t.target.element,element:e,domEvent:t}),t.preventDefault()},_dropOver:function(e,t){var i=t.draggable,n=t.droppable,a=this._isValidDragDrop(i,n),e={draggable:i,droppable:n,element:e,valid:a,domEvent:t};a&&(e.sourceNode=w(i).closest("."+Z)),e.targetNode=w(n).closest("."+Z),!(a=this.trigger("droppableOver",e)).isDefaultPrevented()&&a.valid||t.preventDefault()},_dropOut:function(e,t){var i=t.draggable,n=t.droppable,a=this._isValidDragDrop(i,n),e={draggable:i,droppable:n,element:e,valid:a,domEvent:t};a&&(e.sourceNode=w(i).closest("."+Z)),e.targetNode=w(n).closest("."+Z),this.trigger("droppableOut",e)},_drop:function(e,t){var i=t.draggable,n=t.droppable,a=this._isValidDragDrop(i,n),e={draggable:i,droppable:n,element:e,cancelled:!0,skipAnimation:!!a,valid:a,domEvent:t};a&&(e.sourceNode=w(i).closest("."+Z)),e.targetNode=w(n).closest("."+Z),a=this.trigger("drop",e),t.cancelled=a.cancelled,t.skipAnimation=a.skipAnimation,a.isDefaultPrevented()&&t.preventDefault()},_hasChildren:function(e){e=D(this.options.hasChildrenTemplate,e);return B(e)&&e||"true"===e||"1"===e||1===e},_isLoaded:function(e){return!0===w(e).data(z)},_isExpanded:function(e){return e.hasClass(J)},_isFullyExpanded:function(e){var t=this.getParent(e);return t?this._isExpanded(e)&&this._isFullyExpanded(t):this._isExpanded(e)},_isDisabled:function(e){return w(e).hasClass(Y)},_isSelected:function(e){return w(e).hasClass(d)},_isActive:function(e){return w(e).hasClass(X)},_isFocused:function(){return w(this.element).hasClass("sui-treeview-focus")},_focus:function(e){var t=this,i=t.element;a.ie&&L.activeElement!==w(i)[0]&&w(i).focus(),t._blurTimeout&&(clearTimeout(t._blurTimeout),t._blurTimeout=null),t._isFocused()||(w(t.element).addClass("sui-treeview-focus"),t.trigger(C))},_blur:function(e){var t=this;t._isFocused()&&(t._blurTimeout&&clearTimeout(t._blurTimeout),t._blurTimeout=setTimeout(function(){w(t.element).removeClass("sui-treeview-focus"),t.trigger(x)},100))},_selectItem:function(e,t,i){var n=this;n._isSelected(e)||i&&n.trigger("select",{element:e,item:e.data(j)}).isDefaultPrevented()||(n._selectedItem&&n._selectedItem.removeClass(d),(n._selectedItem=e).addClass(d),t&&n._activateItem(e,i))},_activateItem:function(e,t){var i=this;i._isActive(e)||(i._activeItem&&i._activeItem.removeClass(X),(i._activeItem=e).addClass(X),t&&i.trigger(I,{element:e,item:e.data(j)}))},_itemClick:function(e,t){a.ie&&setTimeout(P(this._focus,this)),this._selectItem(e,!0,!0)},_itemDblClick:function(e,t){this._selectItem(e,!0,!0),this._toggleItem(e,t)},_getCheckBox:function(e){return e.children(".sui-treeview-item-content").children(".sui-treeview-item-check").find('input[type="checkbox"]').first()},_checkboxClick:function(e){a.ie&&setTimeout(P(this._focus,this)),this._toggleCheck(e,!0)},_toggleCheck:function(e,t){this._setChecked(e,!e.data(q),t)},_setChecked:function(e,t,i){var n=this.options.checkboxes.children,a=this._getCheckBox(e);a&&0<a.length&&(w(a).swidget("CheckBox")?(a=w(a).swidget("CheckBox")).checked(t):t?a.attr(r,r):a.removeAttr(r),e.data(q,t),n&&this._updateChecked(e),i&&this.trigger("check",{element:e,item:e.data(j),checked:t}))},_updateChecked:function(e){var t=e.data(q);this._updateCheckedChildren(e,t),this._updateCheckedParents(e,t)},_updateCheckedChildren:function(e,i){var n=this;w(e).children("ul.sui-treeview-item-list").first().children(h).each(function(){var e=w(this),t=n._getCheckBox(e);w(t).swidget("CheckBox")?w(t).swidget("CheckBox").checked(i):i?t.attr(r,r):t.removeAttr(r),e.data(q,i),n._updateCheckedChildren(e,i)})},_updateCheckedParents:function(e,t){var i=this.getParent(e),n=i?i.data(q):T,a=t;i&&!1!==n&&(w(e).parent().children(h).each(function(){if(w(this).data(q)!==t)return!(a=null)}),n=this._getCheckBox(i),w(n).swidget("CheckBox")?w(n).swidget("CheckBox").checked(a):a?n.attr(r,r):n.removeAttr(r),i.data(q,a),this._updateCheckedParents(i,t))},_toggleItem:function(e,t){var i=this;a.ie&&setTimeout(P(i._focus,i)),i._isDisabled(e)||(i._isExpanded(e)?i._collapse(e,!0):i._expand(e,!0,!1))},_getToggleEl:function(e){return w(e).children(".sui-treeview-item-content").first().children(".sui-treeview-item-toggle").first()},_expand:function(e,t,i,n){var a,r=this,s=r.options.animation,l=e.children("ul.sui-treeview-item-list").first();!l||w(l).length<=0||!r.hasChildren(e)&&l.children(h).length<=0||(r._isExpanded(e)?E(n)&&n.call(r):t&&r.trigger("expand",{element:e,item:e.data(j)}).isDefaultPrevented()||(l.stop(!0,!0),l.hide(),a=r._getToggleEl(e),t=function(){l.slideDown(s.enabled&&!i?s.expandDuration:0,function(){e.addClass(J).attr(O,"true"),a.css(V,c),w(a).find("span").addClass("sui-treeview-item-toggle-expanded").removeClass("sui-treeview-item-toggle-collapsed"),E(n)&&n.call(r)})},r._isLoaded(e)?t():r._loadItem(e,i,t)))},_loadItem:function(t,i,n){var a,r=this,e=t.data(j),s=t.children("ul.sui-treeview-item-list").first(),l=t.data(K),d=r._getToggleEl(t),c=e.items||e.children;!s||w(s).length<=0||(f(c)||v(c)||c instanceof g?(w(d).addClass(M),a=g.create(c),s.data(Q,a),a.on(I+r._eventNS,function(e){w(d).removeClass(M),t.data(z,!0),r._renderItems(this,s,t,!0,i,function(){r.trigger("dataBound",{dataSource:a,element:t}),E(n)&&n.call(r)})}),a.read({parent:e})):l&&l instanceof o?(w(d).addClass(M),a=new o(l.options),s.data(Q,a),a.on(I+r._eventNS,function(e){w(d).removeClass(M),t.data(z,!0),r._renderItems(this,s,t,!0,i,function(){r.trigger("dataBound",{dataSource:a,element:t}),E(n)&&n.call(r)})}),a.read({parent:e})):(t.data(z,!0),E(n)&&n.call(r)))},_expandPathSegment:function(e,t,i,n,a){var r,s=this;e.length<n?E(a)&&a.call(s):(r=[].slice.call(e).splice(0,n),r=s.getByPath(r),s._isExpanded(r)?s._expandPathSegment(e,t,i,n+1,a):s._expand(r,t,i,function(){s._expandPathSegment(e,t,i,n+1,a)}))},_expandPath:function(e,t,i,n){this._expandPathSegment(e,t,i,1,n)},_collapse:function(e,t){var i,n=this.options.animation,a=e.children("ul.sui-treeview-item-list").first();!this._isExpanded(e)||!a||w(a).length<=0||t&&this.trigger("collapse",{element:e,item:e.data(j)}).isDefaultPrevented()||(i=this._getToggleEl(e),a.stop(!0,!0),a.slideUp(n.enabled?n.collapseDuration:0,function(){e.removeClass(J).attr(O,U),w(i).find("span").removeClass("sui-treeview-item-toggle-expanded").addClass("sui-treeview-item-toggle-collapsed")}))},_keydown:function(e){var t=this,i=!0;switch(e.keyCode){case n.UP:t._move("up",e);break;case n.DOWN:t._move(s,e);break;case n.LEFT:t._move(l,e);break;case n.RIGHT:t._move("right",e);break;case n.SPACE:t._selectedItem&&t._toggleCheck(t._selectedItem,!0);break;case n.ENTER:t._selectedItem&&t._activateItem(t._selectedItem,!0);break;default:i=!1}i&&e.preventDefault()},_getExpandedItems:function(e){var t=this;return t.element.children("."+Z).add(t.element.find("li.sui-treeview-item-list-expanded > ul.sui-treeview-list > li."+Z)).filter(function(){var e=t.getParent(w(this));return!e||t._isFullyExpanded(e)}).not("."+Y)},_getNextItem:function(e){var t=this._getExpandedItems(),i=w(t).length,e=w(t).index(e);if(e<i-1)return w(w(t).get(e+1))},_getPrevItem:function(e){var t=this._getExpandedItems(),e=w(t).index(e);if(0<e)return w(w(t).get(e-1))},_getPrevParentItem:function(e){e=this.getParent(e);if(e&&0<w(e).length)return this._isDisabled(e)?this._getPrevParentItem(e):e},_move:function(e,t){var i,n=this,a=n._selectedItem;n.getParent(w(a));if(S(a))if("up"===e)i=n._getPrevItem(a);else if(e===s)i=n._getNextItem(a);else if(e===l){if(n._isExpanded(a))return void n._collapse(a,!0,!1);i=n._getPrevParentItem(a)}else{if(!n._isExpanded(a))return void n._expand(a,!0,!1);0<(e=w(a).children("ul.sui-treeview-list").first()).length&&(i=w(e).children("li:not(."+Y+")").first())}else i=w(n.element).find(h).first();S(i)&&0<w(i).length&&n._selectItem(i,!1,!0)},_getByPath:function(e,t){var i=e.shift(),n=w(t.children(h)[i]);return 0<e.length?this._getByPath(e,n.children(u)):w(t.children(h)[i])},_getListItem:function(e){return f(e)?w(this.getByPath(e,this.element)):w(e)},getByPath:function(e){return this._getByPath([].slice.call(e),w(this.element))},isLoaded:function(e){return!0===w(this._getListItem(e)).data(z)},hasChildren:function(e){return this._hasChildren(this.getItem(e))},getItem:function(e){return w(this._getListItem(e)).data(j)},getDataSource:function(e){return w(this._getListItem(e)).data(K)},getChildrenDataSource:function(e){e=this._getListItem(e);return this.hasChildren(this.getItem(e))&&this.isLoaded(e)?w(e).children("ul.sui-treeview-item-list").first().data(Q):T},getParent:function(e){return w(this._getListItem(e)).data(G)},getDataSourceIndex:function(e){return w(this._getListItem(e)).data(H)},_getIndex:function(e){e=this._getListItem(e);return w(e).index()},getPath:function(e){for(var t=w(e),i=[];i.unshift(this._getIndex(t)),(t=this.getParent(t))&&0<t.length;);return i},updateIndetermined:function(e){var t=this,e=t._getListItem(e);S(e)?t._updateChecked(w(e)):w(t.element).children(h).each(function(){t._updateChecked(w(this))})},expanded:function(){var e=this,t=[].slice.call(arguments),i=B(t[0])?t.shift():T,n=t[0],a=e._getListItem(n);if(!S(i))return e._isExpanded(a);i?f(n)?e._expandPath([].slice.call(n),!1,!1,t[1]):e._expand(a,!1,!1,t[1]):e._collapse(a,!1)},selected:function(){var e=[].slice.call(arguments);if(!(0<e.length))return this._selectedItem;(e=this._getListItem(e[0]))&&0<e.length&&this._selectItem(e,!0,!1)},unselect:function(){this._selectedItem&&this._selectedItem.removeClass(d+" "+X),this._selectedItem=null},enabled:function(){var e=[].slice.call(arguments),t=B(e[0])?e.shift():T,e=this._getListItem(e[0]);if(e&&!(w(e).length<=0))return S(t)?void(t?e.removeClass(Y):e.addClass(Y)):!this._isDisabled(e)},checked:function(){var e=[].slice.call(arguments),t=B(e[0])?e.shift():T,e=this._getListItem(e[0]);if(e&&!(w(e).length<=0))return S(t)?void this._setChecked(e,t,!1):e.data(q)},_insertedItem:function(e,t){return e instanceof w?w(e):f(e)?this._getListItem(e):v(e)?this._renderItem(e,t).listItem:void 0},_beforeRemoveChild:function(e){e&&e.children(u).children(h).length<=1&&(w(this._getToggleEl(e)).css(V,W),e.removeClass(J))},_refreshParent:function(e){var t=w(e).parents(h).first();w(e).data(G,t&&0<t.length?t:null)},load:function(e,t){e=this._getListItem(e);e&&0<e.length&&this._loadItem(e,!1,t)},append:function(){var e,t,i,n=this,a=[].slice.call(arguments),r=a[0],s=f(r)||r instanceof w,l=a[1],d=a[2];if(S(l)){if(!((t=n._getListItem(l))&&0<w(t).length))return;i=w(t).children(u).first()}else t=null,i=n.element;(e=n._insertedItem(r,t))&&(s&&n._beforeRemoveChild(n.getParent(e)),!t||n._isExpanded(t)?(e.appendTo(i),n._refreshParent(e),E(d)&&d.call(n,e)):n.hasChildren(t)?n._isExpanded(t)?(e.appendTo(i),n._refreshParent(e),E(d)&&d.call(n,e)):n._expand(t,!1,!1,function(){e.appendTo(i),n._refreshParent(e),E(d)&&d.call(n,e)}):n._isExpanded(t)?(e.appendTo(i),n._refreshParent(e),E(d)&&d.call(n,e)):(w(n._getToggleEl(t)).css(V,c),t.removeClass(J),e.appendTo(i),n._refreshParent(e),n._expand(t,!1,!1,function(){E(d)&&d.call(n,e)})))},insertBefore:function(){var e,t=this,i=[].slice.call(arguments),n=i[0],a=f(n)||n instanceof w,i=t._getListItem(i[1]);if(i&&0<i.length&&(e=t._insertedItem(n,t.getParent(i))))return a&&t._beforeRemoveChild(t.getParent(e)),e.insertBefore(i),t._refreshParent(e),e},insertAfter:function(){var e,t=this,i=[].slice.call(arguments),n=i[0],a=f(n)||n instanceof w,i=t._getListItem(i[1]);if(i&&0<i.length&&(e=t._insertedItem(n,t.getParent(i))))return a&&t._beforeRemoveChild(t.getParent(e)),e.insertAfter(i),t._refreshParent(e),e},remove:function(e){var t=this,i=f(e)||e instanceof w,e=t._getListItem(e);t.getParent(e);return!!(e&&0<e.length)&&(t._destroyItems(w(e).children(u).first()),i&&t._beforeRemoveChild(t.getParent(e)),e.remove(),!0)},destroy:function(){var e=this,t=e.element,i=e._eventNS;e.dataSource&&e.dataSource.off(I+i),e._destroyItems(t),e._blurTimeout&&(clearTimeout(e._blurTimeout),e._blurTimeout=null),w(t).off(i).remove(),e._original.unwrap(),e._original.show(),e._original=e._wrapper=e._selectedItem=e._activeItem=null,m.fn.destroy.call(e)}});t.defaults=e,k.ui.plugin("TreeView",t)}(jQuery,shield);
!function(c,m,l,i){var h=m.ui.Widget,p=(m.Class,m.Constants,m.format),_=document,f=(c.extend,c.map,c.each,c.proxy),b=m.error,w=m.is.boolean,g=m.is.object,z=m.is.defined,r=(m.is.integer,m.to.int,m.to.number,m.support,"resize"),a="scroll",e="overflow",t="center",i={title:"",titleBarButtons:["pin","minimize","maximize","close"],content:i,cls:i,visible:!0,pinned:!1,modal:!1,width:400,height:300,resizable:{maxWidth:i,maxHeight:i,minWidth:200,minHeight:150},draggable:!0,position:i,appendToBody:!1,events:{}},n=h.extend({init:function(){h.fn.init.apply(this,arguments),z(this.initialOptions.titleBarButtons)&&(this.options.titleBarButtons=this.initialOptions.titleBarButtons);var n=this,i=n.options,t=i.cls,e=i.dieOnError,o=i.titleBarButtons,s=i.resizable,l=i.draggable,r=i.content,a=i.position,d=c(n.element),u=!1;"div"===c(d).prop("tagName").toLowerCase()?o&&0<o.length&&!m.ui.Button?b("shieldWindow: The titleBarButtons setting requires ShieldUI Button to be loaded",e):(n._eventNS="shieldWindow"+n.getInstanceId(),i.appendToBody?(d.appendTo(_.body),n._parentIsBody=!0):n._parentIsBody="body"==d.parent().prop("tagName").toLowerCase(),n._origHtml=d.html(),d.empty(),d.addClass("sui-window"+(t?" "+t:"")),d.css({width:i.width,height:i.height,position:"absolute"}),n.titleBarEl=c('<div class="sui-window-titlebar"><div class="sui-window-title">'+i.title+'</div><div class="sui-window-icons"></div></div>').appendTo(d),n._initTitleBarButtons(),n.contentEl=c('<div class="sui-window-content"></div>').appendTo(d),n._fixContent(),g(a)?d.css(a):u=!0,s&&(w(s)&&(s={}),n.resizable=new m.ui.Resizable(d,s),n.resizable.on("resized",f(n._fixContent,n))),l&&((l=w(l)?{}:l).handle=n.titleBarEl,n.draggable=new m.ui.Draggable(d,l)),n._hasIframe=!1,r?r.template?r.template.dataUrl?c.ajax({url:r.template.dataUrl,dataType:"json",success:function(i,t,e){n.content(p(r.template.body,i)),n._focusFirst()},error:function(i,t,e){n.content("Error occured while reading URL: "+t+" - "+e)}}):(n.content(p(r.template.body,r.template.data)),n._focusFirst()):r.remote?r.remote.iframe?(n._hasIframe=!0,n.content('<iframe class="sui-window-iframe" src="'+r.remote.url+'" style="border:none; border-width:0px; width:100%; height:100%;"></iframe>'),n._focusFirst()):n.contentEl.load(r.remote.url,function(){n._focusFirst()}):(n.content(n._origHtml),n._focusFirst()):(n.content(n._origHtml),n._focusFirst()),n._minimized=!1,n._maximized=!1,n._destroyed=!1,d.attr("role","dialog").attr("aria-labelledby",(o=i.title,c("<div/>").text(o).html())),n.pinned(!!i.pinned),n.visible(!!i.visible),u&&n.center()):b("shieldWindow: Underlying element is not DIV",e)},_focusFirst:function(){var i=c(this.contentEl).find(".sui-checkbox:not(.sui-checkbox-disabled), .sui-radiobutton:not(.sui-radiobutton-disabled), .sui-input:not(.sui-input-disabled), .sui-combobox:not(.sui-combobox-disabled), .sui-dropdown:not(.sui-dropdown-disabled), .sui-listbox:not(.sui-listbox-disabled), .sui-switch:not(.sui-switch-disabled), a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(":visible").first();0<c(i).length&&c(i).focus()},_initTitleBarButtons:function(){var i,t,e,n,o=this,s=o.options,l=s.titleBarButtons,r=s.modal;if(o.titleBarButtons={},l&&0<l.length){for(i=o.titleBarEl.find(".sui-window-icons"),n=0;n<l.length;n++)"pin"!==(e=l[n])&&"minimize"!==e&&"maximize"!==e&&"close"!==e||r&&"close"!==e||(t="pin"==e?"_onPin":"minimize"==e?"_onMinimize":"maximize"==e?"_onMaximize":e,o.titleBarButtons[e]=c('<button type="button"><div class="sui-sprite sui-window-button-icon sui-window-button-icon-'+e+'"></div></button>').appendTo(i).shieldButton({cls:"sui-window-button",events:{click:f(o[t],o,!0)}}).swidget());i.on("mousedown",function(i){return i.preventDefault(),i.stopPropagation(),!1})}},_destroyTitleBarButtons:function(){var i,t=this.titleBarButtons;for(i in t)t.hasOwnProperty(i)&&t[i].destroy();this.titleBarButtons={}},_createModal:function(){var i=this,t=c(i._parentIsBody?l:i.element.parent()),e=c(t).scrollTop(),t=c(t).scrollLeft();i._lockScroll(),i._modal=c('<div class="sui-window-modal"></div>').insertBefore(i.element).css({top:e,left:t})},_closeModal:function(){c(this._modal).remove(),this._unlockScroll()},_lockScroll:function(){var i=this,t=i._scrollParent=i.element.parent();i._scrollTop=c(t).scrollTop(),i._scrollLeft=c(t).scrollLeft(),i._parentOverflow=c(t).css(e),c(t).css(e,"hidden").scrollTop(i._scrollTop).scrollLeft(i._scrollLeft)},_unlockScroll:function(){c(this._scrollParent).css(e,this._parentOverflow).scrollTop(this._scrollTop).scrollLeft(this._scrollLeft)},_fixContent:function(){var i=this;c(i.contentEl).outerWidth(c(i.element).innerWidth()).innerHeight(c(i.element).innerHeight()-c(i.titleBarEl).outerHeight()),i._hasIframe&&c(i.contentEl).find(".sui-window-iframe").width(c(i.contentEl).width()).height(c(i.contentEl).height())},center:function(){var i=c(this.element);m.ui.Position.Set(i,this._parentIsBody?l:i.parent(),{source:t,target:t})},position:function(i){c(this.element).css(i)},getHeight:function(){c(this.element).css("height")},getWidth:function(){c(this.element).css("width")},getPosition:function(){var i=c(this.element);return{left:i.css("left"),top:i.css("top")}},content:function(){var i=c(this.contentEl),t=[].slice.call(arguments);if(!(0<t.length))return i.html();i.empty(),i.append(t[0])},resize:function(i){c(this.element).css(i),this._fixContent()},_scroll:function(i){var t=this,e=c(t.element),n=t._parentIsBody;t._pinned&&e.css({left:t.originalPosition.left+c(n?l:e.parent()).scrollLeft()+"px",top:t.originalPosition.top+c(n?l:e.parent()).scrollTop()+"px"})},_onPin:function(i){this.pinned(!this._pinned,i)},pinned:function(){var i,t=this,e=[].slice.call(arguments),n=c(t.element),o=t._parentIsBody,s=t.titleBarEl,s=0<s.find(".sui-window-button-icon-pin").length?s.find(".sui-window-button-icon-pin"):s.find(".sui-window-button-icon-unpin");if(e.length<=0)return t._pinned;i=!!e[0],t._pinned!=i&&(e[1]&&t.trigger("pin",{pinned:i}).isDefaultPrevented()||(t._pinned=i,s.removeClass("sui-window-button-icon-pin sui-window-button-icon-unpin"),s.addClass(t._pinned?"sui-window-button-icon-pin":"sui-window-button-icon-unpin"),t._pinned?(t.originalPosition=n.position(),c(o?l:n.parent()).on(a+"."+t._eventNS,f(t._scroll,t)),t.draggable&&t.draggable.enabled(!1)):(c(o?l:n.parent()).off(a+"."+t._eventNS),t.origininalPosition=null,t.draggable&&t.draggable.enabled(!0))))},_onMinimize:function(i){this.minimized(!0,i)},minimized:function(){var i,t=this,e=[].slice.call(arguments),n=c(t.element),o=c(t.contentEl),s=t.titleBarEl,l=t.titleBarButtons.minimize;if(e.length<=0)return t._minimized;i=!!e[0],t._minimized!=i&&(e[1]&&t.trigger("minimize",{minimized:i}).isDefaultPrevented()||(t._minimized=i,(e=0<s.find(".sui-window-button-icon-minimize").length?s.find(".sui-window-button-icon-minimize"):s.find(".sui-window-button-icon-unminimize")).removeClass("sui-window-button-icon-minimize sui-window-button-icon-unminimize"),e.addClass(t._minimized?"sui-window-button-icon-unminimize":"sui-window-button-icon-minimize"),i?(t._onMinCurrHeight=n.height(),n.height(s.height()),o.hide(),t.resizable&&t.resizable.enabled(!1)):(n.height(t._onMinCurrHeight),o.show(),t.resizable&&t.resizable.enabled(!0)),l&&l.visible(!i)))},_onMaximize:function(i){this._minimized?this.minimized(!1,i):this.maximized(!this._maximized,i)},maximized:function(){var i,t=this,e=[].slice.call(arguments),n=c(t.element),o=t._beforeMaximize,s=c(t.titleBarEl);if(!(0<e.length))return t._maximized;i=!!e[0],e=!!e[1],t._minimized&&t.minimized(!1,!1),t._maximized!=i&&(e&&t.trigger("maximize",{maximized:i}).isDefaultPrevented()||(t._maximized=!!i,(e=0<s.find(".sui-window-button-icon-maximize").length?s.find(".sui-window-button-icon-maximize"):s.find(".sui-window-button-icon-restore")).removeClass("sui-window-button-icon-maximize sui-window-button-icon-restore"),e.addClass(t._maximized?"sui-window-button-icon-restore":"sui-window-button-icon-maximize"),t._maximized?(t._beforeMaximize={top:n.css("top"),left:n.css("left"),width:n.width(),height:n.height()},t.resize({width:"100%",height:c(t._parentIsBody?l:n.parent()).height()}),t._lockScroll(),t.center(),t._parentIsBody&&c(l).on(r+"."+t._eventNS,f(t._onWinResizeMax,t))):(o&&(n.css({top:o.top,left:o.left}),t.resize({width:o.width,height:o.height})),t._unlockScroll(),t._parentIsBody&&(c(l).off(r+"."+t._eventNS),t._winResize=null))))},_onWinResizeMax:function(){c(this.element).height(c(l).height()),this._fixContent()},close:function(i){i&&this.trigger("close").isDefaultPrevented()||this.destroy()},visible:function(){var i=this,t=[].slice.call(arguments);if(!i._destroyed)return 0<t.length&&i.options.modal&&(t[0]?i._createModal():i._closeModal()),h.fn.visible.apply(i,arguments)},destroy:function(){var i=this,t=i.options.cls;i.visible(!1),i._destroyed=!0,i.resizable&&(i.resizable.destroy(),i.resizable=null),i.draggable&&(i.draggable.destroy(),i.draggable=null),i._destroyTitleBarButtons(),i.maximized(!1),i.pinned(!1),c(i.element).removeClass("sui-window"+(t?" "+t:"")),i._origHtml&&(c(i.element).html(i._origHtml),i._origHtml=null),h.fn.destroy.call(i)}});n.defaults=i,m.ui.plugin("Window",n)}(jQuery,shield,this);
!function(g,e,n){var b=e.ui.Widget,F=(e.Class,document),m=g.proxy,a=g.each,_=(g.extend,g.map),s=Math.min,o=Math.max,y=(e.guid,e.iid),I=e.error,d=e.format,L=e.is.defined,c=(e.is.boolean,e.is.integer,e.is.func,e.is.array,e.is.object,e.is.string,e.support.browser,"disabled"),h="multiple",D="change",P="dragover",S="dragleave",x="drop",r="select",C="remove",T="error",w="progress",U="load",l="upload",u="complete",E="POST",f="pending",A="uploading",v="complete",B="removing",R="error",i={pending:"&#10005;",uploading:"&#10754;",complete:"&#10005;",removing:"&#10754;",error:"&#10005;"},t="sui-upload",k=t+"-target-input",N=t+"-status",M=t+"-file",p=t+"-xhr",j=t+"-form",z=t+"-iframe",t={cls:n,enabled:!0,async:{enabled:!1,autoUpload:!1,batch:!1,save:{url:n,field:n},remove:{url:n,field:"fileNames",method:E}},multiple:!0,files:{enabled:!0,initial:n,template:"{name} ({size} bytes)"},messages:{drop:"Drop files here to upload",select:"Select files ...",upload:"Upload files"},events:{}},q=b.extend({init:function(){b.fn.init.apply(this,arguments);var e,t,i,a,s,o,n=this,l=n.options,u=l.dieOnError,p=l.cls,r=l.messages,d=l.files,f=d.enabled,d=d.initial,_=l.async.enabled;n._xhr2support=e=!!(new XMLHttpRequest).upload,n._original=i=g(n.element),"input"==i.prop("tagName").toLowerCase()&&"file"==i.attr("type").toLowerCase()?(o=n._eventNS=".shieldUpload"+n.getInstanceId(),i.wrap("<form>").closest("form").get(0).reset(),i.unwrap(),i.removeAttr(c),l.multiple?i.attr(h,h):i.removeAttr(h),n.element=t=i.wrap("<div/>").parent(),t.addClass("sui-upload"+(p?" "+p:"")),n._selectButtonDiv=i.wrap("<div/>").parent().append('<span class="sui-upload-button-text">'+r.select+"</span>").addClass("sui-upload-button"),n._dropFilesDiv=a=n._selectButtonDiv.wrap('<div class="sui-upload-dropfiles"/>').parent(),n._dropText=s=g('<div class="sui-upload-drop">'+r.drop+"</div>").appendTo(a).hide(),f&&(n._fileList=g('<ul class="sui-upload-files"/>').appendTo(t).hide()),n._uploadButtonDiv=g('<button class="sui-upload-button sui-upload-button-upload" type="button">'+r.upload+"</button>").appendTo(t).click(m(n._uploadClicked,n)).hide(),i.on(D+o,m(n._fileSelected,n)),_&&e&&(i.on(x+o,m(n._fileChanged,n)),g(F).on(P+o,function(e){e.stopPropagation(),e.preventDefault(),s.show()}).on(S+o,function(e){e.stopPropagation(),e.preventDefault(),s.hide()}).on(x+o,function(e){e.stopPropagation(),e.preventDefault(),s.hide()}),a.on(P,function(){a.addClass("sui-upload-dropfiles-hover")}).on(S,function(){a.removeClass("sui-upload-dropfiles-hover")}).on(x,m(n._fileChanged,n))),f&&d&&0<d.length&&n._addFiles(d,v),n.enabled(l.enabled)):I("shieldUpload: Must be initialized from an input with type file.",u)},refresh:function(e){this.refreshWithElement(this._original,e)},_getFiles:function(e){var t=[],i=g(e.target);return e.originalEvent.dataTransfer&&e.originalEvent.dataTransfer.files?t=e.originalEvent.dataTransfer.files:e.target.files?t=e.target.files:(t=g.makeArray(i.prop("files"))).length?!L(t[0].name)&&t[0].fileName&&a(t,function(e,t){t.name=t.fileName,t.size=t.fileSize}):t=(e=i.prop("value"))?[{name:e.replace(/^.*\\/,"")}]:[],t},_getPendingFileItems:function(){return g(this._fileList).children("li.sui-upload-file-"+f)},_getFileInfoList:function(e){return this._toFileInfoList(g(e).data(M))},_toFileInfoList:function(e){var t,i=[];if(this._isFileList(e))for(t=0;t<e.length;t++)i.push(e[t]);else i.push(e);return i},_isSingleFile:function(e){return e&&e.name},_isFileList:function(e){return e.length&&0<e.length},_fileSelected:function(e){var t,i=this,a=i.options,s=a.async.enabled,o=i._xhr2support,n=i._eventNS,l=g(e.target),e=i._getFiles(e);i.trigger(r,{files:i._toFileInfoList(e)}).isDefaultPrevented()||(t=g('<input type="file" name="'+l.attr("name")+'"/>').insertAfter(l).on(D+n,m(i._fileSelected,i)),a.multiple&&t.attr(h,h),s&&o&&t.on(x+n,m(i._fileChanged,i)),l.hide(),i._addFiles(e,f,l))},_fileChanged:function(e){var t=this,i=t._getFiles(e);e.stopPropagation(),e.preventDefault(),t._dropText.hide(),t._dropFilesDiv.removeClass("sui-upload-dropfiles-hover"),t.trigger(r,{files:t._toFileInfoList(i)}).isDefaultPrevented()||t._addFiles(i,f)},_addFiles:function(e,t,i){var a,s=this,o=s.options,n=o.async;if(o.files.enabled){if(n.enabled&&!n.batch||!o.multiple)for(a=0;a<e.length;a++)s._renderFile(e[a],t,i);else s._renderFile(e,t,i);s._afterAddRemoveFiles(),n.autoUpload&&s._uploadAllPending()}},_renderFile:function(e,t,i){var a,s=this,o=s.options,n=o.files.template,l=(s._fileList,s._toFileInfoList(e)),r=[],e=g('<li class="sui-upload-file"/>').data(M,e).appendTo(s._fileList);for(i&&e.data(k,i),a=0;a<l.length;a++)r.push(g('<span class="sui-upload-file-text"/>').append(d(n,l[a]))),a<l.length-1&&r.push(g('<span class="sui-upload-file-text-sep">,</span>'));o.async.enabled&&s._xhr2support?r.push(g('<span class="sui-upload-file-progress"/>')):e.addClass("sui-upload-file-no-progress"),r.push(g('<span class="sui-upload-file-action"/>').on("click",m(s._actionClicked,s,e))),e.append(r),s._setStatus(e,t),t===v&&s._setProgress(e,100)},_afterAddRemoveFiles:function(){var e=this.options.async,t=this._fileList,i=this._uploadButtonDiv;0<t.children("li").length?t.show():t.hide(),0<this._getPendingFileItems().length?e.enabled&&!e.autoUpload&&i.show():i.hide()},_actionClicked:function(e,t){var i=this,a=i._getStatus(e);i._enabled&&(a==A?i._abortUpload(e,t):a==B?i._abortRemove(e,t):i._removeItem(e,t))},_removeItem:function(a,s){var o,n=this,e=(n.options,n.options.async),t=e.remove,i=n._getStatus(a),l=n._getFileInfoList(a),r=a.data(k),d=n._eventNS,u={},p=n.trigger(C,{domEvent:s,status:i,files:l});p.isDefaultPrevented()||(o=function(){g(r)[0]===g(n._original)[0]?g(r).hide().attr(c,c):g(r).off(d).remove(),g(a).off(d).remove(),n._afterAddRemoveFiles()},i==f||i==R?o():i==v&&(e.enabled?(n._setStatus(a,B),u[t.field]=_(l,function(e){return e.name}),g.support.cors=!0,g.ajax({method:t.method,url:t.url,traditional:!0,data:u}).done(function(e,t,i){o()}).fail(function(e,t,i){n.trigger(T,{domEvent:s,operation:C,listItem:a,files:l,jqXHR:e,textStatus:t,errorThrown:i,responseText:i});p.isDefaultPrevented()||n._setStatus(a,R)})):o()))},_abortRemove:function(e,t){},_setStatus:function(e,t){g(e).data(N,t).removeClass("sui-upload-file-pending sui-upload-file-uploading sui-upload-file-complete sui-upload-file-removing sui-upload-file-error").addClass("sui-upload-file-"+t).children(".sui-upload-file-action").first().html(i[t]),this._afterAddRemoveFiles()},_getStatus:function(e){return g(e).data(N)},_uploadAllPending:function(){var e,t,i=this,a=(i.options.async,i._getPendingFileItems()),s=(a||[]).length,o=[];if(!(s<1)){for(t=0;t<s;t++)e=g(a[t]).data(M),i._isSingleFile(e)?o.push(e):i._isFileList(e)&&(o=o.concat(e));if(!i.trigger(l,{files:o}).isDefaultPrevented())for(t=0;t<s;t++)i._startUpload(a[t])}},_startUpload:function(e){var t,i,a,s,o,n,l=this,r=l.options.async.save,d=r.field,u=l._getFileInfoList(e);if(L(d)||(d=g(l._original).attr("name")),l._setProgress(e,0),l._xhr2support){for(i=new FormData,a=new XMLHttpRequest,n=0;n<u.length;n++)i.append(d,u[n]);g(e).data(p,a),a.open(E,r.url),a.upload.addEventListener(w,m(l._onUploadProgress,l,e)),a.upload.addEventListener(U,m(l._onUploadComplete,l,e)),a.upload.addEventListener(T,m(l._onUploadError,l,e)),a.onreadystatechange=function(){4==a.readyState&&200!=a.status&&l._onUploadError(e)},a.send(i)}else(t=g(e).data(k))&&(s="shieldUploadIframe"+y(),o=g('<iframe name="'+s+'" id="'+s+'" class="sui-upload-iframe" width="0" height="0" tabindex="-1"/>').appendTo(F.body),g(o).on(U,m(l._onIframeComplete,l,e)),r=g('<form class="sui-upload-form" method="POST" enctype="multipart/form-data" action="'+r.url+'" target="'+s+'" tabindex="-1"/>').appendTo(F.body).append(t),g(e).data(z,o).data(j,r),r.get(0).submit());l._setStatus(e,A)},_abortUpload:function(e,t){var i,a=this;a._xhr2support?((i=g(e).data(p))&&i.abort(),g(e).removeData(p)):a._cleanupIframeForm(e),a._setStatus(e,f),a._setProgress(e,0),a.trigger("abort",{listItem:e,files:a._getFileInfoList(e)})},_cleanupIframeForm:function(e){var t=g(e).data(z),i=g(e).data(j),a=g(e).data(k);t&&g(t).attr("src","about:blank"),i&&(a&&g(a).prependTo(this._selectButtonDiv),g(i).remove(),g(e).removeData(j)),t&&(g(t).remove(),g(e).removeData(z))},_setProgress:function(e,t){e=g(e).children(".sui-upload-file-progress").first();e&&0<e.length&&e.empty().append(g('<span class="sui-upload-file-progress-inner"/>').css("width",t+"%"))},_onUploadProgress:function(e,t){var i=t.lengthComputable?s(100,o(0,t.loaded/t.total*100)):n;L(i)&&this._setProgress(e,i),this.trigger(w,{domEvent:t,percentage:i,listItem:e,files:this._getFileInfoList(e)})},_onUploadComplete:function(e){this._setStatus(e,v),this._setProgress(e,100),g(e).removeData(p),this.trigger(u,{listItem:e,files:this._getFileInfoList(e)})},_onIframeComplete:function(e,t){var i=this,a=g(e).data(z),s=i._getFileInfoList(e),o="";if(a){try{o=g(a).contents().find("body").html()}catch(e){o=e?e.description||e.message:""}o?i.trigger(T,{domEvent:t,operation:l,listItem:e,files:s,status:n,responseText:o}).isDefaultPrevented()||(i._setStatus(e,R),i._setProgress(e,0)):(i._setStatus(e,v),i._setProgress(e,100),i.trigger(u,{listItem:e,files:s})),i._cleanupIframeForm(e)}},_onUploadError:function(e,t){var i,a,s=this,o=s._getStatus(e),n=g(e).data(p);o!==R&&(n&&(n.readyState,i=n.status,a=n.responseText,n.statusText),g(e).removeData(p),s.trigger(T,{domEvent:t,operation:l,listItem:e,files:s._getFileInfoList(e),status:i,responseText:a}).isDefaultPrevented()||(s._setStatus(e,R),s._setProgress(e,0)))},_uploadClicked:function(e){this._enabled&&this._uploadAllPending()},enabled:function(){var e,t=g(this.element),i=[].slice.call(arguments);if(!(0<i.length))return this._enabled;i=!!i[0],e=t.find('input[type="file"]').filter(":visible"),i?(t.removeAttr(c).removeClass("sui-upload-disabled"),g(e).removeAttr(c)):(t.attr(c,c).addClass("sui-upload-disabled"),g(e).attr(c,c)),this._enabled=i},destroy:function(){var e=this,t=g(e.element),i=g(e._original),a=e._eventNS;g(F).off(a),g(t).find('input[type="file"]').off(a),g(t).find('input[type="file"]').not(i).remove(),e._uploadButtonDiv&&(g(e._uploadButtonDiv).remove(),e._uploadButtonDiv=null),e._dropText&&(g(e._dropText).remove(),e._dropText=null),e._fileList&&(g(e._fileList).remove(),e._fileList=null),g(t).find(".sui-upload-button-text").remove(),g(i).unwrap(),g(i).unwrap(),g(i).unwrap(),e._selectButtonDiv=e._dropFilesDiv=null,g(i).removeAttr(c).show(),b.fn.destroy.call(e)}});q.defaults=t,e.ui.plugin("Upload",q)}(jQuery,shield);
!function(h,d,t,r){function u(e,t,n,i){if(i)try{e.execCommand(t,!1,n)}catch(e){}else e.execCommand(t,!1,n)}var f,n,i,o,a,s,p=d.ui.Widget,e=d.Class,m=(d.Constants.KeyCode,document),l=h.proxy,g=(h.each,h.extend),v=(h.map,h.contains),x=(h.trim,d.error,d.guid),_=d.format,y=d.is.defined,c=(d.is.boolean,d.is.integer,d.is.func),b=(d.is.array,d.is.object,d.is.string),T=d.to.string,w=d.to.int,S=d.support.browser,C="disabled",E="click",k="keyup",B="keydown",N="formatting",R="text-formatting",I="font-and-colors",L="alignment",D="lists",V="links",P="sui-editor",A="styleWithCSS",O="about",W="About",F=function(n,i){var e,o,t,r;function a(e){e?this.range=i.selection.createRange():(this.range=i.body.createTextRange(),this.collapse(!0)),this.init()}function s(){this.selection=i.selection,this.ranges=[],this.init()}!n.getSelection&&i.selection&&(e=null,n.getSelection=function(){return null!=e?e:e=new t},i.createRange=function(){return new o},i.attachEvent("onkeydown",function(){return n.getSelection().setRangeAt(0,new o(!0))}),i.attachEvent("onselectionchange",function(){var e,t;try{e=new o(!0)}catch(e){}if(e)return n.getSelection().setRangeAt(0,e),"INPUT"===(e=i.selection.createRange().parentElement()).tagName||"TEXTAREA"===e.tagName?(t=n.getSelection().getRangeAt(0),e.selectionStart=t.selectionStart,e.selectionEnd=t.selectionEnd,e.selectionEnd):void 0}),o=n.Range=(a.END_TO_END="EndToEnd",a.END_TO_START="EndToStart",a.START_TO_END="StartToEnd",a.START_TO_START="StartToStart",a.prototype.init=function(){var e,t,n,i=this,o=i.range.parentElement();return i.commonAncestorContainer=o,i.collapsed=0===i.compareBoundaryPoints("StartToEnd",i),(n=i.range.duplicate()).moveToElementText(o),e=0<i.range.text.length?0:1,t=r.findLength("StartToStart",n,i.range),t=r.findNodeByPos(o,t,e),i.startContainer=t.el,i.startOffset=t.offset,e=r.findLength("StartToEnd",n,i.range),t=r.findNodeByPos(o,e,1),i.endContainer=t.el,i.endOffset=t.offset,i.selectionStart=r.findLength("StartToStart",n,i.range,i),i.selectionEnd=r.findLength("StartToEnd",n,i.range,i),i.selectionEnd},a.prototype.select=function(){return this.range.select()},a.prototype.setStart=function(e,t){var n,i;if(r.getText(e).length>=t&&0<=t)return i=this.range.duplicate(),3===e.nodeType&&(n=r.findPosFromNode(e),i.moveToElementText(e.parentNode),i.moveStart("character",n+t)),-1===this.range.compareEndPoints("StartToEnd",i)&&this.range.setEndPoint("EndToStart",i),this.range.setEndPoint("StartToStart",i)},a.prototype.setEnd=function(e,t){var n,i;if(r.getText(e).length>=t&&0<=t)return i=this.range.duplicate(),3===e.nodeType&&(n=r.findPosFromNode(e),i.moveToElementText(e.parentNode),i.moveStart("character",n+t)),this.range.setEndPoint("EndToStart",i)},a.prototype.selectNodeContents=function(e){return this.range.moveToElementText(e)},a.prototype.collapse=function(e){return e?this.range.setEndPoint("EndToStart",this.range):this.range.setEndPoint("StartToEnd",this.range)},a.prototype.deleteContents=function(){},a.prototype.insertNode=function(e){e=e.outerHTML||h(i.createElement("div")).append(h(e).clone()).html();this.range.pasteHTML(e)},a.prototype.compareBoundaryPoints=function(e,t){return this.range.compareEndPoints(e,t.range)},a.prototype.cloneRange=function(){var e=new a;return e.range=this.range.duplicate(),e.init(),e},a.prototype.detach=function(){return delete this.range},a.prototype.getBoundingClientRect=function(){var e=this.range.getBoundingClientRect();return{width:e.right-e.left,height:e.bottom-e.top,left:e.left,right:e.right,bottom:e.bottom,top:e.top}},a.prototype.toString=function(){return this.range.text||""},a),s.prototype.init=function(){var e,t,n,i=this;if(i.rangeCount=i.ranges.length,i.rangeCount)return t=i.ranges[0],null==i.prev&&(i.prev=t),n=0===t.compareBoundaryPoints(o.END_TO_END,i.prev)?(e=(n=["end","start"])[0],n[1]):(e=(n=["start","end"])[0],n[1]),i.anchorNode=t[e+"Container"],i.anchorOffset=t[e+"Offset"],i.focusNode=t[n+"Container"],i.focusOffset=t[n+"Offset"],i.isCollapsed=i.anchorNode===i.focusNode,i.isCollapsed},s.prototype.getRangeAt=function(e){return this.ranges[e]},s.prototype.setRangeAt=function(e,t){return this.prev=this.ranges[e],this.ranges[e]=t,this.init()},s.prototype.removeAllRanges=function(){return this.ranges=[],this.init()},s.prototype.addRange=function(e){var t,n,i,o,r;for(this.ranges.push(e),this.init(),r=[],n=0,i=(o=this.ranges).length;n<i;n++)t=o[n],r.push(t.select());return r},s.prototype.deleteFromDocument=function(){return this.selection.clear()},s.prototype.toString=function(){return this.ranges[0].toString()},t=s,r={convertLineBreaks:function(e){return e.replace(/\r\n/g,"\n")},stripLineBreaks:function(e){return e.replace(/\r\n/g,"")},getText:function(e){return e.innerText||e.nodeValue},findLength:function(e,t,n,i){var o=t.duplicate();switch(e){case"StartToStart":o.setEndPoint("EndToStart",n);break;case"StartToEnd":o.setEndPoint("EndToEnd",n)}return(i?r.convertLineBreaks(o.text):r.stripLineBreaks(o.text)).length},findNodeByPos:function(e,t,n){var u;return(u=function(e,t,n,i){for(var o,r=e.childNodes,a=[],s=0,l=r.length;s<l;s++)if(o=r[s],!i.found)if(3===o.nodeType){if(i.length+o.length+n>t){i.found=!0,i.el=o,i.offset=t-i.length;break}a.push(i.length+=o.length)}else a.push(u(o,t,n,i));return a})(e,t,n=null==n?0:n,t={length:0,el:e,offset:0}),t},findPosFromNode:function(e){var t={pos:0},n=e.parentNode,l=function(e,t,n){for(var i,o=e.childNodes,r=[],a=0,s=o.length;a<s;a++)if(i=o[a],!n.found){if(i===t){n.found=!0;break}3===i.nodeType?r.push(n.pos+=i.length):i.hasChildNodes()?r.push(l(i,t,n)):r.push(void 0)}return r};return l(n,e,t),t.pos}})};(f=e.extend({init:function(e,t){var n=this;n._editor=e,b(t)?s[t]?(n.options=g(!0,{},s[t]),n._default=!0):n.options={name:t}:n.options=g(!0,{},t)},_renderButton:function(e){var t=this,n=t._editor,i=t.options,o=i.name,n=i.tooltip||n.options.messages[o]||"",o=i.cls||(t._default?"sui-editor-toolbar-icon sui-editor-toolbar-icon-"+o.toLowerCase():""),r=g(!0,{cls:"sui-editor-toolbar-item sui-editor-toolbar-button",events:{click:function(e){t.execute(e)}}},i.controlOptions);t._widget=h('<button type="button" title="'+n+'"/>').append(i.text||"<span"+(o?' class="'+o+'"':"")+">&nbsp;</span>").appendTo(e).shieldButton(r).swidget()},render:function(e){var t=this.options,n=t.template;y(n)?(n=_.call(this._editor,n,t))&&h(n).appendTo(e):this._renderButton(e)},execute:function(e){function t(){r._afterCommand(e,i,n.getState())}var n=this,i=n.options,o=i.exec,r=n._editor;c(o)?o.call(r,i,t):n.executeCommand(t)},executeCommand:function(e){var t=this.options,n=t.styleWithCSS,i=this._editor,o=i.getDoc();i.focus(!0),n&&u(o,A,!0,!0),u(o,t.name,this.getValue()),n&&u(o,A,!1,!0),c(e)&&e.call(this)},getValue:function(){},setValue:function(e){},getState:function(){var e,t,n,i,o=this.options,r=o.name,o=o.styleWithCSS,a=this._editor.getDoc(),s=!0;o&&u(a,A,!0,!0);try{s=a.queryCommandIndeterm(r)}catch(e){}try{e=a.queryCommandEnabled(r)}catch(e){}if(!s)try{t=a.queryCommandState(r)}catch(e){}try{n=a.queryCommandSupported(r)}catch(e){}try{i=a.queryCommandValue(r)}catch(e){}return o&&u(a,A,!1,!0),{enabled:e,state:t,supported:n,value:i}},getWidget:function(){return this._widget},refresh:function(){var e,t=this._widget;this._default&&((e=this.getState()).enabled?(t.visible(!0),this.setValue(e)):t.visible(!1))},destroy:function(){var e=this;e._widget&&c(e._widget.destroy)&&e._widget.destroy(),e._default=e._widget=r}})).getInstance=function(e,t){var n="";return b(t)?s[t]&&(n=s[t].controlType):n=t.controlType,new(n=n||f)(e,t)},d.ui.EditorCommand=f,n=f.extend({}),d.ui.EditorCommand=f,i=n.extend({init:function(e,t){n.fn.init.call(this,e,t),g(!0,this.options,{controlOptions:{toggle:!0}})},getValue:function(){return!!this._widget.checked()},setValue:function(e){this._widget.checked(!!e.state)}}),d.ui.EditorCommandToggleButton=i,o=f.extend({render:function(e){var t=this,n=t._editor,i=t.options,n=i.tooltip||n.options.messages[i.name]||"",i=g(!0,{cls:"sui-editor-toolbar-item sui-editor-toolbar-select",events:{itemclick:function(e){t.execute(e)}}},i.controlOptions);t._widget=h('<select title="'+n+'"/>').appendTo(e).shieldComboBox(i).swidget()},getValue:function(){return this._widget.value()},setValue:function(e){this._widget.value(e.value)}}),e=(d.ui.EditorCommandComboBox=o).extend({init:function(e,t){o.fn.init.call(this,e,t),g(!0,this.options,{controlOptions:{editable:!1}})}}),d.ui.EditorCommandDropDown=e,a=f.extend({render:function(e){var t=this,n=t._editor,i=t.options,o=i.tooltip||n.options.messages[i.name]||"",i=g(!0,{cls:"sui-editor-toolbar-item sui-editor-toolbar-colorpicker",events:{select:function(e){this.hidePalette(),t.execute(e),setTimeout(function(){n.focus()})}}},i.controlOptions);t._widget=h('<input type="color" title="'+o+'"/>').appendTo(e).shieldColorPicker(i).swidget()},getValue:function(){return this._widget.value().hex()},setValue:function(e){this._widget.value(e.value)}}),d.ui.EditorCommandColorPicker=a,s={formatBlock:{name:"formatBlock",group:N,controlType:e,controlOptions:{valueTemplate:"{value}",textTemplate:"{text}",dataSource:{data:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}]}}},removeFormat:{name:"removeFormat",group:N,controlType:n},fontName:{name:"fontName",group:I,styleWithCSS:!0,controlType:e.extend({setValue:function(e){var t,n=this._widget,i=e.value;if(n.value(i),n.selected()<0)for(t=0;t<n.dataSource.view.length;t++)if(n.dataSource.view[t].text==i){n.selected(t);break}n.selected()<0&&n.selected(0)}}),controlOptions:{valueTemplate:"{value}",textTemplate:"{text}",value:"",dataSource:{data:[{text:"Inherited",value:""},{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:'"Courier New",Courier,monospace'},{text:"Georgia",value:"Georgia,serif"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:'"Times New Roman",Times,serif'},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}]}}},fontSize:{name:"fontSize",group:I,controlType:e.extend({setValue:function(e){this._widget.value(T(e.value)||"")}}),controlOptions:{valueTemplate:"{value}",textTemplate:"{text}",value:"inherit",dataSource:{data:[{text:"Inherited",value:""},{text:"1 (8pt)",value:"1"},{text:"2 (10pt)",value:"2"},{text:"3 (12pt)",value:"3"},{text:"4 (14pt)",value:"4"},{text:"5 (18pt)",value:"5"},{text:"6 (24pt)",value:"6"},{text:"7 (36pt)",value:"7"}]}}},foreColor:{name:"foreColor",group:I,controlType:a,controlOptions:{value:"transparent",palette:"basic",showLetter:!0}},backColor:{name:"backColor",group:I,styleWithCSS:!0,controlType:a,controlOptions:{value:"transparent",palette:"basic"}},bold:{name:"bold",group:R,controlType:i},italic:{name:"italic",group:R,controlType:i},underline:{name:"underline",group:R,controlType:i},strikeThrough:{name:"strikeThrough",group:R,controlType:i},subscript:{name:"subscript",group:R,controlType:i},superscript:{name:"superscript",group:R,controlType:i},justifyLeft:{name:"justifyLeft",group:L,controlType:i.extend({setValue:function(e){this._widget.checked(!!(S.ie?e.value:e.state))}})},justifyCenter:{name:"justifyCenter",group:L,controlType:i.extend({setValue:function(e){this._widget.checked(!!(S.ie?e.value:e.state))}})},justifyRight:{name:"justifyRight",group:L,controlType:i.extend({setValue:function(e){this._widget.checked(!!(S.ie?e.value:e.state))}})},justifyFull:{name:"justifyFull",group:L,controlType:i.extend({setValue:function(e){this._widget.checked(!!(S.ie?e.value:e.state))}})},insertUnorderedList:{name:"insertUnorderedList",group:D,controlType:n},insertOrderedList:{name:"insertOrderedList",group:D,controlType:n},indent:{name:"indent",group:D,controlType:n},outdent:{name:"outdent",group:D,controlType:n},createLink:{name:"createLink",group:V,controlType:n.extend({executeCommand:function(o){var r=this,a=r._editor,s=x(),l=new d.ui.Window(h('<div id="'+s+'"/>'),{cls:"sui-editor-dialog sui-editor-dialog-insertimage",title:"Insert Hyperlink",titleBarButtons:["close"],modal:!0,height:220,content:{template:{body:function(){return[h('<div style="padding:5px; margin-top:10px;"/>').append(h("<label>URL</label>"),h('<input type="text" value="http://" id="url_'+s+'" class="sui-input" style="width:220px;"/>')),h('<div style="padding:5px;"/>').append(h("<label>Tooltip</label>"),h('<input type="text" value="" id="title_'+s+'" class="sui-input" style="width:220px;"/>')),h('<div style="padding:5px;"/>').append(h("<label>New window</label>"),h('<input type="checkbox" id="newwin_'+s+'"/>')),h('<div class="sui-editor-dialog-buttons"/>').append(new d.ui.Button(h("<button>Insert</button>"),{events:{click:function(){a.focus(!0),u(a.getDoc(),"createLink",s);var e=h(a.element).find('a[href="'+s+'"]'),t=h("#url_"+s).val(),n=(h("#text_"+s).val(),h("#title_"+s).val()),i=h("#newwin_"+s).swidget().checked();h(e).attr("href",t),n&&h(e).attr("title",n),i&&h(e).attr("target","_blank"),l.close(),h("#"+s).remove(),c(o)&&o.call(r)}}}).element,new d.ui.Button(h("<button>Cancel</button>"),{events:{click:function(){l.close(),h("#"+s).remove(),c(o)&&o.call(r)}}}).element)]}}},appendToBody:!0,events:{close:function(){h("#"+s).remove(),c(o)&&o.call(r)}}});h("#newwin_"+s).shieldCheckBox()}})},unlink:{name:"unlink",group:V,controlType:n},insertImage:{name:"insertImage",group:"insert-img",controlType:i.extend({_getSelectedImg:function(){var e=this._editor.getSelection(),e=e&&"Range"==e.type?e.anchorNode:null,t=null!=e&&0<h(e).length?(h(e).prop("tagName")+"").toLowerCase():null,n=null;return"img"==t?n=e:"p"==t||"div"==t?(n=h(e).children("img").first()).length<=0&&(n=null):"body"==t&&(n=h(e).find("img").first()).length<=0&&(n=null),n},getState:function(){var e=this._getSelectedImg(),t=i.fn.getState.call(this);return e&&(t.state=!0),t},executeCommand:function(o){var r=this,a=r._editor,s=r._getSelectedImg(),l=x(),u=new d.ui.Window(h('<div id="'+l+'"/>'),{cls:"sui-editor-dialog sui-editor-dialog-insertimage",title:"Insert Image",titleBarButtons:["close"],modal:!0,height:260,content:{template:{body:function(){var e="http://",t="",n="",i="";return s&&0<h(s).length&&(e=h(s).attr("src"),t=h(s).attr("alt"),h(s).attr("width")?n=+h(s).attr("width"):(n=h(s).get(0).style&&h(s).get(0).style.width?h(s).get(0).style.width+"":h(s).css("width")+"",/px/i.test(n)&&(n=w(n))),h(s).attr("height")?i=+h(s).attr("height"):(i=h(s).get(0).style&&h(s).get(0).style.height?h(s).get(0).style.height+"":h(s).css("height")+"",/px/i.test(i)&&(i=w(i)))),[h('<div style="padding:5px; margin-top:10px;"/>').append(h("<label>URL</label>"),h('<input type="text" value="'+e+'" id="url_'+l+'" class="sui-input" style="width:220px;"/>')),h('<div style="padding:5px;"/>').append(h("<label>Alternate text</label>"),h('<input type="text" value="'+t+'" id="alt_'+l+'" class="sui-input" style="width:220px;"/>')),h('<div style="padding:5px;"/>').append(h("<label>Width</label>"),h('<input type="text" value="'+n+'" id="width_'+l+'" class="sui-input" style="width:80px;"/>')),h('<div style="padding:5px;"/>').append(h("<label>Height</label>"),h('<input type="text" value="'+i+'" id="height_'+l+'" class="sui-input" style="width:80px;"/>')),h('<div class="sui-editor-dialog-buttons"/>').append(new d.ui.Button(h("<button>Insert</button>"),{events:{click:function(){var e=h("#alt_"+l).val(),t=h("#width_"+l).val(),n=h("#height_"+l).val(),e='<img src="'+h("#url_"+l).val()+'"'+(e?' alt="'+e+'"':""),i="";/[a-zA-Z]/.test(t)?i+=" width:"+t+";":t&&(e+=' width="'+t+'"'),/[a-zA-Z]/.test(n)?i+=" height:"+n+";":n&&(e+=' height="'+n+'"'),a.paste(e+=(i?' style="'+i+'"':"")+" />"),u.close(),h("#"+l).remove(),c(o)&&o.call(r)}}}).element,new d.ui.Button(h("<button>Cancel</button>"),{events:{click:function(){u.close(),h("#"+l).remove(),c(o)&&o.call(r)}}}).element)]}}},appendToBody:!0,events:{close:function(){h("#"+l).remove(),c(o)&&o.call(r)}}})}})},about:{name:O,group:"view-"+O,tooltip:W,controlType:n.extend({refresh:function(){},executeCommand:function(e){var t=this,n=x(),i=new d.ui.Window(h('<div id="'+n+'"/>'),{cls:"sui-editor-dialog sui-editor-dialog-"+O,title:W,titleBarButtons:["close"],modal:!0,height:170,content:{template:{body:function(){return[h('<div style="text-align:center; margin-top:30px; margin-bottom:20px;"/>').append(h("<div/>").html("&#x44;&#x65;&#x6D;&#x6F;&#x20;&#x76;&#x65;&#x72;&#x73;&#x69;&#x6F;&#x6E;&#x20;&#x62;&#x79;&#x20;&#x3C;&#x61;&#x20;&#x68;&#x72;&#x65;&#x66;&#x3D;&#x22;&#x68;&#x74;&#x74;&#x70;&#x3A;&#x2F;&#x2F;&#x77;&#x77;&#x77;&#x2E;&#x73;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x75;&#x69;&#x2E;&#x63;&#x6F;&#x6D;&#x22;&#x20;&#x74;&#x61;&#x72;&#x67;&#x65;&#x74;&#x3D;&#x22;&#x5F;&#x62;&#x6C;&#x61;&#x6E;&#x6B;&#x22;&#x3E;&#x53;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x20;&#x55;&#x49;&#x3C;&#x2F;&#x61;&#x3E;").text()),h('<div class="sui-editor-dialog-buttons"/>').append(new d.ui.Button(h("<button>Close</button>"),{events:{click:function(){i.close(),h("#"+n).remove(),c(e)&&e.call(t)}}}).element)]}}},appendToBody:!0,events:{close:function(){h("#"+n).remove(),c(e)&&e.call(t)}}})}})},viewHtml:{name:"viewHtml",group:"view-html",controlType:n.extend({refresh:function(){},executeCommand:function(e){var t=this,n=t._editor,i=x(),o=function(){h("#"+i+" textarea").outerHeight(h("#"+i+" .sui-window-content").innerHeight()-h("#"+i+" .sui-editor-dialog-buttons").outerHeight()-10)},r=new d.ui.Window(h('<div id="'+i+'"/>'),{cls:"sui-editor-dialog sui-editor-dialog-viewhtml",title:"View HTML",titleBarButtons:["close"],modal:!0,resizable:{events:{resize:o}},content:{template:{body:function(){return[h("<div/>").append(h('<textarea class="sui-input"/>').val(n.value())),h('<div class="sui-editor-dialog-buttons"/>').append(new d.ui.Button(h("<button>Update</button>"),{events:{click:function(){n.value(h("#"+i+" textarea").val()),r.close(),h("#"+i).remove(),c(e)&&e.call(t)}}}).element,new d.ui.Button(h("<button>Cancel</button>"),{events:{click:function(){r.close(),h("#"+i).remove(),c(e)&&e.call(t)}}}).element)]}}},appendToBody:!0,events:{close:function(){h("#"+i).remove(),c(e)&&e.call(t)}}});o()}})}},N={cls:r,enabled:!0,domain:r,height:r,commands:["formatBlock","bold","italic","underline","justifyLeft","justifyCenter","justifyRight","insertUnorderedList","insertOrderedList","createLink","unlink","insertImage"],messages:{formatBlock:"Format",removeFormat:"Remove formatting",fontName:"Font family",fontSize:"Font size",foreColor:"Font color",backColor:"Text highlight color",bold:"Bold",italic:"Italic",underline:"Underline",strikeThrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyLeft:"Align text left",justifyCenter:"Center text",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Add indentation",outdent:"Remove indentation",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",viewHtml:"View HTML"},events:{}},(e=p.extend({init:function(){p.fn.init.apply(this,arguments),y(this.initialOptions.commands)&&(this.options.commands=this.initialOptions.commands);var e,t,n,i=this,o=h(i.element),r=i.options,a=(r.dieOnError,r.cls),s=r.height;i._original=e=h(i.element),i._tagname=t=e.prop("tagName").toLowerCase(),n=i._eventNS=".shieldEditor"+i.getInstanceId(),"textarea"==t?(i._inline=!1,i._wrapper=e.wrap('<div class="'+P+" "+P+"-default"+(a?" "+a:"")+'"/>').parent(),e.hide(),i._iframe=t=h('<iframe class="sui-editor-iframe" frameborder="0"'+(y(s)?' height="'+s+'"':"")+"/>").appendTo(i._wrapper),i.value(e.val(),!0),i.element=o=t.contents().find("body")):(i._inline=!0,o.addClass(P+" "+P+"-inline"+(a?" "+a:"")).attr("autocorrect","off").prop("contentEditable","true")),i._initEvents(),F(i.getWin(),i.getDoc()),i._initToolbar(),h(m).on(E+n,l(i._docClick,i)),i.enabled(r.enabled)},refresh:function(e){this.refreshWithElement(this._original,e)},_isInside:function(e){var t=h(this.element),n=h(this._toolbar);return t.get(0)===e||n.get(0)===e||v(t.get(0),e)||v(n.get(0),e)},_saveSelections:function(){var e,t;if(!this._inline&&(this._savedSelections=[],(e=this.getSelection()).rangeCount))for(t=0;t<e.rangeCount;t++)this._savedSelections.push(e.getRangeAt(t))},_restoreSelections:function(){var e,t,n=this;if(!n._inline){if(n._savedSelections&&0<n._savedSelections.length)for((e=n.getSelection()).removeAllRanges(),t=0;t<n._savedSelections.length;t++)e.addRange(n._savedSelections[t]);n._savedSelections=[]}},_focus:function(e){var t=this,n=h(t.element),i=h(t._toolbar);t._inline&&(i.show(),n.addClass("sui-editor-inline-focus"),t._toolbarMoved||(i.outerWidth(n.outerWidth()),d.ui.Position.Set(i,n,{source:"left bottom",target:"left top"}))),t._restoreSelections(),t.refreshCommands()},_blur:function(e){this._saveSelections(),this._syncValue()},_click:function(e){this.refreshCommands(),this._syncValue()},_docClick:function(e){this._inline&&!this._isInside(e.target)&&this._hideToolbar()},_keydown:function(e){this.trigger(B,{domEvent:e})},_keyup:function(e){this.refreshCommands(),this._syncValue(),this.trigger(k,{domEvent:e})},_syncValue:function(){var e=[].slice.call(arguments);this._inline||(e=0<e.length?e[0]:h(this.getDoc().body).html(),h(this._original).val(e))},_hideToolbar:function(){this._toolbar.hide(),this.element.removeClass("sui-editor-inline-focus")},_initToolbar:function(){var e,t,d,c,n,i,o=this,p=o.options.commands,g=o._inline,r=[],a=[],s={};for(o._toolbar=e=h('<div class="sui-editor-toolbar"/>'),g?(e.addClass("sui-editor-toolbar-inline").appendTo(m.body),e.shieldDraggable().swidget().one("drag",function(){o._toolbarMoved=!0}),o._toolbarMoved=!1):e.prependTo(o._wrapper),i=0;i<p.length;i++)r.push(f.getInstance(o,p[i]));for(r.push(f.getInstance(o,O)),i=0;i<r.length;i++)s[r[i].options.group]||(s[r[i].options.group]=[],a.push(r[i].options.group)),s[r[i].options.group].push(r[i]);for(o._commands=[],i=0;i<a.length;i++)for(var l=a[i],u=0;u<s[l].length;u++)t=s[l][u],n=l&&d===l?c:h('<div class="sui-editor-toolbar-group"/>').appendTo(e),t.render(n),o._commands.push(t),d=l,c=n;g&&e.hide()},_afterCommand:function(e,t,n){this._syncValue(),this.refreshCommands(),this.trigger("execute",{domEvent:e,commandName:t.name,state:n})},refreshCommands:function(){var e,t=this,n=t._commands||[];if(!t._refreshInProgress){for(t.focus(!0),t._refreshInProgress=!0,e=0;e<n.length;e++)n[e].refresh();t._refreshInProgress=!1}},_getWrapper:function(){return this._inline?this.element:this._wrapper},getWin:function(){var e;return this._inline?t:(e=h(this._iframe).get(0)).contentWindow||e.contentDocument},getDoc:function(){var e;return this._inline?m:((e=h(this._iframe).get(0)).contentWindow||e.contentDocument).document},focus:function(e){var t,n=this;e&&!n._refreshInProgress&&(t=n._refreshInProgress=!0),h(n._inline?n.element:n.getDoc().body).focus(),!n._inline&&S.ie&&n._focus(),t&&(n._refreshInProgress=!1)},execute:function(e,t){u(this.getDoc(),e,t)},createRange:function(){return this.getDoc().createRange()},getRange:function(){return this.focus(!0),this.getSelection().getRangeAt(0)},getSelection:function(){return this.getWin().getSelection()},selectRange:function(e){var t=this.getSelection();this.focus(!0),t.removeAllRanges(),t.addRange(e),this.refreshCommands()},paste:function(e){var t,n,i,o=this,r=o.getDoc(),a=o.getRange();for(o.focus(!0),a.deleteContents(),(t=r.createElement("div")).innerHTML=e,n=r.createDocumentFragment();i=t.firstChild;)n.appendChild(i);a.insertNode(n),o._syncValue(),o.refreshCommands()},update:function(){this._syncValue()},_initEvents:function(e){var t=this,n=t._eventNS,i=S.ie;y(e)||(e=t._inline?t.element:i?t.getWin():t.getDoc()),i&&(t.getDoc().body.onbeforedeactivate=null),h(e).off(n).on("focus"+n,l(t._focus,t)).on(E+n,l(t._click,t)).on(B+n,l(t._keydown,t)).on(k+n,l(t._keyup,t)),i?t.getDoc().body.onbeforedeactivate=l(t._blur,t):h(e).on("blur"+n,l(t._blur,t))},_getIframeStyles:function(){return"<style>html,body{margin:0;padding:2px;}p{margin:0 0 0.5em 0;}</style>"},_getIframeScripts:function(){var e=this.options.domain;return e?'<script type="text/javascript">document.domain="'+e+'";<\/script>':""},value:function(){var e=this,t=[].slice.call(arguments),n=e._inline,i=h(e._original);if(!(0<t.length))return(n?i:h(e.getDoc().body)).html();i=t[0],t=t[1],n?h(e.element).html(i):((n=e.getDoc()).open().write('<head><meta charset="utf-8">'+e._getIframeStyles()+e._getIframeScripts()+'</head><body contenteditable="true" autocorrect="off">'+i+"</body>"),n.close(),e.element=e.getDoc().body,e._initEvents(n),t||e._syncValue(i))},hide:function(){h(this._getWrapper()).hide()},show:function(){h(this._getWrapper()).show()},isVisible:function(){return h(this._getWrapper()).is(":visible")},enabled:function(){var e=[].slice.call(arguments);if(!(0<e.length))return this._enabled;(e=!!e[0])?h(this._getWrapper()).removeAttr(C).removeClass("sui-editor-disabled"):h(this._getWrapper()).attr(C,C).addClass("sui-editor-disabled"),this._enabled=e},destroy:function(){var e,t=this,n=t.options.cls,i=t._original,o=t._eventNS;if(h(t.element).off(o),h(m).off(o),t._toolbar){if(t._commands){for(e=0;e<t._commands.length;e++)t._commands[e].destroy();t._commands=r}h(t._toolbar).off(o).remove(),t._toolbar=r}t._inline?h(i).removeAttr("autocorrect").prop("contentEditable","off").removeClass(P+" "+P+"-inline"+(n?" "+n:"")):(h(t._iframe).remove(),h(i).unwrap(),h(i).show()),t._inline=t._iframe=t._wrapper=t._toolbarMoved=t._savedSelections=r,p.fn.destroy.call(t)}})).defaults=N,d.ui.plugin("Editor",e)}(jQuery,shield,this);